<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>Hello, Blog!</title>
    <url>/2024/05/21/%E7%BB%99%20SheepMango%EF%BC%9A/</url>
    <content><![CDATA[<h1 id="ç»™-SheepMangoï¼š"><a href="#ç»™-SheepMangoï¼š" class="headerlink" title="ç»™ SheepMangoï¼š"></a>ç»™ SheepMangoï¼š</h1><h2 id="æ­å»ºäº†ä¸€ä¸ªä¸ªäººå°åšå®¢ï¼Œä¿ä½‘æ‰¾åˆ°å¥½å·¥ä½œï¼ğŸ¥­ğŸ"><a href="#æ­å»ºäº†ä¸€ä¸ªä¸ªäººå°åšå®¢ï¼Œä¿ä½‘æ‰¾åˆ°å¥½å·¥ä½œï¼ğŸ¥­ğŸ" class="headerlink" title="æ­å»ºäº†ä¸€ä¸ªä¸ªäººå°åšå®¢ï¼Œä¿ä½‘æ‰¾åˆ°å¥½å·¥ä½œï¼ğŸ¥­ğŸ"></a>æ­å»ºäº†ä¸€ä¸ªä¸ªäººå°åšå®¢ï¼Œä¿ä½‘æ‰¾åˆ°å¥½å·¥ä½œï¼ğŸ¥­ğŸ</h2>]]></content>
      <categories>
        <category>æ—¥å¸¸</category>
      </categories>
      <tags>
        <tag>â¤</tag>
      </tags>
  </entry>
  <entry>
    <title>æ ¡å›­è®ºå›é¡¹ç›®</title>
    <url>/2024/06/20/2024-06-20-%E6%A0%A1%E5%9B%AD%E8%AE%BA%E5%9D%9B%E9%A1%B9%E7%9B%AE/</url>
    <content><![CDATA[<h1 id="æ ¡å›­è®ºå›é¡¹ç›®"><a href="#æ ¡å›­è®ºå›é¡¹ç›®" class="headerlink" title="æ ¡å›­è®ºå›é¡¹ç›®"></a>æ ¡å›­è®ºå›é¡¹ç›®</h1><h2 id="åˆå§‹åŒ–é¡¹ç›®"><a href="#åˆå§‹åŒ–é¡¹ç›®" class="headerlink" title="åˆå§‹åŒ–é¡¹ç›®"></a>åˆå§‹åŒ–é¡¹ç›®</h2><p>æ–°å»ºç©ºé¡¹ç›®ï¼Œæ·»åŠ ä¸¤ä¸ªå­æ¨¡å—åç«¯forum-backendå’Œå‰ç«¯forum-frontendï¼Œå¯¼å…¥ç›¸å…³ä¾èµ–ã€‚</p>
<p><img src="C:\Users\Administrator\AppData\Roaming\Typora\typora-user-images\image-20240620105234477.png" alt="image-20240620105234477"></p>
<h2 id="é…ç½®Securityé…ç½®ç±»"><a href="#é…ç½®Securityé…ç½®ç±»" class="headerlink" title="é…ç½®Securityé…ç½®ç±»"></a>é…ç½®Securityé…ç½®ç±»</h2><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"> <span class="keyword">public</span> SecurityFilterChain <span class="title function_">filterChain</span><span class="params">(HttpSecurity http)</span>&#123;</span><br><span class="line">     <span class="comment">//lambadaè¡¨è¾¾å¼</span></span><br><span class="line">     <span class="keyword">return</span> http</span><br><span class="line">         <span class="comment">//æ‹¦æˆª</span></span><br><span class="line">         .authorizeHttpRequests(conf -&gt; conf </span><br><span class="line">                               .requestMatchers(<span class="string">&quot;/api/auth/**&quot;</span>).permitAll() <span class="comment">//apiéªŒè¯æ“ä½œå…è®¸æ”¾è¡Œ</span></span><br><span class="line">                               .anyRequest().authenticated()<span class="comment">//å…¶ä½™æ“ä½œå…¨éƒ¨æ‹¦æˆª</span></span><br><span class="line">                               )</span><br><span class="line">         <span class="comment">//ç™»å½•</span></span><br><span class="line">         .formLogin(conf -&gt; conf  </span><br><span class="line">                   .loginProcessingUrl(<span class="string">&quot;/api/auth/login&quot;</span>)</span><br><span class="line">                   .failureHandler(<span class="built_in">this</span>::onAuthenticationFailure)</span><br><span class="line">                   .successHandler(<span class="built_in">this</span>::onAuthenticationSuccess)</span><br><span class="line">                   )</span><br><span class="line">         <span class="comment">//é€€å‡ºç™»å½•</span></span><br><span class="line">         .logout(conf -&gt; conf </span><br><span class="line">                    .logoutUrl(<span class="string">&quot;/api/auth/logout&quot;</span>)</span><br><span class="line">                    .logoutSuccessHandler(<span class="built_in">this</span>::onLogoutSuccess)</span><br><span class="line">                    )</span><br><span class="line">         <span class="comment">//é…ç½®è·¨åŸŸ</span></span><br><span class="line">         .csrf(conf -&gt; disable())</span><br><span class="line">         <span class="comment">//è®¾ç½®sessionä¸ºæ— çŠ¶æ€</span></span><br><span class="line">         .sessionManagement(conf -&gt; conf </span><br><span class="line">                           .sessionCreationPolicy(SessionCreationPolicy.STATELESS))</span><br><span class="line">         .build();</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onAuthenticationSuccess</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                                    HttpServletResponse response, </span></span><br><span class="line"><span class="params">                                    Authentication authentication)</span> <span class="keyword">throws</span> IOException,ServletException&#123;</span><br><span class="line">    response.getWriter().write(<span class="string">&quot;success&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onAuthenticationFailure</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                                    HttpServletResponse response, </span></span><br><span class="line"><span class="params">                                    AuthenticationException exception)</span> <span class="keyword">throws</span> IOException,ServletException&#123;</span><br><span class="line">    response.getWriter().write(<span class="string">&quot;failure&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onLogoutSuccess</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                            HttpServletResponse response, </span></span><br><span class="line"><span class="params">                            Authentication authentication)</span> <span class="keyword">throws</span> IOException,ServletException&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™é‡Œè¿”å›çš„æ•°æ®ä¸æ ‡å‡†ï¼Œå°è£…ä¸€ä¸ªå®ä½“ç±»ï¼Œè¿”å›JSONæ ¼å¼çš„æ•°æ®</p>
<h3 id="å°è£…ä¸€ä¸ªè®°å½•ç±»å‹å®ä½“ç±»ï¼Œç”¨äºç»Ÿä¸€è¿”å›æ ¼å¼"><a href="#å°è£…ä¸€ä¸ªè®°å½•ç±»å‹å®ä½“ç±»ï¼Œç”¨äºç»Ÿä¸€è¿”å›æ ¼å¼" class="headerlink" title="å°è£…ä¸€ä¸ªè®°å½•ç±»å‹å®ä½“ç±»ï¼Œç”¨äºç»Ÿä¸€è¿”å›æ ¼å¼"></a>å°è£…ä¸€ä¸ªè®°å½•ç±»å‹å®ä½“ç±»ï¼Œç”¨äºç»Ÿä¸€è¿”å›æ ¼å¼</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">package</span> com.example.entity;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson2.JSONObject;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.fastjson2.JSONWriter;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">record</span> <span class="title class_">RestBean</span>&lt;T&gt;(<span class="type">int</span> code, T data, String message) &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; RestBean&lt;T&gt; <span class="title function_">success</span><span class="params">(T data)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">RestBean</span>&lt;&gt;(<span class="number">200</span>, data, <span class="string">&quot;è¯·æ±‚æˆåŠŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; RestBean&lt;T&gt; <span class="title function_">success</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> success(<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; RestBean&lt;T&gt; <span class="title function_">failure</span><span class="params">(<span class="type">int</span> code, String message)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">RestBean</span>&lt;&gt;(code, <span class="literal">null</span>, message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">asJsonString</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> JSONObject.toJSONString(<span class="built_in">this</span>, JSONWriter.Feature.WriteNulls);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é€šè¿‡fastjsonå°†æ•°æ®è½¬æ¢ä¸ºjsonæ ¼å¼</span></span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onAuthenticationFailure</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                                       HttpServletResponse response,</span></span><br><span class="line"><span class="params">                                       AuthenticationException exception)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">       response.setContentType(<span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">       response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">       response.getWriter().write(RestBean.failure(<span class="number">401</span>, exception.getMessage()).asJsonString());</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onAuthenticationSuccess</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                                       HttpServletResponse response,</span></span><br><span class="line"><span class="params">                                       Authentication authentication)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">       response.setContentType(<span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">       response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">       response.getWriter().write(RestBean.success().asJsonString());</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>



<p>å®ŒæˆåŸºæœ¬ç™»å½•ï¼Œå¼•å…¥JWTä»¤ç‰Œï¼Œç™»å½•ä¹‹åå‘æ”¾ä»¤ç‰Œï¼Œåˆ›å»ºä¸€ä¸ªJWTå·¥å…·ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;spring.security.jwt.key&#125;&quot;)</span></span><br><span class="line">    String key;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Value(&quot;$&#123;spring.security.jwt.expire&#125;&quot;)</span></span><br><span class="line">    <span class="type">int</span> expire;</span><br><span class="line">    <span class="comment">//åˆ›å»ºJWT</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">createJwt</span><span class="params">(UserDetails details, <span class="type">int</span> id, String username)</span>&#123;</span><br><span class="line">        <span class="type">Algorithm</span> <span class="variable">algorithm</span> <span class="operator">=</span> Algorithm.HMAC256(key);</span><br><span class="line">        <span class="type">Date</span> <span class="variable">expire</span> <span class="operator">=</span> <span class="built_in">this</span>.expireTime();</span><br><span class="line">        <span class="keyword">return</span> JWT.create()</span><br><span class="line">                .withClaim(<span class="string">&quot;id&quot;</span>, id)    <span class="comment">//è‡ªå®šä¹‰å­˜å…¥id</span></span><br><span class="line">                .withClaim(<span class="string">&quot;name&quot;</span>, username)    <span class="comment">//è‡ªå®šä¹‰å­˜å…¥name</span></span><br><span class="line">                .withClaim(<span class="string">&quot;authorities&quot;</span>, details.getAuthorities().stream().map(GrantedAuthority::getAuthority).toList())   <span class="comment">//è‡ªå®šä¹‰å­˜å…¥éªŒè¯ä¿¡æ¯</span></span><br><span class="line">                .withExpiresAt(expire)  <span class="comment">//è®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line">                .withIssuedAt(<span class="keyword">new</span> <span class="title class_">Date</span>())   <span class="comment">//è®¾ç½®é¢å‘æ—¶é—´</span></span><br><span class="line">                .sign(algorithm);   <span class="comment">//ç­¾å</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿‡æœŸæ—¶é—´è®¡ç®—</span></span><br><span class="line">    <span class="keyword">public</span> Date <span class="title function_">expireTime</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="type">Calendar</span> <span class="variable">calendar</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">        calendar.add(Calendar.HOUR, expire * <span class="number">24</span>);</span><br><span class="line">        <span class="keyword">return</span> calendar.getTime();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//åœ¨ç™»é™†æˆåŠŸæ—¶é¢å‘ï¼Œæ”¾åˆ°Securityé…ç½®ç±»ä¸­çš„onAuthenticationSuccessæ–¹æ³•ä¸­</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onAuthenticationSuccess</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                                        HttpServletResponse response,</span></span><br><span class="line"><span class="params">                                        Authentication authentication)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        response.setContentType(<span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">        response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> (User) authentication.getPrincipal();</span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> jwtUtils.createJwt(user, <span class="number">1</span>,  user.getUsername());</span><br><span class="line">        <span class="type">AuthorizeVO</span> <span class="variable">vo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AuthorizeVO</span>();</span><br><span class="line">        vo.setExpire(JWT.decode(token).getExpiresAt());</span><br><span class="line">        vo.setRole(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        vo.setToken(token);</span><br><span class="line">        vo.setUsername(user.getUsername());</span><br><span class="line">        response.getWriter().write(RestBean.success(vo).asJsonString());</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>æ–°å»ºvoå“åº”ç±»ï¼Œç»Ÿä¸€è¿”å›æ•°æ®ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç™»é™†æˆåŠŸåçš„å“åº”ç±»</span></span><br><span class="line"><span class="comment"> * è¿”å›ç”¨æˆ·åã€è§’è‰²ã€tokenã€è¿‡æœŸæ—¶é—´</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AuthorizeVO</span> &#123;</span><br><span class="line">    String username;</span><br><span class="line">    String role;</span><br><span class="line">    String token;</span><br><span class="line">    Date expire;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è®¾ç½®JWTåï¼Œéœ€è¦è¿›è¡Œæ ¡éªŒï¼ŒSpringSecurityè‡ªå¸¦ä¸€ä¸ªè¿‡æ»¤å™¨é“¾æœºåˆ¶ï¼Œéœ€è¦æŠŠæˆ‘ä»¬è‡ªå®šä¹‰çš„ä¸€äº›è§„åˆ™åŠ å…¥ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtAuthorizeFilter</span> <span class="keyword">extends</span> <span class="title class_">OncePerRequestFilter</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    JwtUtils jwtUtils;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">doFilterInternal</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                                    HttpServletResponse response,</span></span><br><span class="line"><span class="params">                                    FilterChain filterChain)</span> <span class="keyword">throws</span> ServletException, IOException &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">authorization</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;Authorization&quot;</span>);</span><br><span class="line">        <span class="type">DecodedJWT</span> <span class="variable">jwt</span> <span class="operator">=</span> jwtUtils.resolveJwt(authorization);</span><br><span class="line">        <span class="keyword">if</span> (jwt != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="comment">//jwtä¸ä¸ºç©ºï¼Œå°†ç”¨æˆ·ä¿¡æ¯è§£æå‡ºæ¥æ”¾å…¥UserDetails</span></span><br><span class="line">            <span class="type">UserDetails</span> <span class="variable">user</span> <span class="operator">=</span> jwtUtils.toUser(jwt);</span><br><span class="line">            <span class="type">UsernamePasswordAuthenticationToken</span> <span class="variable">authentication</span> <span class="operator">=</span></span><br><span class="line">                    <span class="keyword">new</span> <span class="title class_">UsernamePasswordAuthenticationToken</span>(user, <span class="literal">null</span>, user.getAuthorities());</span><br><span class="line">            authentication.setDetails(<span class="keyword">new</span> <span class="title class_">WebAuthenticationDetailsSource</span>().buildDetails(request));</span><br><span class="line">            SecurityContextHolder.getContext().setAuthentication(authentication);</span><br><span class="line">            request.setAttribute(<span class="string">&quot;id&quot;</span>, jwtUtils.toId(jwt));</span><br><span class="line">        &#125;</span><br><span class="line">        filterChain.doFilter(request, response);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//JWTUtilsä¹Ÿè¦åŠ å…¥å¯¹åº”æ–¹æ³•ï¼Œä¾›è§£æ</span></span><br><span class="line"><span class="comment">//å°†JWTè§£æä¸ºUserDetails</span></span><br><span class="line">    <span class="keyword">public</span> UserDetails <span class="title function_">toUser</span><span class="params">(DecodedJWT jwt)</span>&#123;</span><br><span class="line">        Map&lt;String, Claim&gt; claims = jwt.getClaims();</span><br><span class="line">        <span class="keyword">return</span> User</span><br><span class="line">                .withUsername(claims.get(<span class="string">&quot;name&quot;</span>).asString())</span><br><span class="line">                .password(<span class="string">&quot;*****&quot;</span>)</span><br><span class="line">                .authorities(claims.get(<span class="string">&quot;authorities&quot;</span>).asArray(String.class))</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å°†JWTè§£æä¸ºid</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">toId</span><span class="params">(DecodedJWT jwt)</span>&#123;</span><br><span class="line">        Map&lt;String, Claim&gt; claims = jwt.getClaims();</span><br><span class="line">        <span class="keyword">return</span> claims.get(<span class="string">&quot;id&quot;</span>).asInt();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ¤æ–­tokenæ˜¯å¦åˆæ³•ï¼Œåˆæ³•å³åˆ‡å‰²å¼€å¤´è‡ªå¸¦Bearerè¿”å›</span></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">convertToken</span><span class="params">(String headerToken)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(headerToken == <span class="literal">null</span> || !headerToken.startsWith(<span class="string">&quot;Bearer &quot;</span>))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">return</span> headerToken.substring(<span class="number">7</span>);</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>å®Œæˆä¹‹åï¼Œå°†è¿‡æ»¤å™¨é“¾åŠ å…¥Securityé…ç½®ç±»</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//è·¨åŸŸ</span></span><br><span class="line">                .csrf(AbstractHttpConfigurer::disable)</span><br><span class="line">                <span class="comment">//è®¾ç½®sessionæ— çŠ¶æ€</span></span><br><span class="line">                .sessionManagement(conf -&gt; conf</span><br><span class="line">                                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS))</span><br><span class="line">                <span class="comment">//æ·»åŠ è¿‡æ»¤å™¨,æ”¾åœ¨é»˜è®¤ä¹‹å‰</span></span><br><span class="line">                .addFilterBefore(jwtAuthorizeFilter, UsernamePasswordAuthenticationFilter.class)</span><br><span class="line">                .build();</span><br></pre></td></tr></table></figure>

<p>åŠ å…¥å¼‚å¸¸å¤„ç†ï¼Œç¡®ä¿jwtå¼‚å¸¸æ—¶ï¼Œè¾“å‡ºæ ¼å¼çš„åˆç†</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¿®æ”¹åçš„Securityé…ç½®</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    JwtUtils jwtUtils;</span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    JwtAuthorizeFilter jwtAuthorizeFilter;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SecurityFilterChain <span class="title function_">filterChain</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        <span class="keyword">return</span> http</span><br><span class="line">                <span class="comment">//æ‹¦æˆª</span></span><br><span class="line">                .authorizeHttpRequests(conf -&gt; conf</span><br><span class="line">                                        .requestMatchers(<span class="string">&quot;/api/auth/**&quot;</span>).permitAll()</span><br><span class="line">                                        .anyRequest().authenticated())</span><br><span class="line">                <span class="comment">//ç™»å½•</span></span><br><span class="line">                .formLogin(conf -&gt; conf</span><br><span class="line">                        .loginProcessingUrl(<span class="string">&quot;/api/auth/login&quot;</span>)</span><br><span class="line">                        .failureHandler(<span class="built_in">this</span>::onAuthenticationFailure)</span><br><span class="line">                        .successHandler(<span class="built_in">this</span>::onAuthenticationSuccess))</span><br><span class="line"></span><br><span class="line">                <span class="comment">//é€€å‡º</span></span><br><span class="line">                .logout(conf -&gt; conf</span><br><span class="line">                        .logoutUrl(<span class="string">&quot;/api/auth/logout&quot;</span>)</span><br><span class="line">                        .logoutSuccessHandler(<span class="built_in">this</span>::onLogoutSuccess))</span><br><span class="line"></span><br><span class="line">                <span class="comment">//jwtå¼‚å¸¸å¤„ç†</span></span><br><span class="line">                .exceptionHandling(conf -&gt; conf</span><br><span class="line">                        .authenticationEntryPoint(<span class="built_in">this</span>::onUnauthorized)</span><br><span class="line">                        .accessDeniedHandler(<span class="built_in">this</span>::onAccessDeny))</span><br><span class="line">                <span class="comment">//è·¨åŸŸ</span></span><br><span class="line">                .csrf(AbstractHttpConfigurer::disable)</span><br><span class="line">                <span class="comment">//è®¾ç½®sessionæ— çŠ¶æ€</span></span><br><span class="line">                .sessionManagement(conf -&gt; conf</span><br><span class="line">                                    .sessionCreationPolicy(SessionCreationPolicy.STATELESS))</span><br><span class="line">                <span class="comment">//æ·»åŠ è¿‡æ»¤å™¨,æ”¾åœ¨é»˜è®¤ä¹‹å‰</span></span><br><span class="line">                .addFilterBefore(jwtAuthorizeFilter, UsernamePasswordAuthenticationFilter.class)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onAccessDeny</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                             HttpServletResponse response,</span></span><br><span class="line"><span class="params">                             AccessDeniedException exception)</span> <span class="keyword">throws</span> IOException&#123;</span><br><span class="line">        response.setContentType(<span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">        response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        response.getWriter().write(RestBean.forbidden(exception.getMessage()).asJsonString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onUnauthorized</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                                HttpServletResponse response,</span></span><br><span class="line"><span class="params">                                AuthenticationException exception)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        response.setContentType(<span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">        response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        response.getWriter().write(RestBean.unauthorized(exception.getMessage()).asJsonString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onAuthenticationFailure</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                                        HttpServletResponse response,</span></span><br><span class="line"><span class="params">                                        AuthenticationException exception)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        response.setContentType(<span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">        response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        response.getWriter().write(RestBean.unauthorized(exception.getMessage()).asJsonString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onAuthenticationSuccess</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                                        HttpServletResponse response,</span></span><br><span class="line"><span class="params">                                        Authentication authentication)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        response.setContentType(<span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">        response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> (User) authentication.getPrincipal();</span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> jwtUtils.createJwt(user, <span class="number">1</span>,  user.getUsername());</span><br><span class="line">        <span class="type">AuthorizeVO</span> <span class="variable">vo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AuthorizeVO</span>();</span><br><span class="line">        vo.setExpire(JWT.decode(token).getExpiresAt());</span><br><span class="line">        vo.setRole(<span class="string">&quot;&quot;</span>);</span><br><span class="line">        vo.setToken(token);</span><br><span class="line">        vo.setUsername(user.getUsername());</span><br><span class="line">        response.getWriter().write(RestBean.success(vo).asJsonString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onLogoutSuccess</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                                HttpServletResponse response,</span></span><br><span class="line"><span class="params">                                Authentication authentication)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="é€€å‡ºç™»å½•"><a href="#é€€å‡ºç™»å½•" class="headerlink" title="é€€å‡ºç™»å½•"></a>é€€å‡ºç™»å½•</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ç¼–å†™jwtUtilsï¼Œlogoutåˆ é™¤jwtçš„æ–¹æ³•</span></span><br><span class="line">    <span class="comment">//ä»¤ç‰Œå¤±æ•ˆæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">invalidateJwt</span><span class="params">(String headerToken)</span>&#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> <span class="built_in">this</span>.convertToken(headerToken);</span><br><span class="line">        <span class="keyword">if</span>(token == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="comment">//è·å–ç›¸åŒçš„keyï¼ŒæŒ‡å®šç›¸åŒçš„jwtç®—æ³•</span></span><br><span class="line">        <span class="type">Algorithm</span> <span class="variable">algorithm</span> <span class="operator">=</span> Algorithm.HMAC256(key);</span><br><span class="line">        <span class="comment">//åˆ›å»ºéªŒè¯å™¨ï¼Œç”¨äºéªŒè¯JWTåˆæ³•æ€§</span></span><br><span class="line">        <span class="type">JWTVerifier</span> <span class="variable">jwtVerifier</span> <span class="operator">=</span> JWT.require(algorithm).build();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//è®¾ç½®é»‘åå•ï¼Œé€šè¿‡jwtçš„idæ¥åˆ¤æ–­ï¼Œå› æ­¤åœ¨ä¸‹é¢createçš„æ—¶å€™åŠ å…¥uuidç”Ÿæˆçš„id</span></span><br><span class="line">            <span class="type">DecodedJWT</span> <span class="variable">jwt</span> <span class="operator">=</span> jwtVerifier.verify(token);</span><br><span class="line">            <span class="type">String</span> <span class="variable">id</span> <span class="operator">=</span> jwt.getId();</span><br><span class="line">            <span class="keyword">return</span> deleteToken(id, jwt.getExpiresAt());</span><br><span class="line">        &#125;<span class="keyword">catch</span> (JWTVerificationException e)&#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è®©ä»¤ç‰Œå¤±æ•ˆ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">deleteToken</span><span class="params">(String uuid, Date time)</span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.isInvalidToken(uuid))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">Date</span> <span class="variable">now</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">        <span class="comment">//è®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">expire</span> <span class="operator">=</span> Math.max(time.getTime() - now.getTime(), <span class="number">0</span>);</span><br><span class="line">        <span class="comment">//å­˜å…¥redis</span></span><br><span class="line">        template.opsForValue().set(Const.JWT_BLACK_LIST + uuid, <span class="string">&quot;&quot;</span>, expire, TimeUnit.MILLISECONDS);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åˆ¤æ–­æ˜¯å¦å¤±æ•ˆ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">isInvalidToken</span><span class="params">(String uuid)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> Boolean.TRUE.equals(template.hasKey(Const.JWT_BLACK_LIST + uuid));</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®Œå–„Securityé…ç½®ç±»çš„onLogoutSuccessæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onLogoutSuccess</span><span class="params">(HttpServletRequest request,</span></span><br><span class="line"><span class="params">                                HttpServletResponse response,</span></span><br><span class="line"><span class="params">                                Authentication authentication)</span> <span class="keyword">throws</span> IOException, ServletException &#123;</span><br><span class="line">        response.setContentType(<span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">        response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">writer</span> <span class="operator">=</span> response.getWriter();</span><br><span class="line">        <span class="type">String</span> <span class="variable">authorization</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;Authorization&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (jwtUtils.invalidateJwt(authorization))&#123;</span><br><span class="line">            writer.write(RestBean.success(<span class="string">&quot;é€€å‡ºæˆåŠŸ&quot;</span>).asJsonString());</span><br><span class="line">        &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">            writer.write(RestBean.failure(<span class="number">400</span>, <span class="string">&quot;é€€å‡ºå¤±è´¥&quot;</span>).asJsonString());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>





]]></content>
      <categories>
        <category>é¡¹ç›®</category>
      </categories>
      <tags>
        <tag>é¡¹ç›®</tag>
        <tag>Java</tag>
        <tag>SpringBoot</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2024/06/19/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p>
<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>
]]></content>
      <categories>
        <category>start</category>
      </categories>
      <tags>
        <tag>start</tag>
      </tags>
  </entry>
  <entry>
    <title>Javaè¯­è¨€é¢è¯•</title>
    <url>/2024/06/13/Java%E9%9D%A2%E8%AF%95%E9%A2%98/</url>
    <content><![CDATA[<h1 id="Javaè¯­è¨€"><a href="#Javaè¯­è¨€" class="headerlink" title="Javaè¯­è¨€"></a>Javaè¯­è¨€</h1><h2 id="JavaåŸºç¡€"><a href="#JavaåŸºç¡€" class="headerlink" title="JavaåŸºç¡€"></a>JavaåŸºç¡€</h2><h3 id="Javaæ¦‚è¿°"><a href="#Javaæ¦‚è¿°" class="headerlink" title="Javaæ¦‚è¿°"></a>Javaæ¦‚è¿°</h3><ol>
<li>ä»€ä¹ˆæ˜¯Java</li>
<li>Javaè¯­è¨€æœ‰å“ªäº›ç‰¹ç‚¹</li>
<li>JVMï¼ŒJDKï¼ŒJREæœ‰ä»€ä¹ˆåŒºåˆ«</li>
<li>ä»€ä¹ˆæ˜¯è·¨å¹³å°æ€§ï¼ŸåŸç†æ˜¯ä»€ä¹ˆ</li>
<li>ä»€ä¹ˆæ˜¯å­—èŠ‚ç ï¼Ÿé‡‡ç”¨å­—èŠ‚ç çš„å¥½å¤„</li>
<li>ä¸ºä»€ä¹ˆè¯´Javaè¯­è¨€â€œç¼–è¯‘ä¸è§£é‡Šå¹¶å­˜â€</li>
</ol>
<h3 id="åŸºç¡€è¯­æ³•"><a href="#åŸºç¡€è¯­æ³•" class="headerlink" title="åŸºç¡€è¯­æ³•"></a>åŸºç¡€è¯­æ³•</h3><ol>
<li>Javaæœ‰å“ªäº›æ•°æ®ç±»å‹</li>
<li>è‡ªåŠ¨ç±»å‹è½¬æ¢ã€å¼ºåˆ¶ç±»å‹è½¬æ¢</li>
<li>ä»€ä¹ˆæ˜¯è‡ªåŠ¨æ‹†ç®±&#x2F;å°ç®±</li>
<li>&amp;&amp;å’Œ&amp;çš„åŒºåˆ«</li>
<li>switchèƒ½å¦ä½œç”¨åœ¨byte&#x2F;long&#x2F;Stringä¸Š</li>
<li>breakã€continueã€returnåŒºåˆ«åŠä½œç”¨</li>
<li>æœ€æœ‰æ•ˆç‡çš„æ–¹æ³•è®¡ç®—2ä¹˜ä»¥8</li>
<li>è‡ªå¢è‡ªå‡è¿ç®—</li>
</ol>
<h3 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h3><ol>
<li>é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«</li>
<li>é¢å‘å¯¹è±¡æœ‰å“ªäº›ç‰¹æ€§</li>
<li>é‡è½½å’Œé‡å†™çš„åŒºåˆ«</li>
<li>è®¿é—®ä¿®é¥°ç¬¦publicã€privateã€protectedã€ä»¥åŠé»˜è®¤åŒºåˆ«</li>
<li>thiså…³é”®å­—çš„ä½œç”¨</li>
<li>æŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«</li>
<li>æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«æœ‰å“ªäº›</li>
<li>é™æ€å˜é‡å’Œå®ä¾‹å˜é‡çš„åŒºåˆ«ï¼Ÿé™æ€æ–¹æ³•å’Œå®ä¾‹æ–¹æ³•ï¼Ÿ</li>
<li>finalå…³é”®å­—ä½œç”¨</li>
<li>finalã€finallyã€finalizeåŒºåˆ«</li>
<li>&#x3D;&#x3D;å’ŒequalsåŒºåˆ«</li>
<li>hashCodeå’Œequalsï¼Ÿ</li>
</ol>
<ul>
<li>ä»€ä¹ˆæ˜¯hashcode</li>
<li>ä¸ºä»€ä¹ˆè¦æœ‰hashcode</li>
<li>ä¸ºä»€ä¹ˆé‡å†™equalsæ—¶å¿…é¡»é‡å†™hashcodeæ–¹æ³•</li>
<li>ä¸ºä»€ä¹ˆä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„hashcodeå€¼ä»–ä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„</li>
</ul>
<p>13.Javaæ˜¯å€¼ä¼ é€’ï¼Œè¿˜æ˜¯å¼•ç”¨ä¼ é€’</p>
<p>14.æ·±æ‹·è´å’Œæµ…æ‹·è´</p>
<p>15.Javaåˆ›å»ºå¯¹è±¡æ–¹å¼</p>
<h3 id="é›†åˆåŸºç¡€"><a href="#é›†åˆåŸºç¡€" class="headerlink" title="é›†åˆåŸºç¡€"></a>é›†åˆåŸºç¡€</h3><ol>
<li>Javaä¸­å®ç°Mapæ¥å£çš„æœ‰å“ªäº›ç±»</li>
<li>éå†HashMapçš„æ–¹æ³•</li>
</ol>
<h3 id="å¸¸ç”¨ç±»"><a href="#å¸¸ç”¨ç±»" class="headerlink" title="å¸¸ç”¨ç±»"></a>å¸¸ç”¨ç±»</h3><ol>
<li>Stringæ˜¯Javaçš„åŸºæœ¬æ•°æ®ç±»å‹å—ï¼Ÿå¯ä»¥è¢«ç»§æ‰¿å—</li>
<li>Stringå’ŒString Builderã€String Buffer</li>
<li>String str1 &#x3D; new String(â€œabcâ€)å’ŒString str2 &#x3D; â€œabcâ€çš„åŒºåˆ«</li>
<li>Stringä¸æ˜¯ä¸å¯å˜ç±»å—ï¼Ÿæ‹¼æ¥å¦‚ä½•å®ç°</li>
<li>internæ–¹æ³•ä½œç”¨</li>
<li>Javaçš„åŒ…è£…ç±»æœ‰ä»€ä¹ˆç”¨ï¼Ÿä¸ºä»€ä¹ˆéœ€è¦åŒ…è£…ç±»ï¼Ÿ</li>
<li>Objectç±»å¸¸è§æ–¹æ³•</li>
</ol>
<h3 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h3><ol>
<li>Javaä¸­å¼‚å¸¸å±‚çº§ç»“æ„</li>
<li>å¼‚å¸¸çš„å¤„ç†æœºåˆ¶</li>
<li>finallyä¸€å®šä¼šæ‰§è¡Œå—</li>
</ol>
<h3 id="IO"><a href="#IO" class="headerlink" title="IO"></a>IO</h3><ol>
<li>Javaä¸­IOæµåˆ†ä¸ºå‡ ç§</li>
<li></li>
</ol>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>é¢è¯•</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>å¤šçº¿ç¨‹JUCå¹¶å‘ç¼–ç¨‹</title>
    <url>/2024/05/12/%E5%A4%9A%E7%BA%BF%E7%A8%8BJUC%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/</url>
    <content><![CDATA[<h1 id="å¤šçº¿ç¨‹JUCå¹¶å‘ç¼–ç¨‹"><a href="#å¤šçº¿ç¨‹JUCå¹¶å‘ç¼–ç¨‹" class="headerlink" title="å¤šçº¿ç¨‹JUCå¹¶å‘ç¼–ç¨‹"></a>å¤šçº¿ç¨‹JUCå¹¶å‘ç¼–ç¨‹</h1><p><strong>JUC -&gt; Java.util.concurrent</strong></p>
<p><strong>è¿›ç¨‹</strong>ï¼šåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šï¼Œå¯ä»¥åŒæ—¶è¿è¡Œå¾ˆå¤šä¸ªè¿›ç¨‹ï¼Œä¸”æ¯ä¸ªè¿›ç¨‹ä¹‹é—´ç›¸äº’éš”ç¦»äº’ä¸å¹²æ‰°ï¼ŒCPUé€šè¿‡æ—¶é—´ç‰‡è½®è½¬ç®—æ³•ç»™æ¯ä¸ªè¿›ç¨‹åˆ†é…æ—¶é—´ç‰‡ï¼Œæ—¶é—´ç‰‡ä½¿ç”¨ç»“æŸååˆ‡æ¢åˆ°ä¸‹ä¸€ä¸ªè¿›ç¨‹ç»§ç»­æ‰§è¡Œï¼Œå®ç°äº†å®è§‚ä¸Šçš„å¤šä¸ªç¨‹åºåŒæ—¶è¿è¡Œã€‚</p>
<p>ç”±äºæ¯ä¸ªè¿›ç¨‹ä¹‹é—´éƒ½æœ‰ä¸€ä¸ªè‡ªå·±çš„å†…å­˜ç©ºé—´ï¼Œè¿›ç¨‹é—´çš„é€šä¿¡å¾ˆéº»çƒ¦ï¼Œä¸”æ‰§è¡Œä¸åŒè¿›ç¨‹ä¼šäº§ç”Ÿä¸Šä¸‹æ–‡åˆ‡æ¢éå¸¸è€—æ—¶ã€‚</p>
<p><strong>çº¿ç¨‹</strong>ï¼šä¸€ä¸ªè¿›ç¨‹å¯ä»¥æ‹¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œçº¿ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œä¸­ä¸€ä¸ªå•ä¸€çš„é¡ºåºæ§åˆ¶æµç¨‹ï¼Œç°åœ¨çº¿ç¨‹æ˜¯ç¨‹åºæ‰§è¡Œæµçš„æœ€å°å•å…ƒï¼Œå„ä¸ªçº¿ç¨‹ä¹‹é—´å…±äº«ç¨‹åºçš„å†…å­˜ç©ºé—´ï¼ˆæ‰€åœ¨è¿›ç¨‹çš„å†…å­˜ç©ºé—´ï¼‰ï¼Œä¸Šä¸‹æ–‡åˆ‡æ¢çš„é€Ÿåº¦ä¹Ÿé«˜äºè¿›ç¨‹ã€‚</p>
<h2 id="å¹¶å‘ä¸å¹¶è¡Œ"><a href="#å¹¶å‘ä¸å¹¶è¡Œ" class="headerlink" title="å¹¶å‘ä¸å¹¶è¡Œ"></a>å¹¶å‘ä¸å¹¶è¡Œ</h2><h3 id="å¹¶å‘æ‰§è¡Œ"><a href="#å¹¶å‘æ‰§è¡Œ" class="headerlink" title="å¹¶å‘æ‰§è¡Œ"></a>å¹¶å‘æ‰§è¡Œ</h3><p>å¹¶å‘æ‰§è¡Œä¹Ÿæ˜¯åªèƒ½åŒä¸€æ—¶é—´å¤„ç†ä¸€ä¸ªä»»åŠ¡ï¼Œä½†æ˜¯æ¯ä¸ªä»»åŠ¡è½®æµåšï¼ˆæ—¶é—´ç‰‡è½®è½¬ï¼‰ï¼š</p>
<p>åªè¦å•æ¬¡å¤„ç†åˆ†é…æ—¶é—´å¤ŸçŸ­ï¼Œå®è§‚æ¥çœ‹ï¼Œå°±æ˜¯åŒæ—¶è¿›è¡Œã€‚</p>
<p>ä½†æ˜¯å½“éœ€è¦åŒæ—¶å¤„ç†ä¸Šç™¾ä¸Šåƒä¸ªä»»åŠ¡ï¼ŒCPUè·Ÿä¸ä¸Šçº¿ç¨‹æ•°ï¼Œæ‰€ä»¥è¦ç¨‹åºæœ‰è‰¯å¥½çš„å¹¶å‘æ€§èƒ½ï¼Œæ¥åº”å¯¹åŒä¸€æ—¶é—´å¤§é‡ä»»åŠ¡çš„å¤„ç†ã€‚å­¦ä¹ JUCå¤„ç†é«˜å¹¶å‘ã€‚</p>
<h3 id="å¹¶è¡Œæ‰§è¡Œ"><a href="#å¹¶è¡Œæ‰§è¡Œ" class="headerlink" title="å¹¶è¡Œæ‰§è¡Œ"></a>å¹¶è¡Œæ‰§è¡Œ</h3><p>çªç ´äº†åŒä¸€æ—¶é—´åªèƒ½å¤„ç†ä¸€ä¸ªä»»åŠ¡ï¼Œå¯ä»¥åŒä¸€æ—¶é—´å¤„ç†å¤šä¸ªä»»åŠ¡ã€‚</p>
<h2 id="é”æœºåˆ¶"><a href="#é”æœºåˆ¶" class="headerlink" title="é”æœºåˆ¶"></a>é”æœºåˆ¶</h2><p>é€šè¿‡<code>synchronized</code>å…³é”®å­—å®ç°é”ï¼Œä¸€å®šæ˜¯å’ŒæŸä¸ªå¯¹è±¡å…³è”çš„ï¼Œå› ä¸ºåº•å±‚éœ€è¦è·å–åˆ°ç›‘è§†å¯¹è±¡çš„ç›‘è§†å™¨<code>monitor</code>ï¼Œè·å–<code>monitor</code>ï¼Œæ‰§è¡Œä¹‹ååˆ¤æ–­æ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼Œä¼šæœ‰ä¸¤ä¸ª<code>monitorexit</code>ï¼Œå¦‚æœç¨‹åºæ­£å¸¸æ‰§è¡Œå®Œä¼šæ‰§è¡Œç¬¬ä¸€ä¸ªé‡Šæ”¾ï¼Œå¦‚æœå‘ç”Ÿå¼‚å¸¸ï¼Œä¸ºäº†é˜²æ­¢é”ä½ï¼Œä¼šä½¿ç”¨<code>athorw</code>ï¼ŒæŒ‡ä»¤æŠ›å‡ºå¼‚å¸¸å†é‡Šæ”¾ã€‚</p>
<h3 id="é‡é‡çº§é”"><a href="#é‡é‡çº§é”" class="headerlink" title="é‡é‡çº§é”"></a>é‡é‡çº§é”</h3><p>æ¯ä¸ªç­‰å¾…é”çš„çº¿ç¨‹éƒ½ä¼šè¢«å°è£…ä¸ºObjectWaiterå¯¹è±¡ï¼Œè¿›å…¥åˆ°å¦‚ä¸‹æœºåˆ¶ï¼š</p>
<p><img src="https://image.itbaima.cn/markdown/2023/03/06/OvufwzKx7l6yNMB.png" alt="image-20230306171005840"></p>
<p>ObjectWaiterä¼šå…ˆè¿›å…¥Entry Setç­‰å¾…ï¼Œå½“çº¿ç¨‹è·å–åˆ°å¯¹è±¡çš„<code>monitor</code>åè¿›å…¥The OwneråŒºåŸŸå¹¶æŠŠ<code>monitor</code>ä¸­çš„<code>owner</code>å˜é‡è®¾ç½®ä¸ºå½“å‰çº¿ç¨‹ï¼ŒåŒæ—¶<code>moniter</code>ä¸­çš„è®¡æ•°å™¨<code>count</code>åŠ ä¸€ï¼Œè‹¥çº¿ç¨‹è°ƒç”¨äº†<code>wait()</code>æ–¹æ³•ï¼Œå°†é‡Šæ”¾å½“å‰æŒæœ‰çš„<code>monitor</code>ï¼Œ<code>owner</code>å˜é‡æ¢å¤ä¸º<code>null</code>ï¼Œ<code>count</code>è‡ªå‡1ï¼ŒåŒæ—¶è¯¥çº¿ç¨‹è¿›å…¥ WaitSeté›†åˆä¸­ç­‰å¾…è¢«å”¤é†’ã€‚è‹¥å½“å‰çº¿ç¨‹æ‰§è¡Œå®Œæ¯•ä¹Ÿå°†é‡Šæ”¾<code>monitor</code>å¹¶å¤ä½å˜é‡çš„å€¼ï¼Œä»¥ä¾¿å…¶ä»–çº¿ç¨‹è¿›å…¥è·å–å¯¹è±¡çš„<code>monitor</code>ã€‚</p>
<h3 id="è½»é‡çº§é”"><a href="#è½»é‡çº§é”" class="headerlink" title="è½»é‡çº§é”"></a>è½»é‡çº§é”</h3><p>è½»é‡çº§é”çš„ç›®æ ‡æ˜¯ï¼Œåœ¨æ— ç«äº‰æƒ…å†µä¸‹ï¼Œå‡å°‘é‡é‡çº§é”äº§ç”Ÿçš„æ€§èƒ½æ¶ˆè€—ï¼ŒåŒ…æ‹¬ç³»ç»Ÿè°ƒç”¨å¼•èµ·çš„å†…æ ¸æ€ä¸ç”¨æˆ·æ€åˆ‡æ¢ã€çº¿ç¨‹é˜»å¡é€ æˆçš„çº¿ç¨‹åˆ‡æ¢ç­‰ã€‚ä»–ä¸åƒæ˜¯é‡é‡çº§é”é‚£æ ·ï¼Œéœ€è¦å‘æ“ä½œç³»ç»Ÿç”³è¯·äº’æ–¥é‡ã€‚</p>
<blockquote>
<p> CASï¼ˆCompare And Swapï¼‰æ˜¯ä¸€ç§æ— é”ç®—æ³•ï¼ˆæˆ‘ä»¬ä¹‹å‰åœ¨Springbooté˜¶æ®µå·²ç»è®²è§£è¿‡äº†ï¼‰ï¼Œå®ƒå¹¶ä¸ä¼šä¸ºå¯¹è±¡åŠ é”ï¼Œè€Œæ˜¯åœ¨æ‰§è¡Œçš„æ—¶å€™ï¼Œçœ‹çœ‹å½“å‰æ•°æ®çš„å€¼æ˜¯ä¸æ˜¯æˆ‘ä»¬é¢„æœŸçš„é‚£æ ·ï¼Œå¦‚æœæ˜¯ï¼Œé‚£å°±æ­£å¸¸è¿›è¡Œæ›¿æ¢ï¼Œå¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆå°±æ›¿æ¢å¤±è´¥ã€‚æ¯”å¦‚æœ‰ä¸¤ä¸ªçº¿ç¨‹éƒ½éœ€è¦ä¿®æ”¹å˜é‡<code>i</code>çš„å€¼ï¼Œé»˜è®¤ä¸º10ï¼Œç°åœ¨ä¸€ä¸ªçº¿ç¨‹è¦å°†å…¶ä¿®æ”¹ä¸º20ï¼Œå¦ä¸€ä¸ªè¦ä¿®æ”¹ä¸º30ï¼Œå¦‚æœä»–ä»¬éƒ½ä½¿ç”¨CASç®—æ³•ï¼Œé‚£ä¹ˆå¹¶ä¸ä¼šåŠ é”è®¿é—®<code>i</code>ï¼Œè€Œæ˜¯ç›´æ¥å°è¯•ä¿®æ”¹<code>i</code>çš„å€¼ï¼Œä½†æ˜¯åœ¨ä¿®æ”¹æ—¶ï¼Œéœ€è¦ç¡®è®¤<code>i</code>æ˜¯ä¸æ˜¯10ï¼Œå¦‚æœæ˜¯ï¼Œè¡¨ç¤ºå…¶ä»–çº¿ç¨‹è¿˜æ²¡å¯¹å…¶è¿›è¡Œä¿®æ”¹ï¼Œå¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆè¯´æ˜å…¶ä»–çº¿ç¨‹å·²ç»å°†å…¶ä¿®æ”¹ï¼Œæ­¤æ—¶ä¸èƒ½å®Œæˆä¿®æ”¹ä»»åŠ¡ï¼Œä¿®æ”¹å¤±è´¥ã€‚</p>
<p>åœ¨CPUä¸­ï¼ŒCASæ“ä½œä½¿ç”¨çš„æ˜¯<code>cmpxchg</code>æŒ‡ä»¤ï¼Œèƒ½å¤Ÿä»æœ€åº•å±‚ç¡¬ä»¶å±‚é¢å¾—åˆ°æ•ˆç‡çš„æå‡ã€‚</p>
</blockquote>
<p>å¦‚æœCASæ“ä½œå¤±è´¥äº†çš„è¯ï¼Œé‚£ä¹ˆè¯´æ˜å¯èƒ½è¿™æ—¶æœ‰çº¿ç¨‹å·²ç»è¿›å…¥è¿™ä¸ªåŒæ­¥ä»£ç å—äº†ï¼Œè¿™æ—¶è™šæ‹Ÿæœºä¼šå†æ¬¡æ£€æŸ¥å¯¹è±¡çš„Mark Wordï¼Œæ˜¯å¦æŒ‡å‘å½“å‰çº¿ç¨‹çš„æ ˆå¸§ï¼Œå¦‚æœæ˜¯ï¼Œè¯´æ˜ä¸æ˜¯å…¶ä»–çº¿ç¨‹ï¼Œè€Œæ˜¯å½“å‰çº¿ç¨‹å·²ç»æœ‰äº†è¿™ä¸ªå¯¹è±¡çš„é”ï¼Œç›´æ¥æ”¾å¿ƒå¤§èƒ†è¿›åŒæ­¥ä»£ç å—å³å¯ã€‚å¦‚æœä¸æ˜¯ï¼Œé‚£ç¡®å®æ˜¯è¢«å…¶ä»–çº¿ç¨‹å ç”¨äº†ã€‚</p>
<p>è¿™æ—¶ï¼Œè½»é‡çº§é”ä¸€å¼€å§‹çš„æƒ³æ³•å°±æ˜¯é”™çš„ï¼ˆè¿™æ—¶æœ‰å¯¹è±¡åœ¨ç«äº‰èµ„æºï¼Œå·²ç»èµŒè¾“äº†ï¼‰ï¼Œæ‰€ä»¥è¯´åªèƒ½å°†é”è†¨èƒ€ä¸ºé‡é‡çº§é”ï¼ŒæŒ‰ç…§é‡é‡çº§é”çš„æ“ä½œæ‰§è¡Œï¼ˆæ³¨æ„é”çš„è†¨èƒ€æ˜¯ä¸å¯é€†çš„ï¼‰</p>
<h3 id="åå‘é”"><a href="#åå‘é”" class="headerlink" title="åå‘é”"></a>åå‘é”</h3><p>åå‘é”å¯¹æ¯”è½»é‡çº§é”ï¼Œæ¶ˆé™¤äº†åŒæ­¥ï¼Œä¸éœ€è¦è¿›è¡ŒCASæ“ä½œã€‚å½“æŸä¸ªçº¿ç¨‹ç¬¬ä¸€æ¬¡è·å¾—é”æ—¶ï¼Œæ¥ä¸‹æ¥å¦‚æœæ²¡æœ‰å…¶ä»–çº¿ç¨‹è·å–æ­¤é”ï¼Œé‚£ä¹ˆæŒæœ‰é”çš„çº¿ç¨‹å°†ä¸éœ€è¦è¿›è¡ŒåŒæ­¥æ“ä½œã€‚</p>
<h3 id="é”æ¶ˆé™¤å’Œé”ç²—åŒ–"><a href="#é”æ¶ˆé™¤å’Œé”ç²—åŒ–" class="headerlink" title="é”æ¶ˆé™¤å’Œé”ç²—åŒ–"></a>é”æ¶ˆé™¤å’Œé”ç²—åŒ–</h3><p>æŸæ®µä»£ç åŠ äº†é”ï¼Œä½†åœ¨è¿è¡Œæ—¶æ ¹æœ¬ä¸å¯èƒ½å‡ºç°å„ä¸ªçº¿ç¨‹ä¹‹é—´èµ„æºäº‰å¤ºçš„æƒ…å†µï¼Œè¿™ç§æƒ…å†µä¸‹å®Œå…¨ä¸éœ€è¦åŠ ä»»ä½•é”æœºåˆ¶ï¼Œæ‰€ä»¥é”ä¼šè¢«æ¶ˆé™¤ã€‚é”ç²—åŒ–åˆ™æ˜¯ä»£ç ä¸­é¢‘ç¹å‡ºç°äº’æ–¥åŒæ­¥æ“ä½œï¼Œæ¯”å¦‚åœ¨ä¸€ä¸ªå¾ªç¯å†…éƒ¨åŠ é”ï¼Œè¿™æ ·æ˜æ˜¾æ˜¯éå¸¸æ¶ˆè€—æ€§èƒ½çš„ï¼Œè™šæ‹Ÿæœºä¸€æ—¦æ£€æµ‹åˆ°è¿™ç§æ“ä½œï¼Œä¼šå°†æ•´ä¸ªåŒæ­¥èŒƒå›´è¿›è¡Œæ‰©å±•ã€‚</p>
<h2 id="JMMå†…å­˜æ¨¡å‹"><a href="#JMMå†…å­˜æ¨¡å‹" class="headerlink" title="JMMå†…å­˜æ¨¡å‹"></a>JMMå†…å­˜æ¨¡å‹</h2><h3 id="Javaå†…å­˜æ¨¡å‹"><a href="#Javaå†…å­˜æ¨¡å‹" class="headerlink" title="Javaå†…å­˜æ¨¡å‹"></a>Javaå†…å­˜æ¨¡å‹</h3><p><img src="https://image.itbaima.cn/markdown/2023/03/06/UMkWgFatBoLsfr5.png" alt="image-20230306171115671"></p>
<p>JMMï¼ˆJava Memory Modelï¼‰å†…å­˜æ¨¡å‹è§„å®šå¦‚ä¸‹ï¼š</p>
<ul>
<li>æ‰€æœ‰çš„å˜é‡å…¨éƒ¨å­˜å‚¨åœ¨ä¸»å†…å­˜ï¼ˆæ³¨æ„è¿™é‡ŒåŒ…æ‹¬ä¸‹é¢æåˆ°çš„å˜é‡ï¼ŒæŒ‡çš„éƒ½æ˜¯ä¼šå‡ºç°ç«äº‰çš„å˜é‡ï¼ŒåŒ…æ‹¬æˆå‘˜å˜é‡ã€é™æ€å˜é‡ç­‰ï¼Œè€Œå±€éƒ¨å˜é‡è¿™ç§å±äºçº¿ç¨‹ç§æœ‰ï¼Œä¸åŒ…æ‹¬åœ¨å†…ï¼‰</li>
<li>æ¯æ¡çº¿ç¨‹æœ‰ç€è‡ªå·±çš„å·¥ä½œå†…å­˜ï¼ˆå¯ä»¥ç±»æ¯”CPUçš„é«˜é€Ÿç¼“å­˜ï¼‰çº¿ç¨‹å¯¹å˜é‡çš„æ‰€æœ‰æ“ä½œï¼Œå¿…é¡»åœ¨å·¥ä½œå†…å­˜ä¸­è¿›è¡Œï¼Œä¸èƒ½ç›´æ¥æ“ä½œä¸»å†…å­˜ä¸­çš„æ•°æ®ã€‚</li>
<li>ä¸åŒçº¿ç¨‹ä¹‹é—´çš„å·¥ä½œå†…å­˜ç›¸äº’éš”ç¦»ï¼Œå¦‚æœéœ€è¦åœ¨çº¿ç¨‹ä¹‹é—´ä¼ é€’å†…å®¹ï¼Œåªèƒ½é€šè¿‡ä¸»å†…å­˜å®Œæˆï¼Œæ— æ³•ç›´æ¥è®¿é—®å¯¹æ–¹çš„å·¥ä½œå†…å­˜ã€‚</li>
</ul>
<h3 id="é‡æ’åº"><a href="#é‡æ’åº" class="headerlink" title="é‡æ’åº"></a>é‡æ’åº</h3><h3 id="volatileå…³é”®å­—"><a href="#volatileå…³é”®å­—" class="headerlink" title="volatileå…³é”®å­—"></a>volatileå…³é”®å­—</h3><h3 id="è¯»å†™é”"><a href="#è¯»å†™é”" class="headerlink" title="è¯»å†™é”"></a>è¯»å†™é”</h3><h2 id="é˜Ÿåˆ—åŒæ­¥å™¨AQS"><a href="#é˜Ÿåˆ—åŒæ­¥å™¨AQS" class="headerlink" title="é˜Ÿåˆ—åŒæ­¥å™¨AQS"></a>é˜Ÿåˆ—åŒæ­¥å™¨AQS</h2>]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>æ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>JVMåƒåœ¾å›æ”¶æœºåˆ¶</title>
    <url>/2024/05/08/JVM%E5%9E%83%E5%9C%BE%E5%9B%9E%E6%94%B6%E6%9C%BA%E5%88%B6/</url>
    <content><![CDATA[<h1 id="JVMåƒåœ¾å›æ”¶æœºåˆ¶"><a href="#JVMåƒåœ¾å›æ”¶æœºåˆ¶" class="headerlink" title="JVMåƒåœ¾å›æ”¶æœºåˆ¶"></a>JVMåƒåœ¾å›æ”¶æœºåˆ¶</h1><h2 id="å¯¹è±¡å­˜æ´»åˆ¤å®šæ–¹æ³•"><a href="#å¯¹è±¡å­˜æ´»åˆ¤å®šæ–¹æ³•" class="headerlink" title="å¯¹è±¡å­˜æ´»åˆ¤å®šæ–¹æ³•"></a>å¯¹è±¡å­˜æ´»åˆ¤å®šæ–¹æ³•</h2><h3 id="å¼•ç”¨è®¡æ•°æ³•"><a href="#å¼•ç”¨è®¡æ•°æ³•" class="headerlink" title="å¼•ç”¨è®¡æ•°æ³•"></a>å¼•ç”¨è®¡æ•°æ³•</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;test&quot;</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> <span class="string">&quot;test&quot;</span>;</span><br></pre></td></tr></table></figure>

<p>åªè¦ä¸€ä¸ªå¯¹è±¡è¿˜æœ‰å®ç”¨ä»·å€¼ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡ä»–çš„å¼•ç”¨å˜é‡æ¥è¿›è¡Œæ“ä½œ</p>
<ul>
<li>æ¯ä¸ªå¯¹è±¡éƒ½åŒ…å«ä¸€ä¸ª<strong>å¼•ç”¨è®¡æ•°å™¨</strong>ï¼Œç”¨äºå­˜æ”¾å¼•ç”¨è®¡æ•°ï¼ˆè¢«å¼•ç”¨çš„æ¬¡æ•°)</li>
<li>æ¯å½“æœ‰ä¸€ä¸ªåœ°æ–¹å¼•ç”¨æ­¤å¯¹è±¡æ—¶ï¼Œå¼•ç”¨è®¡æ•°åŠ ä¸€</li>
<li>å½“å¼•ç”¨å¤±æ•ˆæ—¶ï¼Œå¼•ç”¨è®¡æ•°å‡ä¸€</li>
<li>å½“å¼•ç”¨è®¡æ•°ä¸ºé›¶æ—¶ï¼Œè¡¨ç¤ºæ­¤å¯¹è±¡ä¸å¯èƒ½å†è¢«å¼•ç”¨ã€‚</li>
</ul>
<p>å­˜åœ¨é—®é¢˜-&gt;ä¸¤ä¸ªå¯¹è±¡ç›¸äº’å¼•ç”¨ï¼Œå¼•ç”¨è®¡æ•°å™¨çš„å€¼å§‹ç»ˆä¸ºä¸€ã€‚</p>
<h3 id="å¯è¾¾æ€§åˆ†æç®—æ³•"><a href="#å¯è¾¾æ€§åˆ†æç®—æ³•" class="headerlink" title="å¯è¾¾æ€§åˆ†æç®—æ³•"></a>å¯è¾¾æ€§åˆ†æç®—æ³•</h3><p>é‡‡ç”¨ç±»ä¼¼æ ‘ç»“æ„æœç´¢æœºåˆ¶</p>
<p>æ¯ä¸ªå¯¹è±¡å¼•ç”¨éƒ½æœ‰æœºä¼šæˆä¸ºæ ‘çš„æ ¹èŠ‚ç‚¹ï¼ˆGC Rootsï¼‰ï¼Œæˆä¸ºæ ¹èŠ‚ç‚¹çš„æ¡ä»¶ï¼š</p>
<ul>
<li>ä½äºè™šæ‹Ÿæœºçš„æ ˆå¸§ä¸­çš„æœ¬åœ°å˜é‡è¡¨ç´¢å¼•ç”¨åˆ°çš„å¯¹è±¡</li>
<li>ç±»çš„é™æ€æˆå‘˜å˜é‡æ‰€å¼•ç”¨çš„å¯¹è±¡</li>
<li>æ–¹æ³•åŒºä¸­ï¼Œå¸¸é‡æ± é‡Œé¢å¼•ç”¨çš„å¯¹è±¡ï¼Œæ¯”å¦‚ä¹‹å‰çš„<code>String</code>å¯¹è±¡</li>
<li>è¢«æ·»åŠ äº†é”çš„å¯¹è±¡ï¼ˆsynchronizedï¼‰</li>
<li>è™šæ‹Ÿæœºå†…éƒ¨éœ€è¦ç”¨åˆ°çš„å¯¹è±¡</li>
</ul>
<p>ä¸€æ—¦ä»¥åŠå­˜åœ¨çš„æ ¹èŠ‚ç‚¹ä¸æ»¡è¶³å­˜åœ¨çš„æ¡ä»¶æ—¶ï¼Œæ ¹èŠ‚ç‚¹ä¸å¯¹è±¡ä¹‹é—´çš„è¿æ¥å°†æ–­å¼€ï¼Œå¦‚æœå¯¹è±¡å­˜åœ¨å¯¹å…¶å®ƒå¯¹è±¡çš„å¼•ç”¨ï¼Œä½†æ˜¯ç”±äºæ²¡æœ‰ä»»ä½•æ ¹èŠ‚ç‚¹çš„å¼•ç”¨ï¼Œæ‰€ä»¥æ­¤å¯¹è±¡å¯è¢«åˆ¤å®šä¸ºä¸å†ä½¿ç”¨ã€‚</p>
<h3 id="æœ€ç»ˆåˆ¤å®š"><a href="#æœ€ç»ˆåˆ¤å®š" class="headerlink" title="æœ€ç»ˆåˆ¤å®š"></a>æœ€ç»ˆåˆ¤å®š</h3><p>ç»å†äº†å¯è¾¾æ€§åˆ†æç®—æ³•ååŸºæœ¬å¯èƒ½åˆ¤æ–­å“ªäº›å¯¹è±¡èƒ½å¤Ÿè¢«å›æ”¶ï¼Œä½†æ˜¯å¹¶ä¸ä»£è¡¨æ­¤å¯¹è±¡ä¸€å®šä¼šè¢«å›æ”¶ï¼Œä¼šåœ¨æœ€ç»ˆåˆ¤å®šé˜¶æ®µè¿›è¡ŒæŒ½ç•™ã€‚</p>
<p><code>Object</code>ç±»ä¸­çš„<code>finalize()</code>æ–¹æ³•å°±æ˜¯æœ€ç»ˆåˆ¤å®šæ–¹æ³•ï¼Œå¦‚æœå­ç±»é‡å†™äº†æ­¤æ–¹æ³•ï¼Œé‚£ä¹ˆå­ç±»å¯¹è±¡åœ¨è¢«åˆ¤å®šä¸ºå¯å›æ”¶æ—¶ï¼Œä¼šæ‰§è¡Œè¿™ä¸ªæ–¹æ³•è¿›è¡ŒäºŒæ¬¡ç¡®è®¤ã€‚å¦‚æœåœ¨äºŒæ¬¡ç¡®è®¤åå¯¹è±¡ä¸æ»¡è¶³å¯å›æ”¶æ¡ä»¶ï¼Œé‚£ä¹ˆå¯¹è±¡ä¸ä¼šè¢«å›æ”¶ã€‚</p>
<p>åªèƒ½æ‰§è¡Œä¸€æ¬¡ï¼Œç¬¬äºŒæ¬¡æ‰§è¡Œçš„æ—¶å€™ä¼šè·³è¿‡ï¼Œç›´æ¥å›æ”¶ã€‚</p>
<h2 id="åƒåœ¾å›æ”¶ç®—æ³•"><a href="#åƒåœ¾å›æ”¶ç®—æ³•" class="headerlink" title="åƒåœ¾å›æ”¶ç®—æ³•"></a>åƒåœ¾å›æ”¶ç®—æ³•</h2><h3 id="åˆ†ä»£æ”¶é›†æœºåˆ¶"><a href="#åˆ†ä»£æ”¶é›†æœºåˆ¶" class="headerlink" title="åˆ†ä»£æ”¶é›†æœºåˆ¶"></a>åˆ†ä»£æ”¶é›†æœºåˆ¶</h3><p>Javaè™šæ‹Ÿæœºå°†å †å†…å­˜åˆ’åˆ†ä¸º<strong>æ–°ç”Ÿä»£</strong>ï¼Œ<strong>è€å¹´ä»£</strong>ï¼Œ<strong>æ°¸ä¹…ä»£</strong>ã€‚</p>
<p><img src="https://image.itbaima.cn/markdown/2023/03/06/OZrKbUm39lfaAgv.png" alt="image-20230306165311823"></p>
<p>æ–°åˆ›å»ºçš„å¯¹è±¡ä¼šæ”¾å…¥EdenåŒºï¼Œè¿›è¡Œä¸€æ¬¡æ‰«æï¼Œå¼•ç”¨ä¸ºç©ºçš„å¯¹è±¡ä¼šä¸¢æ‰ï¼Œå‰©ä¸‹å­˜æ´»çš„å¯¹è±¡è½¬ç§»åˆ°SurvivoråŒºï¼Œä¸€å¼€å§‹Fromå’ŒToåŒºéƒ½æ˜¯ç©ºçš„ï¼Œæ‰€æœ‰Edenå­˜æ´»çš„å¯¹è±¡è¿›å…¥FromåŒºï¼Œæœ€åFromå’ŒToè¿›è¡Œä¸€æ¬¡äº¤æ¢ã€‚</p>
<p>ä¸‹ä¸€æ¬¡åƒåœ¾å›æ”¶ï¼Œæ“ä½œä¸ä¸Šæ¬¡ä¸€æ ·ï¼Œä½†æ˜¯FromåŒºä¸­æœ‰å¯¹è±¡äº†ï¼Œå› æ­¤EdenåŒºä¸­çš„å¯¹è±¡å¤åˆ¶åˆ°FromåŒºåï¼Œä¼šå¯¹ToåŒºçš„å¯¹è±¡è¿›è¡Œåˆ¤å®šï¼ˆæ¯ç»å†ä¸€æ¬¡åƒåœ¾å›æ”¶ï¼Œå¹´é¾„+1ï¼Œå¯¹è±¡å¹´é¾„å¤§äº15ï¼Œä¼šç›´æ¥è¿›å…¥è€å¹´ä»£ï¼Œå¦åˆ™ä¼šç§»å…¥FromåŒºï¼‰</p>
<p>åƒåœ¾æ”¶é›†åˆ†ä¸ºï¼š</p>
<ul>
<li>Minor GC - æ¬¡è¦åƒåœ¾å›æ”¶ï¼Œä¸»è¦è¿›è¡Œæ–°ç”Ÿä»£åŒºåŸŸåƒåœ¾æ”¶é›†<ul>
<li>è§¦å‘æ¡ä»¶ï¼šæ–°ç”Ÿä»£EdenåŒºå®¹é‡æ»¡</li>
</ul>
</li>
<li>Major GCï¼šä¸»è¦åƒåœ¾å›æ”¶ï¼Œä¸»è¦å¯¹è€å¹´ä»£åƒåœ¾æ”¶é›†</li>
<li>Full GCï¼šå®Œå…¨åƒåœ¾å›æ”¶ï¼Œå¯¹æ•´ä¸ªJavaå †å†…å­˜å’Œæ–¹æ³•åŒºè¿›è¡Œåƒåœ¾å›æ”¶ã€‚<ul>
<li>è§¦å‘æ¡ä»¶ï¼š<ul>
<li>æ¯æ¬¡æ™‹å‡åˆ°è€å¹´ä»£çš„å¯¹è±¡å¹³å‡å¤§å°å¤§äºè€å¹´ä»£å‰©ä½™ç©ºé—´</li>
<li>Minor GCåå­˜æ´»çš„å¯¹è±¡è¶…è¿‡äº†è€å¹´ä»£å‰©ä½™ç©ºé—´</li>
<li>æ°¸ä¹…ä»£ç©ºé—´ä¸è¶³ï¼ˆJDK8ä¹‹å‰ï¼‰</li>
<li>æ‰‹åŠ¨è°ƒç”¨System.gc()æ–¹æ³•</li>
</ul>
</li>
</ul>
</li>
</ul>
<h3 id="ç©ºé—´åˆ†é…æ‹…ä¿"><a href="#ç©ºé—´åˆ†é…æ‹…ä¿" class="headerlink" title="ç©ºé—´åˆ†é…æ‹…ä¿"></a>ç©ºé—´åˆ†é…æ‹…ä¿</h3><h3 id="æ ‡è®°-æ¸…é™¤ç®—æ³•"><a href="#æ ‡è®°-æ¸…é™¤ç®—æ³•" class="headerlink" title="æ ‡è®°-æ¸…é™¤ç®—æ³•"></a>æ ‡è®°-æ¸…é™¤ç®—æ³•</h3><p>æ ‡è®°æ‰€æœ‰éœ€è¦å›æ”¶çš„å¯¹è±¡ï¼Œç„¶åå†ä¾æ¬¡å›æ”¶è¢«æ ‡è®°çš„å¯¹è±¡ï¼Œæˆ–è€…æ˜¯æ ‡è®°æ‰€æœ‰ä¸éœ€è¦å›æ”¶çš„å¯¹è±¡ï¼Œå›æ”¶æ²¡æœ‰è¢«æ ‡è®°çš„å¯¹è±¡ã€‚</p>
<p>ç¼ºç‚¹ï¼šå¦‚æœå­˜åœ¨å¤§é‡å¯¹è±¡ï¼Œå°±ä¼šå­˜åœ¨å¤§é‡æ ‡è®°ï¼Œå¤§è§„æ¨¡æ¸…é™¤åè¿ç»­çš„å†…å­˜ç©ºé—´å¯èƒ½ä¼šå‡ºç°è®¸å¤šç©ºè¢­ï¼Œç¢ç‰‡åŒ–å¯¼è‡´è¿ç»­å†…å­˜ç©ºé—´åˆ©ç”¨ç‡é™ä½ã€‚</p>
<h3 id="æ ‡è®°-å¤åˆ¶ç®—æ³•"><a href="#æ ‡è®°-å¤åˆ¶ç®—æ³•" class="headerlink" title="æ ‡è®°-å¤åˆ¶ç®—æ³•"></a>æ ‡è®°-å¤åˆ¶ç®—æ³•</h3><p>å°†å®¹é‡åˆ†ä¸ºå¤§å°ç›¸åŒçš„ä¸¤å—åŒºåŸŸï¼Œæ¯æ¬¡æ¸…é™¤åƒåœ¾åå°†å­˜æ´»çš„å¯¹è±¡å…¨éƒ¨å¤åˆ¶åˆ°å¦ä¸€ä¸ªåŒºåŸŸï¼Œè§£å†³äº†ç¢ç‰‡åŒ–é—®é¢˜ã€‚é€‚ç”¨äºæ–°ç”Ÿä»£</p>
<h3 id="æ ‡è®°-æ•´ç†ç®—æ³•"><a href="#æ ‡è®°-æ•´ç†ç®—æ³•" class="headerlink" title="æ ‡è®°-æ•´ç†ç®—æ³•"></a>æ ‡è®°-æ•´ç†ç®—æ³•</h3><p>æ ‡è®°å¯¹è±¡åï¼Œå°†æ‰€æœ‰å¾…å›æ”¶çš„å¯¹è±¡æ•´é½æ’åˆ—ï¼Œå°†åç»­å¯¹è±¡å…¨éƒ¨æ¸…é™¤ã€‚</p>
<h2 id="åƒåœ¾æ”¶é›†å™¨å®ç°"><a href="#åƒåœ¾æ”¶é›†å™¨å®ç°" class="headerlink" title="åƒåœ¾æ”¶é›†å™¨å®ç°"></a>åƒåœ¾æ”¶é›†å™¨å®ç°</h2><h3 id="Serialæ”¶é›†å™¨"><a href="#Serialæ”¶é›†å™¨" class="headerlink" title="Serialæ”¶é›†å™¨"></a>Serialæ”¶é›†å™¨</h3><p>å•çº¿ç¨‹ï¼Œä¼šç»ˆæ­¢å½“å‰ç”¨æˆ·çº¿ç¨‹ï¼Œæ”¶é›†å®Œåç»§ç»­çº¿ç¨‹</p>
<h3 id="Parallel-Scavenge-Parallel-Oldæ”¶é›†å™¨"><a href="#Parallel-Scavenge-Parallel-Oldæ”¶é›†å™¨" class="headerlink" title="Parallel Scavenge&#x2F;Parallel Oldæ”¶é›†å™¨"></a>Parallel Scavenge&#x2F;Parallel Oldæ”¶é›†å™¨</h3><p>JDK8ä½¿ç”¨è¿™ç§ç»„åˆæ–¹å¼åƒåœ¾å›æ”¶æ–¹æ¡ˆ</p>
<h3 id="CMSæ”¶é›†å™¨"><a href="#CMSæ”¶é›†å™¨" class="headerlink" title="CMSæ”¶é›†å™¨"></a>CMSæ”¶é›†å™¨</h3><h3 id="Garbage-Firstï¼ˆG1ï¼‰æ”¶é›†å™¨"><a href="#Garbage-Firstï¼ˆG1ï¼‰æ”¶é›†å™¨" class="headerlink" title="Garbage Firstï¼ˆG1ï¼‰æ”¶é›†å™¨"></a>Garbage Firstï¼ˆG1ï¼‰æ”¶é›†å™¨</h3><h2 id="å…ƒç©ºé—´"><a href="#å…ƒç©ºé—´" class="headerlink" title="å…ƒç©ºé—´"></a>å…ƒç©ºé—´</h2><p>JDK8æ—¶ç›´æ¥å°†æœ¬åœ°å†…å­˜ä½œä¸ºå…ƒç©ºé—´ï¼ˆ<strong>Metaspace</strong>ï¼‰çš„åŒºåŸŸï¼Œç‰©ç†å†…å­˜æœ‰å¤šå¤§ï¼Œå…ƒç©ºé—´å†…å­˜å°±å¯ä»¥æœ‰å¤šå¤§</p>
<p><img src="https://image.itbaima.cn/markdown/2023/03/06/2RD3AnPvbh1lQ5N.png" alt="image-20230306165703340"></p>
<h2 id="å…¶ä»–å¼•ç”¨ç±»å‹"><a href="#å…¶ä»–å¼•ç”¨ç±»å‹" class="headerlink" title="å…¶ä»–å¼•ç”¨ç±»å‹"></a>å…¶ä»–å¼•ç”¨ç±»å‹</h2><p>å¼ºå¼•ç”¨ï¼š<code>Object o = new Object()</code>ï¼ŒJVMä¸ä¼šéšæ„å›æ”¶å¼ºå¼•ç”¨å¯¹è±¡</p>
<h4 id="è½¯å¼•ç”¨"><a href="#è½¯å¼•ç”¨" class="headerlink" title="è½¯å¼•ç”¨"></a>è½¯å¼•ç”¨</h4><p>å†…å­˜ç©ºé—´ä¸è¶³æ—¶ï¼Œè½¯å¼•ç”¨æŒ‡å‘å¯¹è±¡ä¼šè¢«å›æ”¶ï¼Œget()æ–¹æ³•å¾—åˆ°nullï¼Œå¹¶ä¸”è½¯å¼•ç”¨å¯¹è±¡æœ¬èº«è¢«ä¸¢è¿›é˜Ÿåˆ—ä¸­</p>
<h4 id="å¼±å¼•ç”¨"><a href="#å¼±å¼•ç”¨" class="headerlink" title="å¼±å¼•ç”¨"></a>å¼±å¼•ç”¨</h4><p>è¿›è¡Œåƒåœ¾å›æ”¶æ—¶ï¼Œä¸ç®¡å†…å­˜ç©ºé—´æ˜¯å¦å……è¶³ï¼Œéƒ½ä¼šå›æ”¶</p>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>JVM</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>é¢è¯•</tag>
      </tags>
  </entry>
  <entry>
    <title>NIO</title>
    <url>/2024/05/08/NIO/</url>
    <content><![CDATA[<h1 id="NIO"><a href="#NIO" class="headerlink" title="NIO"></a>NIO</h1><h2 id="ç¼“å†²åŒº"><a href="#ç¼“å†²åŒº" class="headerlink" title="ç¼“å†²åŒº"></a>ç¼“å†²åŒº</h2><h3 id="Bufferç±»"><a href="#Bufferç±»" class="headerlink" title="Bufferç±»"></a>Bufferç±»</h3>]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>NIO</tag>
      </tags>
  </entry>
  <entry>
    <title>é“¾è¡¨åŠç®—æ³•ä¾‹é¢˜</title>
    <url>/2024/04/26/%E9%93%BE%E8%A1%A8/</url>
    <content><![CDATA[<h1 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h1><p>ä»€ä¹ˆæ˜¯é“¾è¡¨ï¼Œé“¾è¡¨æ˜¯ä¸€ç§é€šè¿‡æŒ‡é’ˆä¸²è”åœ¨ä¸€èµ·çš„çº¿æ€§ç»“æ„ï¼Œæ¯ä¸€ä¸ªèŠ‚ç‚¹ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼Œä¸€ä¸ªæ˜¯æ•°æ®åŸŸä¸€ä¸ªæ˜¯æŒ‡é’ˆåŸŸï¼ˆå­˜æ”¾æŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆï¼‰ï¼Œæœ€åä¸€ä¸ªèŠ‚ç‚¹çš„æŒ‡é’ˆåŸŸæŒ‡å‘nullï¼ˆç©ºæŒ‡é’ˆçš„æ„æ€ï¼‰ã€‚</p>
<p>é“¾è¡¨çš„å…¥å£èŠ‚ç‚¹ç§°ä¸ºé“¾è¡¨çš„å¤´ç»“ç‚¹ä¹Ÿå°±æ˜¯headã€‚</p>
<p><img src="https://code-thinking-1253855093.file.myqcloud.com/pics/20200806194529815.png" alt="é“¾è¡¨1"></p>
<h2 id="é“¾è¡¨çš„ç±»å‹"><a href="#é“¾è¡¨çš„ç±»å‹" class="headerlink" title="é“¾è¡¨çš„ç±»å‹"></a>é“¾è¡¨çš„ç±»å‹</h2><h3 id="å•é“¾è¡¨"><a href="#å•é“¾è¡¨" class="headerlink" title="å•é“¾è¡¨"></a>å•é“¾è¡¨</h3><p>åˆšåˆšè¯´çš„å°±æ˜¯å•é“¾è¡¨ã€‚</p>
<h3 id="åŒé“¾è¡¨"><a href="#åŒé“¾è¡¨" class="headerlink" title="åŒé“¾è¡¨"></a>åŒé“¾è¡¨</h3><p>å•é“¾è¡¨ä¸­çš„æŒ‡é’ˆåŸŸåªèƒ½æŒ‡å‘èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>
<p>åŒé“¾è¡¨ï¼šæ¯ä¸€ä¸ªèŠ‚ç‚¹æœ‰ä¸¤ä¸ªæŒ‡é’ˆåŸŸï¼Œä¸€ä¸ªæŒ‡å‘ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸€ä¸ªæŒ‡å‘ä¸Šä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>
<p>åŒé“¾è¡¨ æ—¢å¯ä»¥å‘å‰æŸ¥è¯¢ä¹Ÿå¯ä»¥å‘åæŸ¥è¯¢ã€‚</p>
<p><img src="https://code-thinking-1253855093.file.myqcloud.com/pics/20200806194559317.png" alt="é“¾è¡¨2"></p>
<h3 id="å¾ªç¯é“¾è¡¨"><a href="#å¾ªç¯é“¾è¡¨" class="headerlink" title="å¾ªç¯é“¾è¡¨"></a>å¾ªç¯é“¾è¡¨</h3><p>å¾ªç¯é“¾è¡¨ï¼Œé¡¾åæ€ä¹‰ï¼Œå°±æ˜¯é“¾è¡¨é¦–å°¾ç›¸è¿ã€‚</p>
<p>å¾ªç¯é“¾è¡¨å¯ä»¥ç”¨æ¥è§£å†³çº¦ç‘Ÿå¤«ç¯é—®é¢˜ã€‚</p>
<p><img src="https://code-thinking-1253855093.file.myqcloud.com/pics/20200806194629603.png" alt="é“¾è¡¨4"></p>
<h2 id="é“¾è¡¨çš„å­˜å‚¨æ–¹å¼"><a href="#é“¾è¡¨çš„å­˜å‚¨æ–¹å¼" class="headerlink" title="é“¾è¡¨çš„å­˜å‚¨æ–¹å¼"></a>é“¾è¡¨çš„å­˜å‚¨æ–¹å¼</h2><p>äº†è§£å®Œé“¾è¡¨çš„ç±»å‹ï¼Œå†æ¥è¯´ä¸€è¯´é“¾è¡¨åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼ã€‚</p>
<p>æ•°ç»„æ˜¯åœ¨å†…å­˜ä¸­æ˜¯è¿ç»­åˆ†å¸ƒçš„ï¼Œä½†æ˜¯é“¾è¡¨åœ¨å†…å­˜ä¸­å¯ä¸æ˜¯è¿ç»­åˆ†å¸ƒçš„ã€‚</p>
<p>é“¾è¡¨æ˜¯é€šè¿‡æŒ‡é’ˆåŸŸçš„æŒ‡é’ˆé“¾æ¥åœ¨å†…å­˜ä¸­å„ä¸ªèŠ‚ç‚¹ã€‚</p>
<p>æ‰€ä»¥é“¾è¡¨ä¸­çš„èŠ‚ç‚¹åœ¨å†…å­˜ä¸­ä¸æ˜¯è¿ç»­åˆ†å¸ƒçš„ ï¼Œè€Œæ˜¯æ•£ä¹±åˆ†å¸ƒåœ¨å†…å­˜ä¸­çš„æŸåœ°å€ä¸Šï¼Œåˆ†é…æœºåˆ¶å–å†³äºæ“ä½œç³»ç»Ÿçš„å†…å­˜ç®¡ç†ã€‚</p>
<p>Javaå®ç°é“¾è¡¨ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ListNode</span> &#123;</span><br><span class="line">    <span class="comment">// ç»“ç‚¹çš„å€¼</span></span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸‹ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">    ListNode next;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹çš„æ„é€ å‡½æ•°(æ— å‚)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹çš„æ„é€ å‡½æ•°(æœ‰ä¸€ä¸ªå‚æ•°)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// èŠ‚ç‚¹çš„æ„é€ å‡½æ•°(æœ‰ä¸¤ä¸ªå‚æ•°)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ListNode</span><span class="params">(<span class="type">int</span> val, ListNode next)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">        <span class="built_in">this</span>.next = next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="ç§»é™¤é“¾è¡¨å…ƒç´ "><a href="#ç§»é™¤é“¾è¡¨å…ƒç´ " class="headerlink" title="ç§»é™¤é“¾è¡¨å…ƒç´ "></a>ç§»é™¤é“¾è¡¨å…ƒç´ </h1><p><a href="https://leetcode.cn/problems/remove-linked-list-elements/">åŠ›æ‰£é¢˜ç›®é“¾æ¥</a></p>
<p>ç›´æ¥ä½¿ç”¨åŸé“¾è¡¨åˆ é™¤å…ƒç´ ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä¸ç”¨ifï¼Œå› ä¸ºç§»é™¤å¤´èŠ‚ç‚¹æ˜¯ä¸€ä¸ªæŒç»­çš„è¿‡ç¨‹ï¼Œå¦‚æœé“¾è¡¨æ˜¯1-&gt;1-&gt;1,ç›®æ ‡ä¸º1ç”¨ifå°±é”™äº†ã€‚</span></span><br><span class="line"><span class="keyword">while</span>(head != <span class="literal">null</span> &amp;&amp; head.val == target)&#123;</span><br><span class="line">    head = head.next;</span><br><span class="line">    <span class="comment">//å¦‚æœæ˜¯c++éœ€è¦è¿›è¡Œå¤´èŠ‚ç‚¹çš„é‡Šæ”¾ï¼Œå…¶ä»–è¯­è¨€æœ‰åƒåœ¾å›æ”¶æœºåˆ¶</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">cur = head;</span><br><span class="line"><span class="keyword">while</span>(cur != <span class="literal">null</span> &amp;&amp; cur.next != <span class="literal">null</span>)&#123;</span><br><span class="line">	<span class="keyword">if</span>(cur-&gt;next-&gt;val == target)&#123;</span><br><span class="line">        cur-&gt;next = cur-&gt;next-&gt;next;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        cur = cur-&gt;next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> head;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨è™šæ‹Ÿå¤´èŠ‚ç‚¹(åœ¨éå¤´èŠ‚ç‚¹å’Œå¤´èŠ‚ç‚¹æ“ä½œæ—¶ç»Ÿä¸€äº†æ“ä½œ)ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">dummyhead = <span class="keyword">new</span> <span class="title class_">ListNode</span>;</span><br><span class="line">dummyhead.next = head;</span><br><span class="line">cur = dummyhead;<span class="comment">//å®é™…åˆ é™¤çš„æ˜¯curçš„next</span></span><br><span class="line"><span class="keyword">while</span>(cur.next != <span class="literal">null</span>)&#123;</span><br><span class="line">    <span class="keyword">if</span>(cur.next.val == target)&#123;</span><br><span class="line">        cur.next = cur.next.next;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        cur = cur.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> dummyhead.next;</span><br></pre></td></tr></table></figure>

<p>é¢˜ç›®ä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> ListNode <span class="title function_">removeElements</span><span class="params">(ListNode head, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">dummyNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(-<span class="number">1</span>, head);</span><br><span class="line">        <span class="comment">//ListNode pre = dummyNode;</span></span><br><span class="line">        <span class="type">ListNode</span> <span class="variable">cur</span> <span class="operator">=</span> dummyNode;</span><br><span class="line">        <span class="keyword">while</span>(cur.next != <span class="literal">null</span>)&#123;</span><br><span class="line">            <span class="keyword">if</span>(cur.next.val == val)&#123;</span><br><span class="line">                cur.next = cur.next.next;</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                cur = cur.next;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//cur = cur.next;</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> dummyNode.next;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="è®¾è®¡é“¾è¡¨"><a href="#è®¾è®¡é“¾è¡¨" class="headerlink" title="è®¾è®¡é“¾è¡¨"></a>è®¾è®¡é“¾è¡¨</h1><p><a href="https://leetcode.cn/problems/design-linked-list/">åŠ›æ‰£é¢˜ç›®é“¾æ¥</a></p>
<p>è·å–ç¬¬nä¸ªèŠ‚ç‚¹çš„å€¼ï¼ˆnä»0å¼€å§‹ï¼‰ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"></span><br><span class="line">cur = dummyhead.next;</span><br><span class="line"><span class="keyword">while</span>(n )&#123;</span><br><span class="line">    cur = cur.next;</span><br><span class="line">    n--;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> cur.val;</span><br></pre></td></tr></table></figure>

<p>å¤´éƒ¨æ’å…¥èŠ‚ç‚¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">newnode = <span class="keyword">new</span> <span class="title class_">node</span>();</span><br><span class="line">newnode.next = dummyhead.next;</span><br><span class="line">dummynode.next = newnode;</span><br><span class="line">size++;</span><br></pre></td></tr></table></figure>

<p>å°¾éƒ¨æ’å…¥èŠ‚ç‚¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">cur = dummyhead;</span><br><span class="line"><span class="keyword">while</span>(cur.next != <span class="literal">null</span>)&#123;</span><br><span class="line">    cur = cur.next;</span><br><span class="line">&#125;</span><br><span class="line">cur.next = newnode;</span><br><span class="line">size++;</span><br></pre></td></tr></table></figure>

<p>ç¬¬nä¸ªèŠ‚ç‚¹å‰æ’å…¥ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">cur = dummyhead;</span><br><span class="line"><span class="keyword">while</span>(n--)&#123;</span><br><span class="line">    cur =  cur.next;</span><br><span class="line">&#125;</span><br><span class="line">newnode.next = cur.next;</span><br><span class="line">cur.next = newnode;</span><br><span class="line">size++;</span><br></pre></td></tr></table></figure>

<p>åˆ é™¤ç¬¬nä¸ªèŠ‚ç‚¹ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">cur = dummyhead;</span><br><span class="line"><span class="keyword">while</span>(n)&#123;</span><br><span class="line">    cur = cur.next;</span><br><span class="line">    n--;</span><br><span class="line">&#125;</span><br><span class="line">cur.next = cur.next.next;</span><br><span class="line">size--;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>ç®—æ³•</tag>
        <tag>é“¾è¡¨</tag>
      </tags>
  </entry>
  <entry>
    <title>JavaåŸºç¡€å¸¸è§é¢è¯•é¢˜æ€»ç»“</title>
    <url>/2024/04/26/Java%E5%9F%BA%E7%A1%80%E5%B8%B8%E8%A7%81%E9%9D%A2%E8%AF%95%E9%A2%98%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<h1 id="JavaåŸºç¡€å¸¸è§é¢è¯•é¢˜æ€»ç»“"><a href="#JavaåŸºç¡€å¸¸è§é¢è¯•é¢˜æ€»ç»“" class="headerlink" title="JavaåŸºç¡€å¸¸è§é¢è¯•é¢˜æ€»ç»“"></a>JavaåŸºç¡€å¸¸è§é¢è¯•é¢˜æ€»ç»“</h1><h2 id="åŸºç¡€æ¦‚å¿µä¸å¸¸è¯†"><a href="#åŸºç¡€æ¦‚å¿µä¸å¸¸è¯†" class="headerlink" title="åŸºç¡€æ¦‚å¿µä¸å¸¸è¯†"></a>åŸºç¡€æ¦‚å¿µä¸å¸¸è¯†</h2><h3 id="Javaè¯­è¨€æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ"><a href="#Javaè¯­è¨€æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ" class="headerlink" title="Javaè¯­è¨€æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ"></a>Javaè¯­è¨€æœ‰å“ªäº›ç‰¹ç‚¹ï¼Ÿ</h3><p>1.ç®€å•æ˜“å­¦ï¼›</p>
<p>2.é¢å‘å¯¹è±¡ï¼ˆå°è£…ï¼Œç»§æ‰¿ï¼Œå¤šæ€ï¼‰ï¼›</p>
<p>3.å¹³å°æ— å…³æ€§ï¼ˆJVMå®ç°äº†å¹³å°æ— å…³æ€§ï¼‰ï¼›</p>
<p>4.æ”¯æŒå¤šçº¿ç¨‹ï¼ˆC++11ä¹‹å‰ æ²¡æœ‰å†…ç½®å¤šçº¿ç¨‹æœºåˆ¶ï¼Œå› æ­¤å¿…é¡»è°ƒç”¨æ“ä½œç³»ç»Ÿçš„å¤šçº¿ç¨‹æ¥è¿›è¡Œå¤šçº¿ç¨‹è®¾è®¡ï¼Œè€ŒJavaæä¾›äº†å¤šçº¿ç¨‹æ”¯æŒï¼‰ï¼›</p>
<p>5.å¯é æ€§ï¼ˆå…·æœ‰å¼‚å¸¸å¤„ç†å’Œè‡ªåŠ¨å†…å­˜ç®¡ç†æœºåˆ¶ï¼‰ï¼› </p>
<p>6.å®‰å…¨æ€§ï¼ˆJavaæœ¬èº«çš„è®¾è®¡å°±æä¾›äº†å¤šé‡é˜²æŠ¤æœºåˆ¶å¦‚æ§åˆ¶è®¿é—®ç¬¦ã€é™åˆ¶ç¨‹åºç›´æ¥è®¿é—®æ“ä½œç³»ç»Ÿèµ„æºï¼‰ï¼›</p>
<p>7.é«˜æ•ˆæ€§ï¼ˆé€šè¿‡JITç¼–è¯‘å™¨ç­‰æŠ€æœ¯çš„ä¼˜åŒ–ï¼ŒJavaè¿è¡Œçš„æ•ˆç‡è¿˜ä¸é”™ï¼‰</p>
<p>8.æ”¯æŒç½‘ç»œç¼–ç¨‹å¹¶ä¸”å¾ˆæ–¹ä¾¿ï¼›</p>
<p>9.ç¼–è¯‘ä¸è§£é‡Šå¹¶å­˜ï¼›</p>
<p>â€œWrite Once, Run Anywhereï¼ˆä¸€æ¬¡ç¼–å†™ï¼Œéšå¤„è¿è¡Œï¼‰â€è¿™å¥å®£ä¼ å£å·ï¼ŒçœŸå¿ƒç»å…¸ï¼Œæµä¼ äº†å¥½å¤šå¹´ï¼ä»¥è‡³äºï¼Œç›´åˆ°ä»Šå¤©ï¼Œä¾ç„¶æœ‰å¾ˆå¤šäººè§‰å¾—è·¨å¹³å°æ˜¯ Java è¯­è¨€æœ€å¤§çš„ä¼˜åŠ¿ã€‚å®é™…ä¸Šï¼Œè·¨å¹³å°å·²ç»ä¸æ˜¯ Java æœ€å¤§çš„å–ç‚¹äº†ï¼Œå„ç§ JDK æ–°ç‰¹æ€§ä¹Ÿä¸æ˜¯ã€‚ç›®å‰å¸‚é¢ä¸Šè™šæ‹ŸåŒ–æŠ€æœ¯å·²ç»éå¸¸æˆç†Ÿï¼Œæ¯”å¦‚ä½ é€šè¿‡ Docker å°±å¾ˆå®¹æ˜“å®ç°è·¨å¹³å°äº†ã€‚åœ¨æˆ‘çœ‹æ¥ï¼ŒJava å¼ºå¤§çš„ç”Ÿæ€æ‰æ˜¯ï¼â€”-JavaGuide</p>
<h3 id="JVM-JDK-JRE"><a href="#JVM-JDK-JRE" class="headerlink" title="JVM &amp; JDK &amp; JRE"></a>JVM &amp; JDK &amp; JRE</h3><h4 id="JVM"><a href="#JVM" class="headerlink" title="JVM"></a>JVM</h4><p>Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰æ˜¯è¿è¡ŒJavaå­—èŠ‚ç çš„è™šæ‹Ÿæœºã€‚JVMæœ‰é’ˆå¯¹ä¸åŒç³»ç»Ÿçš„ç‰¹å®šå®ç°ï¼Œç›®çš„æ˜¯ä½¿ç”¨ç›¸åŒçš„å­—èŠ‚ç ï¼Œéƒ½ä¼šç»™å‡ºç›¸åŒçš„ç»“æœã€‚<strong>å­—èŠ‚ç å’Œä¸åŒç³»ç»Ÿä¸Šçš„JVMæ˜¯å®ç°Javaè¯­è¨€â€œä¸€æ¬¡ç¼–è¯‘ï¼Œéšå¤„è¿è¡Œâ€çš„å…³é”®</strong></p>
<p>JVMå¹¶ä¸åªæœ‰ä¸€ç§ï¼Œåªè¦æ»¡è¶³JVMè§„èŒƒï¼Œæ¯ä¸ªäººéƒ½å¯ä»¥å¼€å‘è‡ªå·±çš„ä¸“å±JVMï¼›</p>
<h4 id="JDKå’ŒJRE"><a href="#JDKå’ŒJRE" class="headerlink" title="JDKå’ŒJRE"></a>JDKå’ŒJRE</h4><p>JDKï¼ˆJava Development Kitï¼‰ï¼Œä»–æ˜¯åŠŸèƒ½é½å…¨çš„Java SDKï¼Œæ˜¯æä¾›ç»™å¼€å‘è€…ä½¿ç”¨ï¼Œèƒ½å¤Ÿåˆ›å»ºå’Œç¼–è¯‘Javaç¨‹åºçš„å¼€å‘å¥—ä»¶ã€‚åŒ…å«äº†JREã€ç¼–è¯‘Javaæºç çš„Javacä»¥åŠä¸€äº›å…¶ä»–å·¥å…·ï¼ˆJavadocã€jdbã€jconsoleã€javapç­‰ç­‰ï¼‰</p>
<p>JREï¼ˆJava Runtime Environmentï¼‰æ˜¯Javaè¿è¡Œæ—¶çš„ç¯å¢ƒã€‚ä»–æ˜¯å·²ç»è¿è¡Œå·²ç¼–è¯‘Javaç¨‹åºæ‰€éœ€çš„å†…å®¹çš„é›†åˆï¼Œä¸»è¦åŒ…æ‹¬Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰ã€JavaåŸºç¡€ç±»åº“ï¼ˆClass Libraryï¼‰</p>
<p>æ€»çš„æ¥è¯´ï¼ŒJREæ˜¯Javaè¿è¡Œæ—¶çš„ç¯å¢ƒï¼Œä»…åŒ…å«Javaåº”ç”¨ç¨‹åºçš„è¿è¡Œæ—¶ç¯å¢ƒå’Œå¿…è¦ç±»åº“ã€‚JDKåŒ…å«äº†JREï¼ŒåŒæ—¶è¿˜åŒ…æ‹¬äº†å…¶ä»–å·¥å…·ï¼Œç”¨äºJavaåº”ç”¨ç¨‹åºçš„å¼€å‘å’Œè°ƒè¯•ã€‚</p>
<p><img src="https://oss.javaguide.cn/github/javaguide/java/basis/jdk-include-jre.png" alt="JDK åŒ…å« JRE"></p>
<h3 id="ä»€ä¹ˆæ˜¯å­—èŠ‚ç ï¼Œé‡‡ç”¨å­—èŠ‚ç çš„å¥½å¤„ï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯å­—èŠ‚ç ï¼Œé‡‡ç”¨å­—èŠ‚ç çš„å¥½å¤„ï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯å­—èŠ‚ç ï¼Œé‡‡ç”¨å­—èŠ‚ç çš„å¥½å¤„ï¼Ÿ"></a>ä»€ä¹ˆæ˜¯å­—èŠ‚ç ï¼Œé‡‡ç”¨å­—èŠ‚ç çš„å¥½å¤„ï¼Ÿ</h3><p>åœ¨Javaä¸­JVMå¯ä»¥ç†è§£çš„ä»£ç å«åšå­—èŠ‚ç ï¼ˆæ‹“å±•åä¸º<code>.class</code>çš„æ–‡ä»¶ï¼‰ï¼Œä»–ä¸é¢å‘ä»»ä½•ç‰¹å®šçš„å¤„ç†å™¨ï¼Œåªé¢å‘è™šæ‹Ÿæœºã€‚</p>
<p>Javaé€šè¿‡å­—èŠ‚ç çš„æ–¹å¼ï¼Œåœ¨ä¸€å®šç¨‹åº¦ä¸Šè§£å†³äº†ä¼ ç»Ÿè§£é‡Šå‹è¯­è¨€æ‰§è¡Œæ•ˆç‡ä½çš„é—®é¢˜ï¼ŒåŒæ—¶åˆä¿ç•™äº†è§£é‡Šå‹è¯­è¨€å¯ç§»æ¤çš„ç‰¹ç‚¹ã€‚æ‰€ä»¥Javaç¨‹åºè¿è¡Œèµ·æ¥è¿˜æ˜¯ç›¸å¯¹é«˜æ•ˆçš„ã€‚è€Œä¸”ç”±äºå­—èŠ‚ç å¹¶ä¸é’ˆå¯¹ç‰¹å®šçš„æœºå™¨ï¼Œå› æ­¤Javaç¨‹åºæ— éœ€é‡æ–°ç¼–è¯‘å³å¯åœ¨å¤šç§ä¸åŒçš„æ“ä½œç³»ç»Ÿçš„è®¡ç®—æœºä¸Šè¿è¡Œã€‚</p>
<p><strong>Java ç¨‹åºä»æºä»£ç åˆ°è¿è¡Œçš„è¿‡ç¨‹å¦‚ä¸‹å›¾æ‰€ç¤º</strong>ï¼š</p>
<p><img src="https://oss.javaguide.cn/github/javaguide/java/basis/java-code-to-machine-code.png" alt="Javaç¨‹åºè½¬å˜ä¸ºæœºå™¨ä»£ç çš„è¿‡ç¨‹"></p>
<p><code>.class-&gt;æœºå™¨ç </code>è¿™ä¸€æ­¥ï¼ŒJVMç±»åŠ è½½å™¨é¦–å…ˆåŠ è½½å­—èŠ‚ç æ–‡ä»¶ï¼Œç„¶åé€šè¿‡è§£é‡Šå™¨é€è¡Œè§£é‡Šæ‰§è¡Œï¼Œè¿™ç§æ–¹å¼æ‰§è¡Œé€Ÿåº¦ç›¸å¯¹æ¯”è¾ƒæ…¢ï¼Œè€Œä¸”æœ‰äº›æ–¹æ³•å’Œä»£ç å—ç»å¸¸éœ€è¦è¢«è°ƒç”¨ï¼ˆçƒ­ç‚¹ä»£ç ï¼‰ï¼Œæ‰€ä»¥åé¢å¼•è¿›äº†JITï¼ˆJust In Time Commpliationï¼‰ç¼–è¯‘å™¨ï¼ŒJITå±äºè¿è¡Œæ—¶ç¼–è¯‘ã€‚å½“JITç¼–è¯‘å™¨å®Œæˆç¬¬ä¸€æ¬¡ç¼–è¯‘åï¼Œä¼šå°†å­—èŠ‚ç å¯¹åº”çš„æœºå™¨ç ä¿å­˜èµ·æ¥ï¼Œä¸‹æ¬¡å¯ä»¥ç›´æ¥ä½¿ç”¨ã€‚è¿™ä¹Ÿè§£é‡Šäº†ä¸ºä»€ä¹ˆè¯´ <strong>Java æ˜¯ç¼–è¯‘ä¸è§£é‡Šå…±å­˜çš„è¯­è¨€</strong> ã€‚</p>
<p><img src="https://oss.javaguide.cn/github/javaguide/java/basis/java-code-to-machine-code-with-jit.png" alt="Javaç¨‹åºè½¬å˜ä¸ºæœºå™¨ä»£ç çš„è¿‡ç¨‹"></p>
<p>JDKã€JREã€JVMã€JIT è¿™å››è€…çš„å…³ç³»å¦‚ä¸‹å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://oss.javaguide.cn/github/javaguide/java/basis/jdk-jre-jvm-jit.png" alt="JDKã€JREã€JVMã€JIT è¿™å››è€…çš„å…³ç³»"></p>
<h3 id="ä¸ºä»€ä¹ˆè¯´Javaè¯­è¨€â€œç¼–è¯‘ä¸è§£é‡Šå¹¶å­˜â€ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆè¯´Javaè¯­è¨€â€œç¼–è¯‘ä¸è§£é‡Šå¹¶å­˜â€ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆè¯´Javaè¯­è¨€â€œç¼–è¯‘ä¸è§£é‡Šå¹¶å­˜â€ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¯´Javaè¯­è¨€â€œç¼–è¯‘ä¸è§£é‡Šå¹¶å­˜â€ï¼Ÿ</h3><p>é«˜çº§ç¼–ç¨‹è¯­è¨€æŒ‰ç…§ç¨‹åºæ‰§è¡Œæ–¹å¼åˆ†ä¸ºä¸¤ç§ï¼š</p>
<ul>
<li><strong>ç¼–è¯‘å‹</strong>ï¼šç¼–è¯‘å‹è¯­è¨€ä¼šå°†æºä»£ç ä¸€æ¬¡æ€§ç¿»è¯‘æˆå¯ä»¥è¢«è¯¥å¹³å°æ‰§è¡Œçš„æœºå™¨ç ã€‚ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œè¯¥ç±»å‹å¼€å‘æ•ˆç‡è¾ƒä½ï¼Œæ‰§è¡Œé€Ÿåº¦è¾ƒå¿«ã€‚ï¼ˆCã€C++ã€GOã€Rustï¼‰</li>
<li><strong>è§£é‡Šå‹</strong>ï¼šè§£é‡Šå‹è¯­è¨€ä¼šé€šè¿‡è§£é‡Šå™¨ä¸€å¥ä¸€å¥å°†ä»£ç è§£é‡Šä¸ºæœºå™¨ä»£ç åå†æ‰§è¡Œã€‚è¯¥ç±»å‹å¼€å‘è¾ƒå¿«ï¼Œæ‰§è¡Œé€Ÿåº¦è¾ƒæ…¢ã€‚ï¼ˆPythonã€JavaScriptã€PHPï¼‰</li>
</ul>
<h4 id="ä¸ºä»€ä¹ˆè¯´Javaè¯­è¨€â€œç¼–è¯‘ä¸è§£é‡Šå¹¶å­˜â€ï¼Ÿ-1"><a href="#ä¸ºä»€ä¹ˆè¯´Javaè¯­è¨€â€œç¼–è¯‘ä¸è§£é‡Šå¹¶å­˜â€ï¼Ÿ-1" class="headerlink" title="ä¸ºä»€ä¹ˆè¯´Javaè¯­è¨€â€œç¼–è¯‘ä¸è§£é‡Šå¹¶å­˜â€ï¼Ÿ"></a>ä¸ºä»€ä¹ˆè¯´Javaè¯­è¨€â€œç¼–è¯‘ä¸è§£é‡Šå¹¶å­˜â€ï¼Ÿ</h4><p>å› ä¸ºJavaè¯­è¨€æ—¢æœ‰ç¼–è¯‘å‹è¯­è¨€ç‰¹å¾ä¹Ÿæœ‰è§£é‡Šå‹è¯­è¨€ç‰¹å¾ã€‚å› ä¸ºJavaç¨‹åºè¦ç»è¿‡å…ˆç¼–è¯‘ï¼Œåè§£é‡Šä¸¤ä¸ªæ­¥éª¤ï¼Œç”±Javaç¼–å†™çš„ç¨‹åºå…ˆç»è¿‡ç¼–è¯‘æ­¥éª¤ï¼Œç”Ÿæˆå­—èŠ‚ç ï¼Œè¿™ç§å­—èŠ‚ç å†ç”±Javaè§£é‡Šå™¨æ¥è§£é‡Šè¿è¡Œã€‚</p>
<h3 id="AOTæœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿä¸ºä»€ä¹ˆä¸å…¨éƒ¨ä½¿ç”¨AOTï¼Ÿ"><a href="#AOTæœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿä¸ºä»€ä¹ˆä¸å…¨éƒ¨ä½¿ç”¨AOTï¼Ÿ" class="headerlink" title="AOTæœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿä¸ºä»€ä¹ˆä¸å…¨éƒ¨ä½¿ç”¨AOTï¼Ÿ"></a>AOTæœ‰ä»€ä¹ˆä¼˜ç‚¹ï¼Ÿä¸ºä»€ä¹ˆä¸å…¨éƒ¨ä½¿ç”¨AOTï¼Ÿ</h3><p>JDK9æ–°å¼•å…¥äº†ä¸€ç§æ–°çš„ç¼–è¯‘æ¨¡å¼AOTï¼ˆAhead of Time Compilationï¼‰ã€‚è¿™ç§æ¨¡å¼ä¼šåœ¨ç¨‹åºè¢«æ‰§è¡Œå‰å°±å°†å…¶ç¼–è¯‘æˆæœºå™¨ç ï¼Œå±äºé™æ€ç¼–è¯‘ï¼ˆC++ï¼ŒRustï¼ŒGOå°±æ˜¯é™æ€ç¼–è¯‘ï¼‰ã€‚AOTé¿å…äº†JITé¢„çƒ­ç­‰å„æ–¹é¢å¼€é”€ï¼Œå¯ä»¥æé«˜Javaç¨‹åºçš„å¯åŠ¨é€Ÿåº¦ï¼Œé¿å…é¢„çƒ­æ—¶é—´é•¿ã€‚å¹¶ä¸”ï¼ŒAOTè¿˜èƒ½å‡å°‘å†…å­˜å ç”¨å’Œå¢å¼ºJavaç¨‹åºçš„å®‰å…¨æ€§ï¼ˆAOTç¼–è¯‘åçš„ä»£ç ä¸å®¹æ˜“è¢«åç¼–è¯‘å’Œä¿®æ”¹ï¼‰ï¼Œç‰¹åˆ«é€‚ç”¨äºäº‘åŸç”Ÿåœºæ™¯ã€‚</p>
<p>AOTçš„ä¼˜åŠ¿åœ¨äºå¯åŠ¨æ—¶é—´ï¼Œå†…å­˜å ç”¨å’Œæ‰“åŒ…ä½“ç§¯ã€‚JITçš„ä¼˜åŠ¿åœ¨äºå…·å¤‡æ›´é«˜çš„æé™å¤„ç†èƒ½åŠ›ï¼Œå¯ä»¥é™ä½è¯·æ±‚çš„æœ€å¤§å»¶è¿Ÿã€‚</p>
<h3 id="æ—¢ç„¶-AOT-è¿™ä¹ˆå¤šä¼˜ç‚¹ï¼Œé‚£ä¸ºä»€ä¹ˆä¸å…¨éƒ¨ä½¿ç”¨è¿™ç§ç¼–è¯‘æ–¹å¼å‘¢ï¼Ÿ"><a href="#æ—¢ç„¶-AOT-è¿™ä¹ˆå¤šä¼˜ç‚¹ï¼Œé‚£ä¸ºä»€ä¹ˆä¸å…¨éƒ¨ä½¿ç”¨è¿™ç§ç¼–è¯‘æ–¹å¼å‘¢ï¼Ÿ" class="headerlink" title="æ—¢ç„¶ AOT è¿™ä¹ˆå¤šä¼˜ç‚¹ï¼Œé‚£ä¸ºä»€ä¹ˆä¸å…¨éƒ¨ä½¿ç”¨è¿™ç§ç¼–è¯‘æ–¹å¼å‘¢ï¼Ÿ"></a>æ—¢ç„¶ AOT è¿™ä¹ˆå¤šä¼˜ç‚¹ï¼Œé‚£ä¸ºä»€ä¹ˆä¸å…¨éƒ¨ä½¿ç”¨è¿™ç§ç¼–è¯‘æ–¹å¼å‘¢ï¼Ÿ</h3><p>ä¸¤è€…å„æœ‰ä¼˜ç‚¹ï¼ŒAOTæ›´é€‚åˆäº‘åŸç”Ÿåœºæ™¯ï¼Œå¯¹å¾®æœåŠ¡æ¶æ„æ”¯æŒä¹Ÿæ¯”è¾ƒå‹å¥½ï¼ŒAOTæ— æ³•æ”¯æŒJavaä¸€äº›åŠ¨æ€ç‰¹æ€§ï¼Œå¦‚åå°„ã€åŠ¨æ€ä»£ç†ã€åŠ¨æ€åŠ è½½ç­‰ã€‚ç„¶è€Œå¾ˆå¤šçš„æ¡†æ¶å’Œåº“ï¼ˆSpringï¼‰éƒ½ç”¨åˆ°äº†è¿™äº›ç‰¹æ€§ã€‚å¦‚æœåªä½¿ç”¨AOTç¼–è¯‘å°±æ²¡åŠæ³•ä½¿ç”¨è¿™äº›æ¡†æ¶å’Œåº“äº†ã€‚</p>
<h3 id="Javaå’ŒC-çš„åŒºåˆ«ï¼Ÿ"><a href="#Javaå’ŒC-çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="Javaå’ŒC++çš„åŒºåˆ«ï¼Ÿ"></a>Javaå’ŒC++çš„åŒºåˆ«ï¼Ÿ</h3><p>Javaå’ŒC++éƒ½æ˜¯é¢å‘å¯¹è±¡è¯­è¨€ï¼Œéƒ½æ”¯æŒå°è£…ã€ç»§æ‰¿å’Œå¤šæ€</p>
<ul>
<li>Javaä¸æä¾›æŒ‡é’ˆæ¥ç›´æ¥è®¿é—®å†…å­˜ï¼Œç¨‹åºå†…å­˜æ›´åŠ å®‰å…¨</li>
<li>Javaçš„ç±»æ˜¯å•ç»§æ‰¿çš„ï¼ŒC++æ”¯æŒå¤šé‡ç»§æ‰¿ï¼›ä½†æ˜¯Javaæ¥å£å¯ä»¥å¤šç»§æ‰¿</li>
<li>Javaæœ‰è‡ªåŠ¨å†…å­˜ç®¡ç†åƒåœ¾å›æ”¶æœºåˆ¶ï¼ˆGCï¼‰ï¼Œä¸éœ€è¦æ‰‹åŠ¨é‡Šæ”¾æ— ç”¨å†…å­˜ã€‚</li>
<li>C++åŒæ—¶æ”¯æŒæ–¹æ³•é‡è½½å’Œæ“ä½œç¬¦é‡è½½ï¼ŒJavaåªæ”¯æŒæ–¹æ³•é‡è½½ï¼ˆæ“ä½œç¬¦é‡è½½å¢åŠ äº†å¤æ‚æ€§ï¼Œä¸Javaæœ€åˆçš„è®¾è®¡æ€æƒ³ä¸ç¬¦ï¼‰</li>
</ul>
<h3 id="åŸºæœ¬è¯­æ³•"><a href="#åŸºæœ¬è¯­æ³•" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h3><h4 id="æ ‡è¯†ç¬¦å’Œå…³é”®å­—åŒºåˆ«ï¼Ÿ"><a href="#æ ‡è¯†ç¬¦å’Œå…³é”®å­—åŒºåˆ«ï¼Ÿ" class="headerlink" title="æ ‡è¯†ç¬¦å’Œå…³é”®å­—åŒºåˆ«ï¼Ÿ"></a>æ ‡è¯†ç¬¦å’Œå…³é”®å­—åŒºåˆ«ï¼Ÿ</h4><p>åœ¨ç¼–å†™ç¨‹åºæ—¶ï¼Œéœ€è¦å¤§é‡ä¸ºç¨‹åºï¼Œæ–¹æ³•ï¼Œç±»ï¼Œå˜é‡ç­‰å–åå­—ï¼Œäºæ˜¯ç®€å•æ¥è¯´<strong>æ ‡è¯†ç¬¦å°±æ˜¯ä¸€ä¸ªåå­—</strong></p>
<p>æœ‰äº›æ ‡è¯†ç¬¦ï¼ŒJavaå·²ç»èµ‹äºˆäº†å…¶ç‰¹æ®Šçš„å«ä¹‰ï¼Œåªèƒ½ç”¨äºç‰¹å®šçš„åœ°æ–¹ï¼Œè¿™äº›ç‰¹æ®Šçš„æ ‡è¯†ç¬¦å°±æ˜¯<strong>å…³é”®å­—</strong>ã€‚</p>
<p>Javaå…³é”®å­—ï¼š</p>
<p>è¿™é‡Œåˆ—ä¸¾æˆªæ­¢åˆ°Java17æ‰€æœ‰çš„å…³é”®å­—åŠå…¶åŠŸèƒ½ï¼š</p>
<ul>
<li><strong>abstract</strong> å£°æ˜ä¸€ä¸ªç±»ä¸ºæŠ½è±¡ç±»æˆ–ä¸€ä¸ªæ–¹æ³•ä¸ºæŠ½è±¡æ–¹æ³•ã€‚</li>
<li><strong>assert</strong> æ–­è¨€è¡¨è¾¾å¼ä½¿ç”¨ï¼Œç”¨æ¥å¯¹æŸäº›ä¸œè¥¿è¿›è¡Œåˆ¤æ–­ï¼Œå¦‚æœåˆ¤æ–­å¤±è´¥ä¼šæŠ›å‡ºé”™è¯¯ï¼Œé»˜è®¤æ— æ•ˆï¼Œéœ€è¦æ·»åŠ å¯åŠ¨å‚æ•°æ‰èƒ½å¼€å¯ï¼Œä¸€èˆ¬åœ¨æµ‹è¯•ç¯å¢ƒä¸­ä½¿ç”¨ã€‚</li>
<li><strong>boolean</strong> åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå¸ƒå°”ç±»å‹ï¼Œåªæœ‰trueå’Œfalseä¸¤ç§ç»“æœã€‚</li>
<li><strong>break</strong> ç”¨äºfor&#x2F;whileå¾ªç¯è¯­å¥ä¸­å¯¹å¾ªç¯æå‰ç»ˆæ­¢ï¼Œä»¥åŠåœ¨switchè¯­å¥ä¸­ç»“æŸå½“å‰caseè¯­å¥å—ï¼Œé˜²æ­¢ç¨‹åºç»§ç»­å‘ä¸‹æ‰§è¡Œã€‚</li>
<li><strong>byte</strong> åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå­—èŠ‚ç±»å‹ï¼Œå¯ä»¥è¡¨ç¤º1å­—èŠ‚çš„æ•°æ®ï¼Œå–å€¼èŒƒå›´ä¸º-128 åˆ° 127ã€‚</li>
<li><strong>case</strong> ç”¨äºåœ¨switchè¯­å¥ä¸­åˆ¤æ–­æ¡ä»¶ï¼ŒåŒ¹é…åæ‰§è¡Œç›¸åº”çš„ä»£ç å—ã€‚</li>
<li><strong>catch</strong> ç”¨äºæ•è·å¼‚å¸¸ï¼Œå¤„ç†tryå—ä¸­æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li>
<li><strong>char</strong> åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå­—ç¬¦ç±»å‹ï¼Œè¡¨ç¤ºå•ä¸ªå­—ç¬¦ï¼ˆ16ä½Unicodeå­—ç¬¦ï¼‰è¡¨ç¤ºèŒƒå›´ä¸ºâ€™\u0000â€™ (0) åˆ° â€˜\uffffâ€™ (65535)</li>
<li><strong>class</strong>ï¼šå£°æ˜ä¸€ä¸ªç±»å‹ï¼Œæ­¤å¤–ï¼Œä½¿ç”¨<code>ç±»å.class</code>ç”¨äºè·å–æŒ‡å®šç±»å‹çš„Classå¯¹è±¡ã€‚</li>
<li><strong>const</strong> ä¿ç•™å…³é”®å­—ï¼Œæ— å®é™…ç”¨é€”ã€‚</li>
<li><strong>continue</strong>ï¼šç”¨äºfor&#x2F;whileå¾ªç¯è¯­å¥ä¸­è·³è¿‡å½“å‰å¾ªç¯çš„å‰©ä½™ä»£ç ï¼Œç›´æ¥å¼€å¯ä¸‹ä¸€è½®å¾ªç¯ã€‚</li>
<li><strong>default</strong> åœ¨switchè¯­å¥ä¸­è¡¨ç¤ºé»˜è®¤æƒ…å†µï¼ŒåŒæ—¶ï¼Œåœ¨æ¥å£ä¸­ä¹Ÿå¯ä»¥ä¸ºæŠ½è±¡æ–¹æ³•æŒ‡å®šé»˜è®¤å®ç°ï¼ˆä»…Java8ä¹‹åå¯ç”¨ï¼‰</li>
<li><strong>do</strong> ç”¨äºdo-whileå¾ªç¯ä¸­å®šä¹‰å¾ªç¯ä½“ï¼Œå¾ªç¯å¼€å§‹å‰ä¼šæ‰§è¡Œä¸€æ¬¡å¾ªç¯ã€‚</li>
<li><strong>double</strong> åŸºæœ¬æ•°æ®ç±»å‹ï¼ŒåŒç²¾åº¦æµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºèŒƒå›´ä¸º4.9e-324 åˆ° 1.8e+308ï¼Œç²¾åº¦ä¸º15ä½å°æ•°ã€‚</li>
<li><strong>else</strong> ä¸ifè¯­å¥ä¸€èµ·ä½¿ç”¨ï¼Œè¡¨ç¤ºæ¡ä»¶ä¸æˆç«‹æ—¶æ‰§è¡Œçš„ä»£ç å—ï¼Œä¹Ÿå¯ä»¥ä¸ifç»„åˆä¸ºelse ifåˆ¤æ–­ã€‚</li>
<li><strong>enum</strong> å£°æ˜æšä¸¾ç±»å‹ã€‚</li>
<li><strong>extends</strong> å£°æ˜ç±»ç»§æ‰¿å¦ä¸€ä¸ªç±»ï¼Œåœ¨æ¥å£ä¸­å¯ä»¥ç»§æ‰¿å¤šä¸ªå…¶ä»–æ¥å£ï¼Œåœ¨æ³›å‹ç±»ä¸­List&lt;? extends Number&gt;è¡¨ç¤ºä¸ºç±»å‹å‚æ•°è®¾å®šä¸Šç•Œã€‚</li>
<li><strong>final</strong> å£°æ˜ä¸€ä¸ªå˜é‡çš„å€¼ä¸å¯ä¿®æ”¹ã€ä¸€ä¸ªç±»ä¸èƒ½è¢«ç»§æ‰¿ã€ä¸€ä¸ªæ–¹æ³•ä¸èƒ½è¢«å­ç±»é‡å†™ã€‚</li>
<li><strong>finally</strong> å£°æ˜ä¸€ä¸ªä»£ç å—ï¼Œåœ¨å¼‚å¸¸å¤„ç†æ—¶ï¼Œæ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸éƒ½ä¼šæ‰§è¡Œã€‚</li>
<li><strong>float</strong> åŸºæœ¬æ•°æ®ç±»å‹ï¼Œå•ç²¾åº¦æµ®ç‚¹æ•°ï¼Œè¡¨ç¤ºèŒƒå›´ä¸º1.4e-45 åˆ° 3.4e+38ï¼Œç²¾åº¦ä¸º6-7ä½å°æ•°ã€‚</li>
<li><strong>for</strong> åˆ›å»ºforå¾ªç¯è¯­å¥ã€‚</li>
<li><strong>if</strong> åˆ›å»ºæ¡ä»¶åˆ¤æ–­è¯­å¥ã€‚</li>
<li><strong>implements</strong> è¡¨ç¤ºä¸€ä¸ªç±»å®ç°çš„æ¥å£ï¼Œå¯ä»¥è·Ÿä¸€ä¸ªæˆ–å¤šä¸ªæ¥å£ã€‚</li>
<li><strong>import</strong> ç”¨äºå¯¼å…¥åŒ…æˆ–ç±»ã€‚</li>
<li><strong>instanceof</strong> ç”¨äºåˆ¤æ–­å¯¹è±¡æ˜¯å¦ä¸ºæŒ‡å®šç±»å‹ã€‚</li>
<li><strong>int</strong> åŸºæœ¬æ•°æ®ç±»å‹ï¼Œæ•´æ•°ç±»å‹ï¼Œå–å€¼èŒƒå›´ä¸º-2^31 åˆ° 2^31-1ã€‚</li>
<li><strong>interface</strong>ï¼šå®šä¹‰æ¥å£ã€‚</li>
<li><strong>long</strong> åŸºæœ¬æ•°æ®ç±»å‹ï¼Œé•¿æ•´æ•°ç±»å‹ï¼Œå–å€¼èŒƒå›´ä¸º-2^63 åˆ° 2^63-1ã€‚</li>
<li><strong>native</strong> ç”¨äºå£°æ˜ä¸€ä¸ªæœ¬åœ°æ–¹æ³•ï¼Œæ–¹æ³•çš„å®ç°ä½¿ç”¨éJavaè¯­è¨€ç¼–å†™ï¼Œä¸€èˆ¬ä¸ºCæˆ–C++ç¼–å†™ï¼Œè¯¦æƒ…è¯·çœ‹JVMç¯‡JNIç›¸å…³ä»‹ç»ã€‚</li>
<li><strong>new</strong> ç”¨äºå®ä¾‹åŒ–å¯¹è±¡ã€‚</li>
<li><strong>null</strong> è¡¨ç¤ºç©ºå¯¹è±¡å¼•ç”¨ã€‚</li>
<li><strong>package</strong> ç”¨äºå£°æ˜åŒ…ã€‚</li>
<li><strong>private</strong> æƒé™ä¿®é¥°ç¬¦ï¼Œè¡¨ç¤ºç§æœ‰çš„ï¼Œä»…åœ¨ç±»çš„å†…éƒ¨å¯è§ã€‚</li>
<li><strong>protected</strong> æƒé™ä¿®é¥°ç¬¦ï¼Œè¡¨ç¤ºå—ä¿æŠ¤çš„ï¼Œä»…å½“å‰ç±»å’Œå­ç±»å¯è§ã€‚</li>
<li><strong>public</strong> æƒé™ä¿®é¥°ç¬¦ï¼Œè¡¨ç¤ºå…¬å…±çš„ï¼Œå¯¹æ‰€æœ‰ç±»å¯è§ã€‚</li>
<li><strong>record</strong> ç”¨äºå£°æ˜è®°å½•ç±»å‹ï¼ŒJava14æ–°å¢ç±»å‹ã€‚</li>
<li><strong>return</strong> ç”¨äºæ–¹æ³•è¿”å›å€¼ã€‚</li>
<li><strong>sealed</strong> ç”¨äºå£°æ˜å¯†å°ç±»å‹ï¼ŒJava17æ–°å¢ç±»å‹ã€‚</li>
<li><strong>non-sealed</strong> ç”¨äºå£°æ˜ç±»å‹ä¸ºéå¯†å°ç±»å‹ï¼ŒJava17æ–°å¢ç±»å‹ã€‚</li>
<li><strong>short</strong> ç”¨äºå£°æ˜çŸ­æ•´å‹å˜é‡ã€‚</li>
<li><strong>static</strong> å°†ç±»ã€æ–¹æ³•ã€å±æ€§å£°æ˜ä¸ºé™æ€çš„ã€‚</li>
<li><strong>strictfp</strong> ç”¨äºç¡®ä¿æµ®ç‚¹è¿ç®—ç»“æœä¸€è‡´ã€‚</li>
<li><strong>super</strong> è¡¨ç¤ºçˆ¶ç±»å¯¹è±¡ï¼Œåœ¨æ³›å‹ç±»ä¸­List&lt;? super Integer&gt;è¡¨ç¤ºä¸ºç±»å‹å‚æ•°è®¾å®šä¸‹ç•Œï¼Œåœ¨ç¼–å†™å­ç±»æ„é€ æ–¹æ³•æ—¶ï¼Œé»˜è®¤éœ€è¦ä¼˜å…ˆæ‰§è¡Œsuper()è°ƒç”¨çˆ¶ç±»æ„é€ æ–¹æ³•ï¼ˆæ— å‚æƒ…å†µä¸‹å¯çœç•¥ï¼‰åœ¨Java22ä¹‹åsuperä¸å†è¦æ±‚å¼ºåˆ¶ä¼˜å…ˆè°ƒç”¨ã€‚</li>
<li><strong>switch</strong> ç”¨äºå¤šé‡æ¡ä»¶åˆ¤æ–­ï¼Œåœ¨Java13ä¹‹åå¯ä»¥ä½¿ç”¨switchè¡¨è¾¾å¼ã€‚</li>
<li><strong>synchronized</strong> ç”¨äºçº¿ç¨‹åŒæ­¥åŠ é”ã€‚</li>
<li><strong>this</strong> è¡¨ç¤ºå½“å‰å¯¹è±¡ï¼Œä½¿ç”¨this()å¯ä»¥è°ƒç”¨å½“å‰ç±»å‹çš„æ„é€ æ–¹æ³•ã€‚</li>
<li><strong>throw</strong> æŠ›å‡ºå¼‚å¸¸å¯¹è±¡ã€‚</li>
<li><strong>throws</strong> åœ¨æ–¹æ³•å£°æ˜ä¸­æŒ‡å®šå¯èƒ½è¢«æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li>
<li><strong>transient</strong> å£°æ˜å˜é‡åœ¨å¯¹è±¡åºåˆ—åŒ–æ—¶ä¸å‚ä¸åºåˆ—åŒ–ã€‚</li>
<li><strong>try</strong> å¼‚å¸¸æ•è·çš„èµ·å§‹å—ã€‚</li>
<li><strong>void</strong> è¡¨ç¤ºæ²¡æœ‰è¿”å›å€¼ã€‚</li>
<li><strong>volatile</strong> ç”¨äºå¯èƒ½ä¼šè¢«å¤šä¸ªçº¿ç¨‹åŒæ—¶ä¿®æ”¹çš„å˜é‡ï¼Œä½¿å…¶ä¿è¯çº¿ç¨‹ä¹‹é—´çš„å¯è§æ€§ï¼Œç¦æ­¢æŒ‡ä»¤é‡æ’ï¼Œä½†æ— æ³•ä¿è¯åŸå­æ€§ï¼Œè¯¦æƒ…è¯·è§JUCç¯‡è§†é¢‘æ•™ç¨‹ã€‚</li>
<li><strong>while</strong> ç”¨äºåˆ›å»ºwhileå¾ªç¯ï¼Œå½“æ¡ä»¶æ»¡è¶³æ—¶æ‰§è¡Œä»£ç å—ã€‚</li>
</ul>
<h4 id="ç§»ä½è¿ç®—ç¬¦"><a href="#ç§»ä½è¿ç®—ç¬¦" class="headerlink" title="ç§»ä½è¿ç®—ç¬¦"></a>ç§»ä½è¿ç®—ç¬¦</h4><p><code>&lt;&lt;</code> :å·¦ç§»è¿ç®—ç¬¦ï¼Œå‘å·¦ç§»è‹¥å¹²ä½ï¼Œé«˜ä½ä¸¢å¼ƒï¼Œä½ä½è¡¥é›¶ã€‚<code>x &lt;&lt; 1</code>,ç›¸å½“äº x ä¹˜ä»¥ 2(ä¸æº¢å‡ºçš„æƒ…å†µä¸‹)ã€‚</p>
<p><code>&gt;&gt;</code> :å¸¦ç¬¦å·å³ç§»ï¼Œå‘å³ç§»è‹¥å¹²ä½ï¼Œé«˜ä½è¡¥ç¬¦å·ä½ï¼Œä½ä½ä¸¢å¼ƒã€‚æ­£æ•°é«˜ä½è¡¥ 0,è´Ÿæ•°é«˜ä½è¡¥ 1ã€‚<code>x &gt;&gt; 1</code>,ç›¸å½“äº x é™¤ä»¥ 2ã€‚</p>
<p><code>&gt;&gt;&gt;</code> :æ— ç¬¦å·å³ç§»ï¼Œå¿½ç•¥ç¬¦å·ä½ï¼Œç©ºä½éƒ½ä»¥ 0 è¡¥é½ã€‚</p>
<h4 id="continueã€breakå’ŒreturnåŒºåˆ«ï¼Ÿ"><a href="#continueã€breakå’ŒreturnåŒºåˆ«ï¼Ÿ" class="headerlink" title="continueã€breakå’ŒreturnåŒºåˆ«ï¼Ÿ"></a>continueã€breakå’ŒreturnåŒºåˆ«ï¼Ÿ</h4><p>1.<code>continue</code>: è·³å‡ºå½“å‰è¿™ä¸€æ¬¡çš„å¾ªç¯ï¼Œç»§ç»­ä¸‹ä¸€æ¬¡å¾ªç¯</p>
<p>2.<code>break</code>: è·³å‡ºæ•´ä¸ªå¾ªç¯ä½“ï¼Œç»§ç»­æ‰§è¡Œå¾ªç¯ä¸‹é¢çš„è¯­å¥ã€‚</p>
<p>3.<code>return</code>: è·³å‡ºæ‰€åœ¨çš„æ–¹æ³•ï¼Œç»“æŸè¯¥æ–¹æ³•è¿è¡Œã€‚</p>
<h3 id="åŸºæœ¬æ•°æ®ç±»å‹"><a href="#åŸºæœ¬æ•°æ®ç±»å‹" class="headerlink" title="åŸºæœ¬æ•°æ®ç±»å‹"></a>åŸºæœ¬æ•°æ®ç±»å‹</h3><p>Javaä¸­æœ‰8ç§åŸºæœ¬æ•°æ®ç±»å‹ï¼š</p>
<ul>
<li>6ç§æ•°å­—å‹ï¼š<ul>
<li>4ä¸­æ•´æ•°å‹ï¼šbyteã€shortã€intã€long</li>
<li>2ç§æµ®ç‚¹å‹ï¼šfloatã€double</li>
</ul>
</li>
<li>1ç§å­—ç¬¦ç±»å‹ï¼šchar</li>
<li>1ç§å¸ƒå°”ç±»å‹ï¼šboolean</li>
</ul>
<p>å¯¹åº”çš„åŒ…è£…ç±»å‹ï¼šByteã€Shortã€Integerã€Longã€Floatã€Doubleã€Characterã€Boolean</p>
<h3 id="åŸºæœ¬æ•°æ®ç±»å‹å’ŒåŒ…è£…ç±»å‹çš„åŒºåˆ«ï¼Ÿ"><a href="#åŸºæœ¬æ•°æ®ç±»å‹å’ŒåŒ…è£…ç±»å‹çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="åŸºæœ¬æ•°æ®ç±»å‹å’ŒåŒ…è£…ç±»å‹çš„åŒºåˆ«ï¼Ÿ"></a>åŸºæœ¬æ•°æ®ç±»å‹å’ŒåŒ…è£…ç±»å‹çš„åŒºåˆ«ï¼Ÿ</h3><p><img src="https://oss.javaguide.cn/github/javaguide/java/basis/primitive-type-vs-packaging-type.png" alt="åŸºæœ¬ç±»å‹ vs åŒ…è£…ç±»å‹"></p>
<p><strong>ç”¨é€”</strong>ï¼šé™¤äº†å®šä¹‰ä¸€äº›å¸¸é‡å’Œå±€éƒ¨å˜é‡ä¹‹å¤–ï¼Œæˆ‘ä»¬åœ¨å…¶ä»–åœ°æ–¹æ¯”å¦‚æ–¹æ³•å‚æ•°ã€å¯¹è±¡å±æ€§ä¸­å¾ˆå°‘ä¼šä½¿ç”¨åŸºæœ¬ç±»å‹æ¥å®šä¹‰å˜é‡ã€‚å¹¶ä¸”ï¼ŒåŒ…è£…ç±»å‹å¯ç”¨äºæ³›å‹ï¼Œè€ŒåŸºæœ¬ç±»å‹ä¸å¯ä»¥ã€‚</p>
<p><strong>å­˜å‚¨æ–¹å¼</strong>ï¼šåŸºæœ¬æ•°æ®ç±»å‹çš„å±€éƒ¨å˜é‡å­˜æ”¾åœ¨ Java è™šæ‹Ÿæœºæ ˆä¸­çš„å±€éƒ¨å˜é‡è¡¨ä¸­ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹çš„æˆå‘˜å˜é‡ï¼ˆæœªè¢« <code>static</code> ä¿®é¥° ï¼‰å­˜æ”¾åœ¨ Java è™šæ‹Ÿæœºçš„å †ä¸­ã€‚åŒ…è£…ç±»å‹å±äºå¯¹è±¡ç±»å‹ï¼Œæˆ‘ä»¬çŸ¥é“å‡ ä¹æ‰€æœ‰å¯¹è±¡å®ä¾‹éƒ½å­˜åœ¨äºå †ä¸­ã€‚</p>
<p><strong>å ç”¨ç©ºé—´</strong>ï¼šç›¸æ¯”äºåŒ…è£…ç±»å‹ï¼ˆå¯¹è±¡ç±»å‹ï¼‰ï¼Œ åŸºæœ¬æ•°æ®ç±»å‹å ç”¨çš„ç©ºé—´å¾€å¾€éå¸¸å°ã€‚</p>
<p><strong>é»˜è®¤å€¼</strong>ï¼šæˆå‘˜å˜é‡åŒ…è£…ç±»å‹ä¸èµ‹å€¼å°±æ˜¯ <code>null</code> ï¼Œè€ŒåŸºæœ¬ç±»å‹æœ‰é»˜è®¤å€¼ä¸”ä¸æ˜¯ <code>null</code>ã€‚</p>
<p><strong>æ¯”è¾ƒæ–¹å¼</strong>ï¼šå¯¹äºåŸºæœ¬æ•°æ®ç±»å‹æ¥è¯´ï¼Œ<code>==</code> æ¯”è¾ƒçš„æ˜¯å€¼ã€‚å¯¹äºåŒ…è£…æ•°æ®ç±»å‹æ¥è¯´ï¼Œ<code>==</code> æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ã€‚æ‰€æœ‰æ•´å‹åŒ…è£…ç±»å¯¹è±¡ä¹‹é—´å€¼çš„æ¯”è¾ƒï¼Œå…¨éƒ¨ä½¿ç”¨ <code>equals()</code> æ–¹æ³•ã€‚</p>
<p>âš ï¸ æ³¨æ„ï¼š<strong>åŸºæœ¬æ•°æ®ç±»å‹å­˜æ”¾åœ¨æ ˆä¸­æ˜¯ä¸€ä¸ªå¸¸è§çš„è¯¯åŒºï¼</strong> åŸºæœ¬æ•°æ®ç±»å‹çš„å­˜å‚¨ä½ç½®å–å†³äºå®ƒä»¬çš„ä½œç”¨åŸŸå’Œå£°æ˜æ–¹å¼ã€‚å¦‚æœå®ƒä»¬æ˜¯å±€éƒ¨å˜é‡ï¼Œé‚£ä¹ˆå®ƒä»¬ä¼šå­˜æ”¾åœ¨æ ˆä¸­ï¼›å¦‚æœå®ƒä»¬æ˜¯æˆå‘˜å˜é‡ï¼Œé‚£ä¹ˆå®ƒä»¬ä¼šå­˜æ”¾åœ¨å †ä¸­ã€‚</p>
<h3 id="åŒ…è£…ç±»å‹çš„ç¼“å­˜æœºåˆ¶ï¼Ÿ"><a href="#åŒ…è£…ç±»å‹çš„ç¼“å­˜æœºåˆ¶ï¼Ÿ" class="headerlink" title="åŒ…è£…ç±»å‹çš„ç¼“å­˜æœºåˆ¶ï¼Ÿ"></a>åŒ…è£…ç±»å‹çš„ç¼“å­˜æœºåˆ¶ï¼Ÿ</h3><p>JavaåŸºæœ¬æ•°æ®ç±»å‹çš„åŒ…è£…ç±»å‹å¤§éƒ¨åˆ†éƒ½ç”¨åˆ°äº†ç¼“å­˜æœºåˆ¶æ¥æå‡æ€§èƒ½ã€‚</p>
<p>Byteã€Shortã€Integerã€Longè¿™å››ç§åŒ…è£…ç±»é»˜è®¤åˆ›å»ºäº†æ•°å€¼[-128, 127]çš„ç›¸åº”ç±»å‹çš„ç¼“å­˜æ•°æ®ï¼ŒCharacteråˆ›å»ºäº†æ•°å€¼åœ¨[0, 127]èŒƒå›´çš„ç¼“å­˜æ•°æ®ï¼ŒBooleanç›´æ¥è¿”å›Trueæˆ–è€…Falseã€‚</p>
<p><strong>æ‰€æœ‰æ•´å‹åŒ…è£…ç±»å¯¹è±¡ä¹‹é—´å€¼çš„æ¯”è¾ƒï¼Œå…¨éƒ¨ä½¿ç”¨ equals æ–¹æ³•æ¯”è¾ƒ</strong>ã€‚</p>
<h3 id="è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±ï¼ŸåŸç†ï¼Ÿ"><a href="#è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±ï¼ŸåŸç†ï¼Ÿ" class="headerlink" title="è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±ï¼ŸåŸç†ï¼Ÿ"></a>è‡ªåŠ¨è£…ç®±ä¸æ‹†ç®±ï¼ŸåŸç†ï¼Ÿ</h3><p><strong>ä»€ä¹ˆæ˜¯è‡ªåŠ¨æ‹†è£…ç®±ï¼Ÿ</strong></p>
<ul>
<li><strong>è£…ç®±</strong>ï¼šå°†åŸºæœ¬ç±»å‹ç”¨å®ƒä»¬å¯¹åº”çš„å¼•ç”¨ç±»å‹åŒ…è£…èµ·æ¥ï¼›</li>
<li><strong>æ‹†ç®±</strong>ï¼šå°†åŒ…è£…ç±»å‹è½¬æ¢ä¸ºåŸºæœ¬æ•°æ®ç±»å‹ï¼›</li>
</ul>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="type">Integer</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">10</span>;  <span class="comment">//è£…ç®±</span></span><br><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> i;   <span class="comment">//æ‹†ç®±</span></span><br></pre></td></tr></table></figure>

<p>è£…ç®±å…¶å®å°±æ˜¯è°ƒç”¨äº†åŒ…è£…ç±»çš„valueOf()æ–¹æ³•ï¼Œæ‹†ç®±è°ƒç”¨äº†xxxValue()æ–¹æ³•ã€‚</p>
<ul>
<li><code>Integer i = 10</code> ç­‰ä»·äº <code>Integer i = Integer.valueOf(10)</code></li>
<li><code>int n = i</code> ç­‰ä»·äº <code>int n = i.intValue()</code>;</li>
</ul>
<p><strong>å¦‚æœé¢‘ç¹æ‹†è£…ç®±çš„è¯ï¼Œä¹Ÿä¼šä¸¥é‡å½±å“ç³»ç»Ÿçš„æ€§èƒ½ã€‚æˆ‘ä»¬åº”è¯¥å°½é‡é¿å…ä¸å¿…è¦çš„æ‹†è£…ç®±æ“ä½œã€‚</strong></p>
<h3 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h3><h4 id="æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«"><a href="#æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«" class="headerlink" title="æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«"></a>æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ«</h4><p><img src="https://oss.javaguide.cn/github/javaguide/java/basis/member-var-vs-local-var.png" alt="æˆå‘˜å˜é‡ vs å±€éƒ¨å˜é‡"></p>
<ul>
<li><p><strong>è¯­æ³•å½¢å¼</strong>ï¼šä»è¯­æ³•å½¢å¼ä¸Šçœ‹ï¼Œæˆå‘˜å˜é‡æ˜¯å±äºç±»çš„ï¼Œè€Œå±€éƒ¨å˜é‡æ˜¯åœ¨ä»£ç å—æˆ–æ–¹æ³•ä¸­å®šä¹‰çš„å˜é‡æˆ–æ˜¯æ–¹æ³•çš„å‚æ•°ï¼›æˆå‘˜å˜é‡å¯ä»¥è¢« <code>public</code>,<code>private</code>,<code>static</code> ç­‰ä¿®é¥°ç¬¦æ‰€ä¿®é¥°ï¼Œè€Œå±€éƒ¨å˜é‡ä¸èƒ½è¢«è®¿é—®æ§åˆ¶ä¿®é¥°ç¬¦åŠ <code>static</code> æ‰€ä¿®é¥°ï¼›ä½†æ˜¯ï¼Œæˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡éƒ½èƒ½è¢« <code>final</code> æ‰€ä¿®é¥°ã€‚</p>
<p><strong>å­˜å‚¨æ–¹å¼</strong>ï¼šä»å˜é‡åœ¨å†…å­˜ä¸­çš„å­˜å‚¨æ–¹å¼æ¥çœ‹ï¼Œå¦‚æœæˆå‘˜å˜é‡æ˜¯ä½¿ç”¨ <code>static</code> ä¿®é¥°çš„ï¼Œé‚£ä¹ˆè¿™ä¸ªæˆå‘˜å˜é‡æ˜¯å±äºç±»çš„ï¼Œå¦‚æœæ²¡æœ‰ä½¿ç”¨ <code>static</code> ä¿®é¥°ï¼Œè¿™ä¸ªæˆå‘˜å˜é‡æ˜¯å±äºå®ä¾‹çš„ã€‚è€Œå¯¹è±¡å­˜åœ¨äºå †å†…å­˜ï¼Œå±€éƒ¨å˜é‡åˆ™å­˜åœ¨äºæ ˆå†…å­˜ã€‚</p>
<p><strong>ç”Ÿå­˜æ—¶é—´</strong>ï¼šä»å˜é‡åœ¨å†…å­˜ä¸­çš„ç”Ÿå­˜æ—¶é—´ä¸Šçœ‹ï¼Œæˆå‘˜å˜é‡æ˜¯å¯¹è±¡çš„ä¸€éƒ¨åˆ†ï¼Œå®ƒéšç€å¯¹è±¡çš„åˆ›å»ºè€Œå­˜åœ¨ï¼Œè€Œå±€éƒ¨å˜é‡éšç€æ–¹æ³•çš„è°ƒç”¨è€Œè‡ªåŠ¨ç”Ÿæˆï¼Œéšç€æ–¹æ³•çš„è°ƒç”¨ç»“æŸè€Œæ¶ˆäº¡ã€‚</p>
<p><strong>é»˜è®¤å€¼</strong>ï¼šä»å˜é‡æ˜¯å¦æœ‰é»˜è®¤å€¼æ¥çœ‹ï¼Œæˆå‘˜å˜é‡å¦‚æœæ²¡æœ‰è¢«èµ‹åˆå§‹å€¼ï¼Œåˆ™ä¼šè‡ªåŠ¨ä»¥ç±»å‹çš„é»˜è®¤å€¼è€Œèµ‹å€¼ï¼ˆä¸€ç§æƒ…å†µä¾‹å¤–:è¢« <code>final</code> ä¿®é¥°çš„æˆå‘˜å˜é‡ä¹Ÿå¿…é¡»æ˜¾å¼åœ°èµ‹å€¼ï¼‰ï¼Œè€Œå±€éƒ¨å˜é‡åˆ™ä¸ä¼šè‡ªåŠ¨èµ‹å€¼ã€‚</p>
</li>
</ul>
<h4 id="ä¸ºä»€ä¹ˆæˆå‘˜å˜é‡æœ‰é»˜è®¤å€¼ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆæˆå‘˜å˜é‡æœ‰é»˜è®¤å€¼ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆæˆå‘˜å˜é‡æœ‰é»˜è®¤å€¼ï¼Ÿ"></a>ä¸ºä»€ä¹ˆæˆå‘˜å˜é‡æœ‰é»˜è®¤å€¼ï¼Ÿ</h4><p>1.å˜é‡å­˜å‚¨çš„æ˜¯å†…å­˜åœ°å€å¯¹åº”çš„ä»»æ„éšæœºå€¼ï¼Œç¨‹åºè¯»å–è¯¥å€¼æ—¶ä¼šå‡ºç°æ„å¤–ã€‚</p>
<p>2.é»˜è®¤å€¼æœ‰ä¸¤ç§è®¾ç½®æ–¹å¼ï¼šæ‰‹åŠ¨å’Œè‡ªåŠ¨</p>
<h3 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h3><h4 id="é™æ€æ–¹æ³•ä¸ºä»€ä¹ˆä¸èƒ½è°ƒç”¨éé™æ€æˆå‘˜ï¼Ÿ"><a href="#é™æ€æ–¹æ³•ä¸ºä»€ä¹ˆä¸èƒ½è°ƒç”¨éé™æ€æˆå‘˜ï¼Ÿ" class="headerlink" title="é™æ€æ–¹æ³•ä¸ºä»€ä¹ˆä¸èƒ½è°ƒç”¨éé™æ€æˆå‘˜ï¼Ÿ"></a>é™æ€æ–¹æ³•ä¸ºä»€ä¹ˆä¸èƒ½è°ƒç”¨éé™æ€æˆå‘˜ï¼Ÿ</h4><p>1.é™æ€æ–¹æ³•æ˜¯å±äºç±»çš„ï¼Œç±»åŠ è½½æ—¶å°±ä¼šåˆ†é…å†…å­˜ï¼Œå¯ä»¥é€šè¿‡ç±»åç›´æ¥è®¿é—®ã€‚è€Œéé™æ€æˆå‘˜å±äºå®ä¾‹å¯¹è±¡ï¼Œåªæœ‰åœ¨å¯¹è±¡å®ä¾‹åŒ–åæ‰å­˜åœ¨ï¼Œéœ€è¦é€šè¿‡ç±»çš„å®ä¾‹å¯¹è±¡å»è°ƒç”¨ã€‚</p>
<p>2.åœ¨ç±»çš„éé™æ€æˆå‘˜ä¸å­˜åœ¨æ—¶é™æ€æ–¹æ³•å°±å·²ç»å­˜åœ¨äº†ï¼Œæ­¤æ—¶å†…å­˜è°ƒç”¨å†…å­˜ä¸­ä¸å­˜åœ¨çš„éé™æ€æˆå‘˜å±äºéæ³•æ“ä½œã€‚</p>
<h4 id="é‡è½½ä¸é‡å†™"><a href="#é‡è½½ä¸é‡å†™" class="headerlink" title="é‡è½½ä¸é‡å†™"></a>é‡è½½ä¸é‡å†™</h4><p><strong>é‡è½½</strong></p>
<p>å‘ç”Ÿåœ¨åŒä¸€ä¸ªç±»ä¸­ï¼ˆæˆ–è€…çˆ¶ç±»å’Œå­ç±»ä¹‹é—´ï¼‰ï¼Œæ–¹æ³•åå¿…é¡»ç›¸åŒï¼Œå‚æ•°ç±»å‹ä¸åŒï¼Œä¸ªæ•°ä¸åŒï¼Œé¡ºåºä¸åŒï¼Œè¿”å›å€¼å’Œè®¿é—®ä¿®é¥°ç¬¦å¯ä»¥ä¸åŒã€‚</p>
<p><strong>é‡å†™</strong></p>
<p>é‡å†™å‘ç”Ÿåœ¨è¿è¡ŒæœŸï¼Œæ˜¯å­ç±»å¯¹çˆ¶ç±»çš„å…è®¸è®¿é—®çš„æ–¹æ³•çš„å®ç°è¿‡ç¨‹è¿›è¡Œé‡æ–°ç¼–å†™ã€‚</p>
<p>1.æ–¹æ³•åã€‘å‚æ•°åˆ—è¡¨å¿…é¡»ç›¸åŒï¼Œå­ç±»æ–¹æ³•è¿”å›å€¼ç±»å‹åº”æ¯”çˆ¶ç±»æ–¹æ³•è¿”å›å€¼ç±»å‹ç›¸åŒæˆ–æ›´å°ï¼ŒæŠ›å‡ºçš„å¼‚å¸¸èŒƒå›´å°äºç­‰äºçˆ¶ç±»ï¼Œè®¿é—®ä¿®é¥°ç¬¦èŒƒå›´å¤§äºç­‰äºçˆ¶ç±»ã€‚</p>
<p>2.å¦‚æœçˆ¶ç±»æ–¹æ³•è®¿é—®ä¿®é¥°ç¬¦ä¸º <code>private/final/static</code> åˆ™å­ç±»å°±ä¸èƒ½é‡å†™è¯¥æ–¹æ³•ï¼Œä½†æ˜¯è¢« <code>static</code> ä¿®é¥°çš„æ–¹æ³•èƒ½å¤Ÿè¢«å†æ¬¡å£°æ˜ã€‚</p>
<p>3.æ„é€ æ–¹æ³•æ— æ³•è¢«é‡å†™</p>
<h2 id="é¢å‘å¯¹è±¡åŸºç¡€"><a href="#é¢å‘å¯¹è±¡åŸºç¡€" class="headerlink" title="é¢å‘å¯¹è±¡åŸºç¡€"></a>é¢å‘å¯¹è±¡åŸºç¡€</h2><h3 id="é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«ï¼Ÿ"><a href="#é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«ï¼Ÿ"></a>é¢å‘å¯¹è±¡å’Œé¢å‘è¿‡ç¨‹çš„åŒºåˆ«ï¼Ÿ</h3><p>ä¸¤è€…åŒºåˆ«åœ¨äºè§£å†³é—®é¢˜çš„æ–¹å¼ä¸åŒï¼š</p>
<ul>
<li>é¢å‘è¿‡ç¨‹æŠŠè§£å†³é—®é¢˜çš„è¿‡ç¨‹æ‹†åˆ†æˆä¸€ä¸ªä¸ªæ–¹æ³•ï¼Œé€šè¿‡ä¸€ä¸ªä¸ªæ–¹æ³•è§£å†³é—®é¢˜ã€‚</li>
<li>é¢å‘å¯¹è±¡ä¼šå…ˆæŠ½è±¡å‡ºå¯¹è±¡ï¼Œç„¶åå¯¹è±¡æ‰§è¡Œæ–¹æ³•æ¥è§£å†³é—®é¢˜ã€‚</li>
</ul>
<p>é¢å‘å¯¹è±¡å¼€å‘çš„ç¨‹åºä¸€èˆ¬æ›´æ˜“ç»´æŠ¤ã€æ˜“æœç”¨ã€æ˜“æ‰©å±•ã€‚</p>
<h3 id="åˆ›å»ºä¸€ä¸ªå¯¹è±¡ç”¨ä»€ä¹ˆè¿ç®—ç¬¦ï¼Ÿå¯¹è±¡å®ä½“ä¸å¯¹è±¡å¼•ç”¨æœ‰ä½•ä¸åŒï¼Ÿ"><a href="#åˆ›å»ºä¸€ä¸ªå¯¹è±¡ç”¨ä»€ä¹ˆè¿ç®—ç¬¦ï¼Ÿå¯¹è±¡å®ä½“ä¸å¯¹è±¡å¼•ç”¨æœ‰ä½•ä¸åŒï¼Ÿ" class="headerlink" title="åˆ›å»ºä¸€ä¸ªå¯¹è±¡ç”¨ä»€ä¹ˆè¿ç®—ç¬¦ï¼Ÿå¯¹è±¡å®ä½“ä¸å¯¹è±¡å¼•ç”¨æœ‰ä½•ä¸åŒï¼Ÿ"></a>åˆ›å»ºä¸€ä¸ªå¯¹è±¡ç”¨ä»€ä¹ˆè¿ç®—ç¬¦ï¼Ÿå¯¹è±¡å®ä½“ä¸å¯¹è±¡å¼•ç”¨æœ‰ä½•ä¸åŒï¼Ÿ</h3><p>newè¿ç®—ç¬¦ï¼Œnewåˆ›å»ºå¯¹è±¡å®ä¾‹ï¼ˆå¯¹è±¡å®ä¾‹åœ¨å †å†…å­˜ä¸­ï¼‰ï¼Œå¯¹è±¡å¼•ç”¨æŒ‡å‘å¯¹è±¡å®ä¾‹ï¼ˆå¯¹è±¡åº”ç”¨å­˜æ”¾åœ¨æ ˆå†…å­˜ä¸­ï¼‰ã€‚</p>
<ul>
<li>ä¸€ä¸ªå¯¹è±¡å¼•ç”¨å¯ä»¥æŒ‡å‘0æˆ–1ä¸ªå¯¹è±¡</li>
<li>ä¸€ä¸ªå¯¹è±¡å¯ä»¥æœ‰nä¸ªå¼•ç”¨æŒ‡å‘å®ƒ</li>
</ul>
<h3 id="å¯¹è±¡ç›¸ç­‰å’Œå¼•ç”¨ç›¸ç­‰åŒºåˆ«"><a href="#å¯¹è±¡ç›¸ç­‰å’Œå¼•ç”¨ç›¸ç­‰åŒºåˆ«" class="headerlink" title="å¯¹è±¡ç›¸ç­‰å’Œå¼•ç”¨ç›¸ç­‰åŒºåˆ«"></a>å¯¹è±¡ç›¸ç­‰å’Œå¼•ç”¨ç›¸ç­‰åŒºåˆ«</h3><ul>
<li>å¯¹è±¡çš„ç›¸ç­‰ä¸€èˆ¬æ¯”è¾ƒçš„æ˜¯å†…å­˜ä¸­å­˜æ”¾çš„å†…å®¹æ˜¯å¦ç›¸ç­‰ã€‚</li>
<li>å¼•ç”¨ç›¸ç­‰ä¸€èˆ¬æŒ‡çš„æ˜¯æŒ‡å‘çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸ç­‰</li>
</ul>
<p><code>==</code>å’Œ<code>equals</code></p>
<h3 id="é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾"><a href="#é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾" class="headerlink" title="é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾"></a>é¢å‘å¯¹è±¡çš„ä¸‰å¤§ç‰¹å¾</h3><h4 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h4><p>å°è£…æ˜¯æŒ‡æŠŠä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€ä¿¡æ¯ï¼ˆä¹Ÿå°±æ˜¯å±æ€§ï¼‰éšè—åœ¨å¯¹è±¡å†…éƒ¨ï¼Œä¸å…è®¸å¤–éƒ¨å¯¹è±¡ç›´æ¥è®¿é—®å¯¹è±¡çš„å†…éƒ¨ä¿¡æ¯ã€‚ä½†æ˜¯å¯ä»¥æä¾›ä¸€äº›å¯ä»¥è¢«å¤–ç•Œè®¿é—®çš„æ–¹æ³•æ¥æ“ä½œå±æ€§ã€‚</p>
<h4 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h4><p>ç»§æ‰¿æ˜¯ä½¿ç”¨å·²å­˜åœ¨çš„ç±»çš„å®šä¹‰ä½œä¸ºåŸºç¡€å»ºç«‹æ–°ç±»çš„æŠ€æœ¯ï¼Œæ–°ç±»çš„å®šä¹‰å¯ä»¥å¢åŠ æ–°çš„æ•°æ®æˆ–æ–°çš„åŠŸèƒ½ï¼Œä¹Ÿå¯ä»¥ç”¨çˆ¶ç±»çš„åŠŸèƒ½ï¼Œä½†ä¸èƒ½é€‰æ‹©æ€§åœ°ç»§æ‰¿çˆ¶ç±»ã€‚é€šè¿‡ä½¿ç”¨ç»§æ‰¿ï¼Œå¯ä»¥å¿«é€Ÿåœ°åˆ›å»ºæ–°çš„ç±»ï¼Œå¯ä»¥æé«˜ä»£ç çš„é‡ç”¨ï¼Œç¨‹åºçš„å¯ç»´æŠ¤æ€§ï¼ŒèŠ‚çœå¤§é‡åˆ›å»ºæ–°ç±»çš„æ—¶é—´ ï¼Œæé«˜æˆ‘ä»¬çš„å¼€å‘æ•ˆç‡</p>
<p><strong>å…³äºç»§æ‰¿å¦‚ä¸‹ 3 ç‚¹è¯·è®°ä½ï¼š</strong></p>
<ol>
<li>å­ç±»æ‹¥æœ‰çˆ¶ç±»å¯¹è±¡æ‰€æœ‰çš„å±æ€§å’Œæ–¹æ³•ï¼ˆåŒ…æ‹¬ç§æœ‰å±æ€§å’Œç§æœ‰æ–¹æ³•ï¼‰ï¼Œä½†æ˜¯çˆ¶ç±»ä¸­çš„ç§æœ‰å±æ€§å’Œæ–¹æ³•å­ç±»æ˜¯æ— æ³•è®¿é—®ï¼Œ<strong>åªæ˜¯æ‹¥æœ‰</strong>ã€‚</li>
<li>å­ç±»å¯ä»¥æ‹¥æœ‰è‡ªå·±å±æ€§å’Œæ–¹æ³•ï¼Œå³å­ç±»å¯ä»¥å¯¹çˆ¶ç±»è¿›è¡Œæ‰©å±•ã€‚</li>
<li>å­ç±»å¯ä»¥ç”¨è‡ªå·±çš„æ–¹å¼å®ç°çˆ¶ç±»çš„æ–¹æ³•ã€‚</li>
</ol>
<h4 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h4><p>å¤šæ€ï¼Œé¡¾åæ€ä¹‰ï¼Œè¡¨ç¤ºä¸€ä¸ªå¯¹è±¡å…·æœ‰å¤šç§çš„çŠ¶æ€ï¼Œå…·ä½“è¡¨ç°ä¸ºçˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘å­ç±»çš„å®ä¾‹ã€‚</p>
<p><strong>å¤šæ€çš„ç‰¹ç‚¹:</strong></p>
<ul>
<li>å¯¹è±¡ç±»å‹å’Œå¼•ç”¨ç±»å‹ä¹‹é—´å…·æœ‰ç»§æ‰¿ï¼ˆç±»ï¼‰&#x2F;å®ç°ï¼ˆæ¥å£ï¼‰çš„å…³ç³»ï¼›</li>
<li>å¼•ç”¨ç±»å‹å˜é‡å‘å‡ºçš„æ–¹æ³•è°ƒç”¨çš„åˆ°åº•æ˜¯å“ªä¸ªç±»ä¸­çš„æ–¹æ³•ï¼Œå¿…é¡»åœ¨ç¨‹åºè¿è¡ŒæœŸé—´æ‰èƒ½ç¡®å®šï¼›</li>
<li>å¤šæ€ä¸èƒ½è°ƒç”¨â€œåªåœ¨å­ç±»å­˜åœ¨ä½†åœ¨çˆ¶ç±»ä¸å­˜åœ¨â€çš„æ–¹æ³•ï¼›</li>
<li>å¦‚æœå­ç±»é‡å†™äº†çˆ¶ç±»çš„æ–¹æ³•ï¼ŒçœŸæ­£æ‰§è¡Œçš„æ˜¯å­ç±»è¦†ç›–çš„æ–¹æ³•ï¼Œå¦‚æœå­ç±»æ²¡æœ‰è¦†ç›–çˆ¶ç±»çš„æ–¹æ³•ï¼Œæ‰§è¡Œçš„æ˜¯çˆ¶ç±»çš„æ–¹æ³•ã€‚</li>
</ul>
<h3 id="æ¥å£å’ŒæŠ½è±¡ç±»æœ‰ä»€ä¹ˆå…±åŒç‚¹å’ŒåŒºåˆ«ï¼Ÿ"><a href="#æ¥å£å’ŒæŠ½è±¡ç±»æœ‰ä»€ä¹ˆå…±åŒç‚¹å’ŒåŒºåˆ«ï¼Ÿ" class="headerlink" title="æ¥å£å’ŒæŠ½è±¡ç±»æœ‰ä»€ä¹ˆå…±åŒç‚¹å’ŒåŒºåˆ«ï¼Ÿ"></a>æ¥å£å’ŒæŠ½è±¡ç±»æœ‰ä»€ä¹ˆå…±åŒç‚¹å’ŒåŒºåˆ«ï¼Ÿ</h3><h5 id="å…±åŒç‚¹ï¼š"><a href="#å…±åŒç‚¹ï¼š" class="headerlink" title="å…±åŒç‚¹ï¼š"></a>å…±åŒç‚¹ï¼š</h5><ul>
<li>éƒ½ä¸èƒ½è¢«å®ä¾‹åŒ–</li>
<li>éƒ½å¯ä»¥åŒ…å«æŠ½è±¡æ–¹æ³•</li>
<li>éƒ½å¯ä»¥æœ‰é»˜è®¤å®ç°çš„æ–¹æ³•ï¼ˆJava8å¯ä»¥ç”¨defaultå…³é”®å­—åœ¨æ¥å£ä¸­å®šä¹‰é»˜è®¤æ–¹æ³•ï¼‰</li>
</ul>
<h5 id="åŒºåˆ«ï¼š"><a href="#åŒºåˆ«ï¼š" class="headerlink" title="åŒºåˆ«ï¼š"></a>åŒºåˆ«ï¼š</h5><ul>
<li>æ¥å£ä¸»è¦ç”¨äºå¯¹ç±»çš„è¡Œä¸ºè¿›è¡Œçº¦æŸï¼Œå®ç°æŸä¸ªæ¥å£å°±å…·æœ‰äº†å¯¹åº”çš„è¡Œä¸ºã€‚æŠ½è±¡ç±»ä¸»è¦ç”¨äºä»£ç å¤ç”¨ï¼Œå¼ºè°ƒçš„æ˜¯æ‰€å±å…³ç³»ã€‚</li>
<li>ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªç±»ï¼Œä½†æ˜¯å¯ä»¥å®ç°å¤šä¸ªæ¥å£ã€‚</li>
<li>æ¥å£ä¸­çš„æˆå‘˜å˜é‡åªèƒ½æ˜¯<code>public static final</code>ç±»å‹çš„ï¼Œä¸èƒ½è¢«ä¿®æ”¹ä¸”å¿…é¡»æœ‰åˆå§‹å€¼ï¼Œè€ŒæŠ½è±¡ç±»çš„æˆå‘˜å˜é‡é»˜è®¤defaultï¼Œå¯ä»¥åœ¨å­ç±»ä¸­è¢«é‡æ–°å®šä¹‰ï¼Œä¹Ÿå¯è¢«é‡æ–°èµ‹å€¼ã€‚</li>
</ul>
<h3 id="æ·±æ‹·è´å’Œæµ…æ‹·è´åŒºåˆ«ï¼Ÿä»€ä¹ˆæ˜¯å¼•ç”¨æ‹·è´ï¼Ÿ"><a href="#æ·±æ‹·è´å’Œæµ…æ‹·è´åŒºåˆ«ï¼Ÿä»€ä¹ˆæ˜¯å¼•ç”¨æ‹·è´ï¼Ÿ" class="headerlink" title="æ·±æ‹·è´å’Œæµ…æ‹·è´åŒºåˆ«ï¼Ÿä»€ä¹ˆæ˜¯å¼•ç”¨æ‹·è´ï¼Ÿ"></a>æ·±æ‹·è´å’Œæµ…æ‹·è´åŒºåˆ«ï¼Ÿä»€ä¹ˆæ˜¯å¼•ç”¨æ‹·è´ï¼Ÿ</h3><p><strong>æµ…æ‹·è´</strong>ï¼šæµ…æ‹·è´ä¼šåœ¨å †ä¸Šåˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼ˆåŒºåˆ«äºå¼•ç”¨æ‹·è´çš„ä¸€ç‚¹ï¼‰ï¼Œä¸è¿‡ï¼Œå¦‚æœåŸå¯¹è±¡å†…éƒ¨çš„å±æ€§æ˜¯å¼•ç”¨ç±»å‹çš„è¯ï¼Œæµ…æ‹·è´ä¼šç›´æ¥å¤åˆ¶å†…éƒ¨å¯¹è±¡çš„å¼•ç”¨åœ°å€ï¼Œä¹Ÿå°±æ˜¯è¯´æ‹·è´å¯¹è±¡å’ŒåŸå¯¹è±¡å…±ç”¨åŒä¸€ä¸ªå†…éƒ¨å¯¹è±¡ã€‚</p>
<p><strong>æ·±æ‹·è´</strong>ï¼šæ·±æ‹·è´ä¼šå®Œå…¨å¤åˆ¶æ•´ä¸ªå¯¹è±¡ï¼ŒåŒ…æ‹¬è¿™ä¸ªå¯¹è±¡æ‰€åŒ…å«çš„å†…éƒ¨å¯¹è±¡ã€‚</p>
<p><strong>å¼•ç”¨æ‹·è´</strong>ï¼šå¼•ç”¨æ‹·è´å°±æ˜¯ä¸¤ä¸ªä¸åŒçš„å¼•ç”¨æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p><img src="https://oss.javaguide.cn/github/javaguide/java/basis/shallow&deep-copy.png" alt="æµ…æ‹·è´ã€æ·±æ‹·è´ã€å¼•ç”¨æ‹·è´ç¤ºæ„å›¾"></p>
<h2 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h2><h3 id="Objectç±»å¸¸è§æ–¹æ³•ï¼Ÿ"><a href="#Objectç±»å¸¸è§æ–¹æ³•ï¼Ÿ" class="headerlink" title="Objectç±»å¸¸è§æ–¹æ³•ï¼Ÿ"></a>Objectç±»å¸¸è§æ–¹æ³•ï¼Ÿ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * native æ–¹æ³•ï¼Œç”¨äºè¿”å›å½“å‰è¿è¡Œæ—¶å¯¹è±¡çš„ Class å¯¹è±¡ï¼Œä½¿ç”¨äº† final å…³é”®å­—ä¿®é¥°ï¼Œæ•…ä¸å…è®¸å­ç±»é‡å†™ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> Class&lt;?&gt; getClass()</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * native æ–¹æ³•ï¼Œç”¨äºè¿”å›å¯¹è±¡çš„å“ˆå¸Œç ï¼Œä¸»è¦ä½¿ç”¨åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œæ¯”å¦‚ JDK ä¸­çš„HashMapã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">native</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”¨äºæ¯”è¾ƒ 2 ä¸ªå¯¹è±¡çš„å†…å­˜åœ°å€æ˜¯å¦ç›¸ç­‰ï¼ŒString ç±»å¯¹è¯¥æ–¹æ³•è¿›è¡Œäº†é‡å†™ä»¥ç”¨äºæ¯”è¾ƒå­—ç¬¦ä¸²çš„å€¼æ˜¯å¦ç›¸ç­‰ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * native æ–¹æ³•ï¼Œç”¨äºåˆ›å»ºå¹¶è¿”å›å½“å‰å¯¹è±¡çš„ä¸€ä»½æ‹·è´ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">native</span> Object <span class="title function_">clone</span><span class="params">()</span> <span class="keyword">throws</span> CloneNotSupportedException</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è¿”å›ç±»çš„åå­—å®ä¾‹çš„å“ˆå¸Œç çš„ 16 è¿›åˆ¶çš„å­—ç¬¦ä¸²ã€‚å»ºè®® Object æ‰€æœ‰çš„å­ç±»éƒ½é‡å†™è¿™ä¸ªæ–¹æ³•ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * native æ–¹æ³•ï¼Œå¹¶ä¸”ä¸èƒ½é‡å†™ã€‚å”¤é†’ä¸€ä¸ªåœ¨æ­¤å¯¹è±¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„çº¿ç¨‹(ç›‘è§†å™¨ç›¸å½“äºå°±æ˜¯é”çš„æ¦‚å¿µ)ã€‚å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹åœ¨ç­‰å¾…åªä¼šä»»æ„å”¤é†’ä¸€ä¸ªã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">notify</span><span class="params">()</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * native æ–¹æ³•ï¼Œå¹¶ä¸”ä¸èƒ½é‡å†™ã€‚è·Ÿ notify ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ«å°±æ˜¯ä¼šå”¤é†’åœ¨æ­¤å¯¹è±¡ç›‘è§†å™¨ä¸Šç­‰å¾…çš„æ‰€æœ‰çº¿ç¨‹ï¼Œè€Œä¸æ˜¯ä¸€ä¸ªçº¿ç¨‹ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">notifyAll</span><span class="params">()</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * nativeæ–¹æ³•ï¼Œå¹¶ä¸”ä¸èƒ½é‡å†™ã€‚æš‚åœçº¿ç¨‹çš„æ‰§è¡Œã€‚æ³¨æ„ï¼šsleep æ–¹æ³•æ²¡æœ‰é‡Šæ”¾é”ï¼Œè€Œ wait æ–¹æ³•é‡Šæ”¾äº†é” ï¼Œtimeout æ˜¯ç­‰å¾…æ—¶é—´ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">wait</span><span class="params">(<span class="type">long</span> timeout)</span> <span class="keyword">throws</span> InterruptedException</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤šäº† nanos å‚æ•°ï¼Œè¿™ä¸ªå‚æ•°è¡¨ç¤ºé¢å¤–æ—¶é—´ï¼ˆä»¥çº³ç§’ä¸ºå•ä½ï¼ŒèŒƒå›´æ˜¯ 0-999999ï¼‰ã€‚ æ‰€ä»¥è¶…æ—¶çš„æ—¶é—´è¿˜éœ€è¦åŠ ä¸Š nanos çº³ç§’ã€‚ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">wait</span><span class="params">(<span class="type">long</span> timeout, <span class="type">int</span> nanos)</span> <span class="keyword">throws</span> InterruptedException</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·Ÿä¹‹å‰çš„2ä¸ªwaitæ–¹æ³•ä¸€æ ·ï¼Œåªä¸è¿‡è¯¥æ–¹æ³•ä¸€ç›´ç­‰å¾…ï¼Œæ²¡æœ‰è¶…æ—¶æ—¶é—´è¿™ä¸ªæ¦‚å¿µ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">wait</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å®ä¾‹è¢«åƒåœ¾å›æ”¶å™¨å›æ”¶çš„æ—¶å€™è§¦å‘çš„æ“ä½œ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">finalize</span><span class="params">()</span> <span class="keyword">throws</span> Throwable &#123; &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="å’Œ-equals-çš„åŒºåˆ«"><a href="#å’Œ-equals-çš„åŒºåˆ«" class="headerlink" title="&#x3D;&#x3D; å’Œ equals()çš„åŒºåˆ«"></a>&#x3D;&#x3D; å’Œ equals()çš„åŒºåˆ«</h3><p><code>==</code>å¯¹äºåŸºæœ¬ç±»å‹å’Œå¼•ç”¨ç±»å‹ä½œç”¨æ•ˆæœæ˜¯ä¸åŒçš„ï¼š</p>
<ul>
<li>å¯¹åŸºæœ¬ç±»å‹æ¥è¯´ï¼Œ<code>==</code>æ¯”è¾ƒçš„æ˜¯å€¼ã€‚</li>
<li>å¯¹å¼•ç”¨æ•°æ®æ¥è¯´ï¼Œ<code>==</code>æ¯”è¾ƒçš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€ã€‚</li>
</ul>
<p>equals()ä¸¤ç§ä½¿ç”¨æ–¹æ³•ï¼š</p>
<ul>
<li>ç±»æ²¡æœ‰é‡å†™equals()æ–¹æ³•ï¼šé€šè¿‡equals()æ¯”è¾ƒè¯¥ç±»çš„ä¸¤ä¸ªå¯¹è±¡æ˜¯ï¼Œç­‰ä»·äºé€šè¿‡â€œ&#x3D;&#x3D;â€æ¯”è¾ƒ</li>
<li>ç±»é‡å†™äº†equals()æ–¹æ³•ï¼šæ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡ä¸­çš„å±æ€§æ˜¯å¦ç›¸ç­‰ã€‚</li>
</ul>
<h3 id="hashCode-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"><a href="#hashCode-æœ‰ä»€ä¹ˆç”¨ï¼Ÿ" class="headerlink" title="hashCode()æœ‰ä»€ä¹ˆç”¨ï¼Ÿ"></a>hashCode()æœ‰ä»€ä¹ˆç”¨ï¼Ÿ</h3><p><code>hashCode()</code> çš„ä½œç”¨æ˜¯è·å–å“ˆå¸Œç ï¼ˆ<code>int</code> æ•´æ•°ï¼‰ï¼Œä¹Ÿç§°ä¸ºæ•£åˆ—ç ã€‚è¿™ä¸ªå“ˆå¸Œç çš„ä½œç”¨æ˜¯ç¡®å®šè¯¥å¯¹è±¡åœ¨å“ˆå¸Œè¡¨ä¸­çš„ç´¢å¼•ä½ç½®ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆè¦æœ‰hashCode"><a href="#ä¸ºä»€ä¹ˆè¦æœ‰hashCode" class="headerlink" title="ä¸ºä»€ä¹ˆè¦æœ‰hashCode?"></a>ä¸ºä»€ä¹ˆè¦æœ‰hashCode?</h3><p>å½“ä½ æŠŠå¯¹è±¡åŠ å…¥ <code>HashSet</code> æ—¶ï¼Œ<code>HashSet</code> ä¼šå…ˆè®¡ç®—å¯¹è±¡çš„ <code>hashCode</code> å€¼æ¥åˆ¤æ–­å¯¹è±¡åŠ å…¥çš„ä½ç½®ï¼ŒåŒæ—¶ä¹Ÿä¼šä¸å…¶ä»–å·²ç»åŠ å…¥çš„å¯¹è±¡çš„ <code>hashCode</code> å€¼ä½œæ¯”è¾ƒï¼Œå¦‚æœæ²¡æœ‰ç›¸ç¬¦çš„ <code>hashCode</code>ï¼Œ<code>HashSet</code> ä¼šå‡è®¾å¯¹è±¡æ²¡æœ‰é‡å¤å‡ºç°ã€‚ä½†æ˜¯å¦‚æœå‘ç°æœ‰ç›¸åŒ <code>hashCode</code> å€¼çš„å¯¹è±¡ï¼Œè¿™æ—¶ä¼šè°ƒç”¨ <code>equals()</code> æ–¹æ³•æ¥æ£€æŸ¥ <code>hashCode</code> ç›¸ç­‰çš„å¯¹è±¡æ˜¯å¦çœŸçš„ç›¸åŒã€‚å¦‚æœä¸¤è€…ç›¸åŒï¼Œ<code>HashSet</code> å°±ä¸ä¼šè®©å…¶åŠ å…¥æ“ä½œæˆåŠŸã€‚å¦‚æœä¸åŒçš„è¯ï¼Œå°±ä¼šé‡æ–°æ•£åˆ—åˆ°å…¶ä»–ä½ç½®ã€‚è¿™æ ·æˆ‘ä»¬å°±å¤§å¤§å‡å°‘äº† <code>equals</code> çš„æ¬¡æ•°ï¼Œç›¸åº”å°±å¤§å¤§æé«˜äº†æ‰§è¡Œé€Ÿåº¦ã€‚</p>
<h3 id="é‚£ä¸ºä»€ä¹ˆJDKè¿˜è¦åŒæ—¶æä¾›è¿™ä¸¤ä¸ªæ–¹æ³•å‘¢ï¼Ÿ"><a href="#é‚£ä¸ºä»€ä¹ˆJDKè¿˜è¦åŒæ—¶æä¾›è¿™ä¸¤ä¸ªæ–¹æ³•å‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¸ºä»€ä¹ˆJDKè¿˜è¦åŒæ—¶æä¾›è¿™ä¸¤ä¸ªæ–¹æ³•å‘¢ï¼Ÿ"></a>é‚£ä¸ºä»€ä¹ˆJDKè¿˜è¦åŒæ—¶æä¾›è¿™ä¸¤ä¸ªæ–¹æ³•å‘¢ï¼Ÿ</h3><p>å› ä¸ºåœ¨ä¸€äº›å®¹å™¨é‡Œï¼ˆå¦‚HashMapã€HashSetï¼‰ä¸­ï¼Œæœ‰äº†hashCode()ä¹‹åï¼Œåˆ¤æ–­å…ƒç´ æ˜¯å¦ç›¸ç­‰æ•ˆç‡æ›´é«˜ã€‚</p>
<p>æˆ‘ä»¬åœ¨å‰é¢ä¹Ÿæåˆ°äº†æ·»åŠ å…ƒç´ è¿›<code>HashSet</code>çš„è¿‡ç¨‹ï¼Œå¦‚æœ <code>HashSet</code> åœ¨å¯¹æ¯”çš„æ—¶å€™ï¼ŒåŒæ ·çš„ <code>hashCode</code> æœ‰å¤šä¸ªå¯¹è±¡ï¼Œå®ƒä¼šç»§ç»­ä½¿ç”¨ <code>equals()</code> æ¥åˆ¤æ–­æ˜¯å¦çœŸçš„ç›¸åŒã€‚ä¹Ÿå°±æ˜¯è¯´ <code>hashCode</code> å¸®åŠ©æˆ‘ä»¬å¤§å¤§ç¼©å°äº†æŸ¥æ‰¾æˆæœ¬ã€‚</p>
<h3 id="é‚£ä¸ºä»€ä¹ˆä¸åªæä¾›hashCode-æ–¹æ³•å‘¢ï¼Ÿ"><a href="#é‚£ä¸ºä»€ä¹ˆä¸åªæä¾›hashCode-æ–¹æ³•å‘¢ï¼Ÿ" class="headerlink" title="é‚£ä¸ºä»€ä¹ˆä¸åªæä¾›hashCode()æ–¹æ³•å‘¢ï¼Ÿ"></a>é‚£ä¸ºä»€ä¹ˆä¸åªæä¾›hashCode()æ–¹æ³•å‘¢ï¼Ÿ</h3><p>å› ä¸ºä¸¤ä¸ªå¯¹è±¡çš„hashcodeå€¼ç›¸ç­‰å¹¶ä¸ä»£è¡¨ä¸¤ä¸ªå¯¹è±¡å°±ç›¸ç­‰ã€‚</p>
<h3 id="ä¸ºä»€ä¹ˆä¸¤ä¸ªå¯¹è±¡hashCodeç›¸ç­‰ä»–ä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆä¸¤ä¸ªå¯¹è±¡hashCodeç›¸ç­‰ä»–ä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆä¸¤ä¸ªå¯¹è±¡hashCodeç›¸ç­‰ä»–ä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„ï¼Ÿ"></a>ä¸ºä»€ä¹ˆä¸¤ä¸ªå¯¹è±¡hashCodeç›¸ç­‰ä»–ä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„ï¼Ÿ</h3><p>å› ä¸º <code>hashCode()</code> æ‰€ä½¿ç”¨çš„å“ˆå¸Œç®—æ³•ä¹Ÿè®¸åˆšå¥½ä¼šè®©å¤šä¸ªå¯¹è±¡ä¼ å›ç›¸åŒçš„å“ˆå¸Œå€¼ã€‚è¶Šç³Ÿç³•çš„å“ˆå¸Œç®—æ³•è¶Šå®¹æ˜“ç¢°æ’ï¼Œä½†è¿™ä¹Ÿä¸æ•°æ®å€¼åŸŸåˆ†å¸ƒçš„ç‰¹æ€§æœ‰å…³ï¼ˆæ‰€è°“å“ˆå¸Œç¢°æ’ä¹Ÿå°±æ˜¯æŒ‡çš„æ˜¯ä¸åŒçš„å¯¹è±¡å¾—åˆ°ç›¸åŒçš„ <code>hashCode</code> )ã€‚</p>
<p>æ€»ç»“ä¸‹æ¥å°±æ˜¯ï¼š</p>
<ul>
<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡çš„<code>hashCode</code> å€¼ç›¸ç­‰ï¼Œé‚£è¿™ä¸¤ä¸ªå¯¹è±¡ä¸ä¸€å®šç›¸ç­‰ï¼ˆå“ˆå¸Œç¢°æ’ï¼‰ã€‚</li>
<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡çš„<code>hashCode</code> å€¼ç›¸ç­‰å¹¶ä¸”<code>equals()</code>æ–¹æ³•ä¹Ÿè¿”å› <code>true</code>ï¼Œæˆ‘ä»¬æ‰è®¤ä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡ç›¸ç­‰ã€‚</li>
<li>å¦‚æœä¸¤ä¸ªå¯¹è±¡çš„<code>hashCode</code> å€¼ä¸ç›¸ç­‰ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è®¤ä¸ºè¿™ä¸¤ä¸ªå¯¹è±¡ä¸ç›¸ç­‰ã€‚</li>
</ul>
<h3 id="ä¸ºä»€ä¹ˆé‡å†™equals-æ—¶å¿…é¡»é‡å†™hashCode-æ–¹æ³•ï¼Ÿ"><a href="#ä¸ºä»€ä¹ˆé‡å†™equals-æ—¶å¿…é¡»é‡å†™hashCode-æ–¹æ³•ï¼Ÿ" class="headerlink" title="ä¸ºä»€ä¹ˆé‡å†™equals()æ—¶å¿…é¡»é‡å†™hashCode()æ–¹æ³•ï¼Ÿ"></a>ä¸ºä»€ä¹ˆé‡å†™equals()æ—¶å¿…é¡»é‡å†™hashCode()æ–¹æ³•ï¼Ÿ</h3><p>å› ä¸ºä¸¤ä¸ªç›¸ç­‰çš„å¯¹è±¡hashCodeå€¼å¿…é¡»ç›¸ç­‰ã€‚å¦‚æœequalsæ–¹æ³•åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰çš„ï¼Œé‚£ä¹ˆè¿™ä¸¤ä¸ªå¯¹è±¡çš„hashCodeå€¼ä¹Ÿè¦ç›¸ç­‰ã€‚</p>
<p>å¦‚æœé‡å†™ <code>equals()</code> æ—¶æ²¡æœ‰é‡å†™ <code>hashCode()</code> æ–¹æ³•çš„è¯å°±å¯èƒ½ä¼šå¯¼è‡´ <code>equals</code> æ–¹æ³•åˆ¤æ–­æ˜¯ç›¸ç­‰çš„ä¸¤ä¸ªå¯¹è±¡ï¼Œ<code>hashCode</code> å€¼å´ä¸ç›¸ç­‰ã€‚</p>
<p><strong>æ€»ç»“</strong>ï¼š</p>
<ul>
<li><code>equals</code> æ–¹æ³•åˆ¤æ–­ä¸¤ä¸ªå¯¹è±¡æ˜¯ç›¸ç­‰çš„ï¼Œé‚£è¿™ä¸¤ä¸ªå¯¹è±¡çš„ <code>hashCode</code> å€¼ä¹Ÿè¦ç›¸ç­‰ã€‚</li>
<li>ä¸¤ä¸ªå¯¹è±¡æœ‰ç›¸åŒçš„ <code>hashCode</code> å€¼ï¼Œä»–ä»¬ä¹Ÿä¸ä¸€å®šæ˜¯ç›¸ç­‰çš„ï¼ˆå“ˆå¸Œç¢°æ’ï¼‰ã€‚</li>
</ul>
<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><h3 id="Stringã€StringBufferã€StringBuilderçš„åŒºåˆ«ï¼Ÿ"><a href="#Stringã€StringBufferã€StringBuilderçš„åŒºåˆ«ï¼Ÿ" class="headerlink" title="Stringã€StringBufferã€StringBuilderçš„åŒºåˆ«ï¼Ÿ"></a>Stringã€StringBufferã€StringBuilderçš„åŒºåˆ«ï¼Ÿ</h3><h4 id="å¯å˜æ€§"><a href="#å¯å˜æ€§" class="headerlink" title="å¯å˜æ€§"></a>å¯å˜æ€§</h4><p>Stringæ˜¯ä¸å¯å˜çš„</p>
<h4 id="çº¿ç¨‹å®‰å…¨æ€§"><a href="#çº¿ç¨‹å®‰å…¨æ€§" class="headerlink" title="çº¿ç¨‹å®‰å…¨æ€§"></a>çº¿ç¨‹å®‰å…¨æ€§</h4><p>Stringä¸­çš„å¯¹è±¡æ˜¯ä¸å¯å˜çš„ï¼Œä¹Ÿå°±å¯ä»¥ç†è§£ä¸ºå¸¸é‡ï¼Œçº¿ç¨‹å®‰å…¨ã€‚<code>StringBuffer</code> å¯¹æ–¹æ³•åŠ äº†åŒæ­¥é”æˆ–è€…å¯¹è°ƒç”¨çš„æ–¹æ³•åŠ äº†åŒæ­¥é”ï¼Œæ‰€ä»¥æ˜¯çº¿ç¨‹å®‰å…¨çš„ã€‚<code>StringBuilder</code> å¹¶æ²¡æœ‰å¯¹æ–¹æ³•è¿›è¡ŒåŠ åŒæ­¥é”ï¼Œæ‰€ä»¥æ˜¯éçº¿ç¨‹å®‰å…¨çš„ã€‚</p>
<h4 id="æ€§èƒ½"><a href="#æ€§èƒ½" class="headerlink" title="æ€§èƒ½"></a>æ€§èƒ½</h4><p>æ¯æ¬¡å¯¹ <code>String</code> ç±»å‹è¿›è¡Œæ”¹å˜çš„æ—¶å€™ï¼Œéƒ½ä¼šç”Ÿæˆä¸€ä¸ªæ–°çš„ <code>String</code> å¯¹è±¡ï¼Œç„¶åå°†æŒ‡é’ˆæŒ‡å‘æ–°çš„ <code>String</code> å¯¹è±¡ã€‚<code>StringBuffer</code> æ¯æ¬¡éƒ½ä¼šå¯¹ <code>StringBuffer</code> å¯¹è±¡æœ¬èº«è¿›è¡Œæ“ä½œï¼Œè€Œä¸æ˜¯ç”Ÿæˆæ–°çš„å¯¹è±¡å¹¶æ”¹å˜å¯¹è±¡å¼•ç”¨ã€‚ç›¸åŒæƒ…å†µä¸‹ä½¿ç”¨ <code>StringBuilder</code> ç›¸æ¯”ä½¿ç”¨ <code>StringBuffer</code> ä»…èƒ½è·å¾— 10%~15% å·¦å³çš„æ€§èƒ½æå‡ï¼Œä½†å´è¦å†’å¤šçº¿ç¨‹ä¸å®‰å…¨çš„é£é™©ã€‚</p>
<p><strong>å¯¹äºä¸‰è€…ä½¿ç”¨çš„æ€»ç»“ï¼š</strong></p>
<ul>
<li>æ“ä½œå°‘é‡çš„æ•°æ®: é€‚ç”¨ <code>String</code></li>
<li>å•çº¿ç¨‹æ“ä½œå­—ç¬¦ä¸²ç¼“å†²åŒºä¸‹æ“ä½œå¤§é‡æ•°æ®: é€‚ç”¨ <code>StringBuilder</code></li>
<li>å¤šçº¿ç¨‹æ“ä½œå­—ç¬¦ä¸²ç¼“å†²åŒºä¸‹æ“ä½œå¤§é‡æ•°æ®: é€‚ç”¨ <code>StringBuffer</code></li>
</ul>
<h3 id="å­—ç¬¦ä¸²å¸¸é‡æ± ä½œç”¨"><a href="#å­—ç¬¦ä¸²å¸¸é‡æ± ä½œç”¨" class="headerlink" title="å­—ç¬¦ä¸²å¸¸é‡æ± ä½œç”¨"></a>å­—ç¬¦ä¸²å¸¸é‡æ± ä½œç”¨</h3><p><strong>å­—ç¬¦ä¸²å¸¸é‡æ± </strong> æ˜¯ JVM ä¸ºäº†æå‡æ€§èƒ½å’Œå‡å°‘å†…å­˜æ¶ˆè€—é’ˆå¯¹å­—ç¬¦ä¸²ï¼ˆString ç±»ï¼‰ä¸“é—¨å¼€è¾Ÿçš„ä¸€å—åŒºåŸŸï¼Œä¸»è¦ç›®çš„æ˜¯ä¸ºäº†é¿å…å­—ç¬¦ä¸²çš„é‡å¤åˆ›å»ºã€‚</p>
<h2 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h2><h3 id="Exceptionå’ŒErroråŒºåˆ«ï¼Ÿ"><a href="#Exceptionå’ŒErroråŒºåˆ«ï¼Ÿ" class="headerlink" title="Exceptionå’ŒErroråŒºåˆ«ï¼Ÿ"></a>Exceptionå’ŒErroråŒºåˆ«ï¼Ÿ</h3><p>Javaä¸­ï¼Œæ‰€æœ‰å¼‚å¸¸éƒ½æœ‰ä¸€ä¸ªå…±åŒç¥–å…ˆï¼Œjava.langåŒ…çš„Throwableç±»ã€‚</p>
<p>å…¶ä¸­ä¸¤ä¸ªé‡è¦çš„å­ç±»ï¼š</p>
<ul>
<li>Exceptionï¼šç¨‹åºæœ¬èº«å¯ä»¥å¤„ç†çš„å¼‚å¸¸ï¼Œå¯ä»¥é€šè¿‡ <code>catch</code> æ¥è¿›è¡Œæ•è·ã€‚<code>Exception</code> åˆå¯ä»¥åˆ†ä¸º Checked Exception (å—æ£€æŸ¥å¼‚å¸¸ï¼Œå¿…é¡»å¤„ç†) å’Œ Unchecked Exception (ä¸å—æ£€æŸ¥å¼‚å¸¸ï¼Œå¯ä»¥ä¸å¤„ç†)ã€‚</li>
<li>Errorï¼šErrorå±äºç¨‹åºæ— æ³•å¤„ç†çš„é”™è¯¯ã€‚</li>
</ul>
<h3 id="finallyä¸­çš„ä»£ç ä¸€å®šä¼šæ‰§è¡Œå—ï¼Ÿ"><a href="#finallyä¸­çš„ä»£ç ä¸€å®šä¼šæ‰§è¡Œå—ï¼Ÿ" class="headerlink" title="finallyä¸­çš„ä»£ç ä¸€å®šä¼šæ‰§è¡Œå—ï¼Ÿ"></a>finallyä¸­çš„ä»£ç ä¸€å®šä¼šæ‰§è¡Œå—ï¼Ÿ</h3><p>ä¸ä¸€å®šï¼æŸäº›æƒ…å†µä¸‹ä¸ä¼šã€‚</p>
<p>æ¯”å¦‚finallyä¹‹å‰è™šæ‹Ÿæœºè¢«ç»ˆæ­¢è¿è¡Œï¼Œfinallyä¸­çš„ä»£ç å°±ä¸ä¼šè¢«æ‰§è¡Œã€‚</p>
<p>åœ¨ä»¥ä¸‹ 2 ç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œ<code>finally</code> å—çš„ä»£ç ä¹Ÿä¸ä¼šè¢«æ‰§è¡Œï¼š</p>
<ol>
<li>ç¨‹åºæ‰€åœ¨çš„çº¿ç¨‹æ­»äº¡ã€‚</li>
<li>å…³é—­ CPUã€‚</li>
</ol>
<h2 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h2><h3 id="ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ"></a>ä»€ä¹ˆæ˜¯æ³›å‹ï¼Ÿä½œç”¨æ˜¯ä»€ä¹ˆï¼Ÿ</h3><p>Javaæ³›å‹æ˜¯JDK5å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œä½¿ç”¨æ³›å‹å‚æ•°å¯ä»¥å¢å¼ºä»£ç çš„å¯è¯»æ€§ä»¥åŠç¨³å®šæ€§ã€‚</p>
<h3 id="æ³›å‹çš„ä½¿ç”¨æ–¹å¼æœ‰å“ªå‡ ç§ï¼Ÿ"><a href="#æ³›å‹çš„ä½¿ç”¨æ–¹å¼æœ‰å“ªå‡ ç§ï¼Ÿ" class="headerlink" title="æ³›å‹çš„ä½¿ç”¨æ–¹å¼æœ‰å“ªå‡ ç§ï¼Ÿ"></a>æ³›å‹çš„ä½¿ç”¨æ–¹å¼æœ‰å“ªå‡ ç§ï¼Ÿ</h3><p>æ³›å‹ä¸€èˆ¬æœ‰ä¸‰ç§ä½¿ç”¨æ–¹å¼ï¼š<strong>æ³›å‹ç±»ã€æ³›å‹æ¥å£ã€æ³›å‹æ–¹æ³•</strong>ã€‚</p>
<p><strong>1.æ³›å‹ç±»ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//æ­¤å¤„Tå¯ä»¥éšä¾¿å†™ä¸ºä»»æ„æ ‡è¯†ï¼Œå¸¸è§çš„å¦‚Tã€Eã€Kã€Vç­‰å½¢å¼çš„å‚æ•°å¸¸ç”¨äºè¡¨ç¤ºæ³›å‹</span></span><br><span class="line"><span class="comment">//åœ¨å®ä¾‹åŒ–æ³›å‹ç±»æ—¶ï¼Œå¿…é¡»æŒ‡å®šTçš„å…·ä½“ç±»å‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Generic</span>&lt;T&gt;&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> T key;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Generic</span><span class="params">(T key)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.key = key;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">getKey</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> key;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®ä¾‹åŒ–</span></span><br><span class="line">Generic&lt;Integer&gt; genericInteger = <span class="keyword">new</span> <span class="title class_">Generic</span>&lt;Integer&gt;(<span class="number">123456</span>);</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>2.æ³›å‹æ¥å£ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Generator</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">method</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®ç°ï¼Œä¸æŒ‡å®šç±»å‹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GeneratorImpl</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Generator</span>&lt;T&gt;&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®ç°ï¼ŒæŒ‡å®šç±»å‹</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">GeneratorImpl</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">Generator</span>&lt;String&gt;&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><strong>3.æ³›å‹æ–¹æ³•ï¼š</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> &lt; E &gt; <span class="keyword">void</span> <span class="title function_">printArray</span><span class="params">( E[] inputArray )</span></span><br><span class="line">   &#123;</span><br><span class="line">         <span class="keyword">for</span> ( E element : inputArray )&#123;</span><br><span class="line">            System.out.printf( <span class="string">&quot;%s &quot;</span>, element );</span><br><span class="line">         &#125;</span><br><span class="line">         System.out.println();</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">//ä½¿ç”¨</span></span><br><span class="line"><span class="comment">// åˆ›å»ºä¸åŒç±»å‹æ•°ç»„ï¼šInteger, Double å’Œ Character</span></span><br><span class="line">Integer[] intArray = &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span> &#125;;</span><br><span class="line">String[] stringArray = &#123; <span class="string">&quot;Hello&quot;</span>, <span class="string">&quot;World&quot;</span> &#125;;</span><br><span class="line">printArray( intArray  );</span><br><span class="line">printArray( stringArray  );</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h2 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h2><p>åå°„æ˜¯æ¡†æ¶çš„çµé­‚ï¼Œå®ƒèµ‹äºˆäº†æˆ‘ä»¬åœ¨è¿è¡Œæ—¶åˆ†æç±»ä»¥åŠæ‰§è¡Œç±»ä¸­æ–¹æ³•çš„èƒ½åŠ›ã€‚é€šè¿‡åå°„å¯ä»¥è·å–ä»»æ„ä¸€ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•ï¼Œè¿˜å¯ä»¥è°ƒç”¨è¿™äº›æ–¹æ³•å’Œå±æ€§ã€‚</p>
<h3 id="åå°„çš„ä¼˜ç¼ºç‚¹ï¼Ÿ"><a href="#åå°„çš„ä¼˜ç¼ºç‚¹ï¼Ÿ" class="headerlink" title="åå°„çš„ä¼˜ç¼ºç‚¹ï¼Ÿ"></a>åå°„çš„ä¼˜ç¼ºç‚¹ï¼Ÿ</h3><p>åå°„å¯ä»¥è®©æˆ‘ä»¬çš„ä»£ç æ›´åŠ çµæ´»ã€ä¸ºå„ç§æ¡†æ¶æä¾›å¼€ç®±å³ç”¨çš„åŠŸèƒ½æä¾›çš„ä¾¿åˆ©ã€‚ä½†æ˜¯ï¼Œåå°„è®©æˆ‘ä»¬åœ¨è¿è¡Œæ—¶æœ‰äº†åˆ†ææ“ä½œç±»çš„èƒ½åŠ›çš„åŒæ—¶ï¼Œä¹Ÿå¢åŠ äº†å®‰å…¨é—®é¢˜ï¼Œæ¯”å¦‚å¯ä»¥æ— è§†æ³›å‹å‚æ•°çš„å®‰å…¨æ£€æŸ¥ï¼ˆæ³›å‹å‚æ•°çš„å®‰å…¨æ£€æŸ¥å‘ç”Ÿåœ¨ç¼–è¯‘æ—¶ï¼‰ã€‚å¦å¤–ï¼Œåå°„çš„æ€§èƒ½ä¹Ÿè¦ç¨å·®ç‚¹ï¼Œä¸è¿‡ï¼Œå¯¹äºæ¡†æ¶æ¥è¯´å®é™…æ˜¯å½±å“ä¸å¤§çš„ã€‚</p>
<h2 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h2><p><code>Annotation</code> ï¼ˆæ³¨è§£ï¼‰ æ˜¯ Java5 å¼€å§‹å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œå¯ä»¥çœ‹ä½œæ˜¯ä¸€ç§ç‰¹æ®Šçš„æ³¨é‡Šï¼Œä¸»è¦ç”¨äºä¿®é¥°ç±»ã€æ–¹æ³•æˆ–è€…å˜é‡ï¼Œæä¾›æŸäº›ä¿¡æ¯ä¾›ç¨‹åºåœ¨ç¼–è¯‘æˆ–è€…è¿è¡Œæ—¶ä½¿ç”¨ã€‚</p>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>é¢è¯•</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>è®¾è®¡æ¨¡å¼</title>
    <url>/2024/04/23/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</url>
    <content><![CDATA[<h1 id="è®¾è®¡æ¨¡å¼"><a href="#è®¾è®¡æ¨¡å¼" class="headerlink" title="è®¾è®¡æ¨¡å¼"></a>è®¾è®¡æ¨¡å¼</h1><h2 id="é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™"><a href="#é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™" class="headerlink" title="é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™"></a>é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™</h2><h3 id="å•ä¸€èŒè´£åŸåˆ™"><a href="#å•ä¸€èŒè´£åŸåˆ™" class="headerlink" title="å•ä¸€èŒè´£åŸåˆ™"></a>å•ä¸€èŒè´£åŸåˆ™</h3><p>å•ä¸€èŒè´£åŸåˆ™ï¼ˆSimple Responsibility Pincipleï¼ŒSRPï¼‰æ˜¯æœ€ç®€å•çš„é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ï¼Œå®ƒç”¨äºæ§åˆ¶ç±»çš„ç²’åº¦å¤§å°ã€‚</p>
<figure class="highlight"><table><tr><td class="code"><pre><span class="line">ä¸€ä¸ªå¯¹è±¡åº”è¯¥åªåŒ…å«å•ä¸€çš„èŒè´£ï¼Œå¹¶ä¸”è¯¥èŒè´£è¢«å®Œæ•´åœ°å°è£…åœ¨ä¸€ä¸ªç±»ä¸­ã€‚</span><br></pre></td></tr></table></figure>

<p>ä¾‹å¦‚ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">People</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cooking</span><span class="params">()</span>&#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;æˆ‘ä¼šåšé¥­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">teaching</span><span class="params">()</span>&#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;æˆ‘ä¼šæ•™ä¹¦&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    ã€‚ã€‚ã€‚ã€‚</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Peopleç±»ä¸­åŠŸèƒ½å¤ªå¤šï¼Œç•¥æ˜¾è‡ƒè‚¿ï¼Œåº”è¯¥å°†å„ç§èƒ½åŠ›å†ç»†åˆ†æˆå¯¹åº”çš„èŒä¸šï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Cooker</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">cooking</span><span class="params">()</span>&#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;æˆ‘ä¼šåšé¥­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">teaching</span><span class="params">()</span>&#123;</span><br><span class="line">         System.out.println(<span class="string">&quot;æˆ‘ä¼šæ•™ä¹¦&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å°†ç±»çš„ç²’åº¦è¿›è¡Œæ›´è¿‘ä¸€æ­¥çš„åˆ’åˆ†ï¼Œè¿™æ ·å°±å¾ˆæ¸…æ™°äº†ï¼ŒåŒ…æ‹¬æˆ‘ä»¬ä»¥ååœ¨è®¾è®¡Mapperã€Serviceã€Controllerç­‰ç­‰ï¼Œæ ¹æ®ä¸åŒçš„ä¸šåŠ¡è¿›è¡Œåˆ’åˆ†ï¼Œéƒ½å¯ä»¥é‡‡ç”¨å•ä¸€èŒè´£åŸåˆ™ï¼Œä»¥å®ƒä½œä¸ºæˆ‘ä»¬å®ç°é«˜å†…èšä½è€¦åˆçš„æŒ‡å¯¼æ–¹é’ˆã€‚å®é™…ä¸Šæˆ‘ä»¬çš„å¾®æœåŠ¡ä¹Ÿæ˜¯å‚è€ƒäº†å•ä¸€èŒè´£åŸåˆ™ï¼Œæ¯ä¸ªå¾®æœåŠ¡åªåº”æ‹…è´Ÿä¸€ä¸ªèŒè´£ã€‚</p>
<h2 id="å¼€é—­åŸåˆ™"><a href="#å¼€é—­åŸåˆ™" class="headerlink" title="å¼€é—­åŸåˆ™"></a>å¼€é—­åŸåˆ™</h2><p>å¼€é—­åŸåˆ™ï¼ˆOpen Close Principleï¼‰ä¹Ÿæ˜¯é‡è¦çš„é¢å‘å¯¹è±¡è®¾è®¡åŸåˆ™ã€‚</p>
<p><code>è½¯ä»¶å®ä½“åº”å½“å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰æŠ½è±¡æ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> Code&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">coding</span><span class="params">()</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">JavaCoder</span> <span class="keyword">extends</span> <span class="title class_">Code</span>()&#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">coding</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;Javaå¤ªå·äº†T_T&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æŠ½è±¡ç±»ï¼Œåªç”¨å®šä¹‰è¿™ä¸ªç±»è¦æ±‚çš„è¡Œä¸ºï¼Œå…·ä½“å®ç°ç”±éœ€è¦å®ç°ä»–çš„ç±»è‡ªè¡Œå®ç°ï¼Œæœ‰è¾ƒå¥½çš„æ‰©å±•æ€§å»¶ç»­æ€§ã€‚</p>
<h2 id="é‡Œæ°æ›¿æ¢åŸåˆ™"><a href="#é‡Œæ°æ›¿æ¢åŸåˆ™" class="headerlink" title="é‡Œæ°æ›¿æ¢åŸåˆ™"></a>é‡Œæ°æ›¿æ¢åŸåˆ™</h2><p>é‡Œæ°æ›¿æ¢åŸåˆ™ï¼ˆLiskov Substitution Principleï¼‰æ˜¯å¯¹å­ç±»å‹çš„ç‰¹åˆ«å®šä¹‰ã€‚å®ƒç”±èŠ­èŠ­æ‹‰Â·åˆ©æ–¯ç§‘å¤«ï¼ˆBarbara Liskovï¼‰åœ¨1987å¹´åœ¨ä¸€æ¬¡ä¼šè®®ä¸Šåä¸º â€œæ•°æ®çš„æŠ½è±¡ä¸å±‚æ¬¡â€ çš„æ¼”è¯´ä¸­é¦–å…ˆæå‡ºã€‚</p>
<blockquote>
<p>æ‰€æœ‰å¼•ç”¨åŸºç±»çš„åœ°æ–¹å¿…é¡»èƒ½é€æ˜åœ°ä½¿ç”¨å…¶å­ç±»çš„å¯¹è±¡ã€‚</p>
</blockquote>
<p>ç®€å•çš„è¯´å°±æ˜¯ï¼Œå­ç±»å¯ä»¥æ‰©å±•çˆ¶ç±»çš„åŠŸèƒ½ï¼Œä½†ä¸èƒ½æ”¹å˜çˆ¶ç±»åŸæœ‰çš„åŠŸèƒ½ï¼š</p>
<ol>
<li>å­ç±»å¯ä»¥å®ç°çˆ¶ç±»çš„æŠ½è±¡æ–¹æ³•ï¼Œä½†ä¸èƒ½è¦†ç›–çˆ¶ç±»çš„éæŠ½è±¡æ–¹æ³•ã€‚</li>
<li>å­ç±»å¯ä»¥å¢åŠ è‡ªå·±ç‰¹æœ‰çš„æ–¹æ³•ã€‚</li>
<li>å½“å­ç±»çš„æ–¹æ³•é‡è½½çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼Œæ–¹æ³•çš„å‰ç½®æ¡ä»¶ï¼ˆå³æ–¹æ³•çš„è¾“å…¥&#x2F;å…¥å‚ï¼‰è¦æ¯”çˆ¶ç±»æ–¹æ³•çš„è¾“å…¥å‚æ•°æ›´å®½æ¾ã€‚</li>
<li>å½“å­ç±»çš„æ–¹æ³•å®ç°çˆ¶ç±»çš„æ–¹æ³•æ—¶ï¼ˆé‡å†™&#x2F;é‡è½½æˆ–å®ç°æŠ½è±¡æ–¹æ³•ï¼‰ï¼Œæ–¹æ³•çš„åç½®æ¡ä»¶ï¼ˆå³æ–¹æ³•çš„è¾“å‡º&#x2F;è¿”å›å€¼ï¼‰è¦æ¯”çˆ¶ç±»æ›´ä¸¥æ ¼æˆ–ä¸çˆ¶ç±»ä¸€æ ·ã€‚</li>
</ol>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Father</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘ä¼šæ‰“lol&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_">Father</span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">study</span><span class="params">()</span>&#123;</span><br><span class="line">             System.out.println(<span class="string">&quot;æˆ‘çˆ±å­¦ä¹ &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Sonç»§æ‰¿äº†Fatherï¼Œä½†æ˜¯å¹¶æ²¡æœ‰è¦†ç›–playæ–¹æ³•ã€‚ç¬¦åˆé‡Œæ°æ›¿æ¢åŸåˆ™ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Father</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘ä¼šæ‰“lol&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_">Father</span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">study</span><span class="params">()</span>&#123;</span><br><span class="line">             System.out.println(<span class="string">&quot;æˆ‘çˆ±å­¦ä¹ &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span>&#123;</span><br><span class="line">             System.out.println(<span class="string">&quot;æˆ‘çˆ±cs&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Sonè¦†ç›–äº†çˆ¶ç±»playï¼Œä»–ä¸å†å…·å¤‡çˆ¶ç±»çš„è¡Œä¸ºäº†ï¼Œè¿èƒŒäº†é‡Œæ°æ›¿æ¢åŸåˆ™ã€‚</p>
<p>è¿™ç§æƒ…å†µå¯ä»¥è®©ä»–ä»¬ä¸¤éƒ½ç»§æ‰¿äºä¸€ä¸ªæ›´é«˜çš„ç±»<code>People</code></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">People</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span>;   <span class="comment">//è¿™ä¸ªè¡Œä¸ºè¿˜æ˜¯å®šä¹‰å‡ºæ¥ï¼Œä½†æ˜¯ä¸å®ç°</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Father</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘ä¼šæ‰“lol&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_">Father</span>&#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">study</span><span class="params">()</span>&#123;</span><br><span class="line">             System.out.println(<span class="string">&quot;æˆ‘çˆ±å­¦ä¹ &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span>&#123;</span><br><span class="line">             System.out.println(<span class="string">&quot;æˆ‘çˆ±cs&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="ä¾èµ–å€’è½¬åŸåˆ™"><a href="#ä¾èµ–å€’è½¬åŸåˆ™" class="headerlink" title="ä¾èµ–å€’è½¬åŸåˆ™"></a>ä¾èµ–å€’è½¬åŸåˆ™</h2><p>ä¾èµ–å€’è½¬åŸåˆ™ï¼ˆDependence Inversion Principleï¼‰ä¹Ÿæ˜¯æˆ‘ä»¬ä¸€ç›´åœ¨ä½¿ç”¨çš„ï¼Œæœ€æ˜æ˜¾çš„å°±æ˜¯æˆ‘ä»¬çš„Springæ¡†æ¶äº†ã€‚</p>
<blockquote>
<p>é«˜å±‚æ¨¡å—ä¸åº”ä¾èµ–äºåº•å±‚æ¨¡å—ï¼Œå®ƒä»¬éƒ½åº”è¯¥ä¾èµ–æŠ½è±¡ã€‚æŠ½è±¡ä¸åº”ä¾èµ–äºç»†èŠ‚ï¼Œç»†èŠ‚åº”è¯¥ä¾èµ–äºæŠ½è±¡ã€‚</p>
</blockquote>
<p>åœ¨ä¹‹å‰ï¼Œç¼–å†™é¡¹ç›®ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">UserController</span> <span class="variable">controller</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserController</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">UserMapper</span> &#123;</span><br><span class="line">        <span class="comment">//CRUD...</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">UserServiceNew</span> &#123;   <span class="comment">//ç”±äºUserServiceNewå‘ç”Ÿå˜åŒ–ï¼Œä¼šç›´æ¥å½±å“åˆ°å…¶ä»–é«˜å±‚æ¨¡å—</span></span><br><span class="line">        <span class="type">UserMapper</span> <span class="variable">mapper</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserMapper</span>();</span><br><span class="line">        <span class="comment">//ä¸šåŠ¡ä»£ç ....</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;   <span class="comment">//ç„¯ï¼Œå¹²å˜›æ”¹åº•å±‚å•Šï¼Œæˆ‘è¿™åˆå¾—é‡å†™äº†</span></span><br><span class="line">        <span class="type">UserService</span> <span class="variable">service</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserService</span>();   <span class="comment">//å“¦è±ï¼ŒåŸæ¥çš„ä¸èƒ½ç”¨äº†</span></span><br><span class="line">        <span class="type">UserServiceNew</span> <span class="variable">serviceNew</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UserServiceNew</span>();   <span class="comment">//åªèƒ½ä¿®æ”¹æˆæ–°çš„äº†</span></span><br><span class="line">        <span class="comment">//ä¸šåŠ¡ä»£ç ....</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä½¿ç”¨Springæ¡†æ¶åï¼Œä½¿ç”¨ServiceImplæ¥å…·ä½“å®ç°Serviceä¸­çš„æ–¹æ³•ï¼ŒControllerç›´æ¥æ³¨å…¥Serviceæ¥å£ï¼Œè¿™æ ·ä¿®æ”¹å®ç°ä¹Ÿä¸ç”¨ä¿®æ”¹å¯¹åº”ä¸šåŠ¡çš„é€»è¾‘ã€‚</p>
<h2 id="æ¥å£éš”ç¦»åŸåˆ™"><a href="#æ¥å£éš”ç¦»åŸåˆ™" class="headerlink" title="æ¥å£éš”ç¦»åŸåˆ™"></a>æ¥å£éš”ç¦»åŸåˆ™</h2><p>æ¥å£éš”ç¦»åŸåˆ™ï¼ˆInterface Segregation Principle, ISPï¼‰å®é™…ä¸Šæ˜¯å¯¹æ¥å£çš„ç»†åŒ–ã€‚</p>
<blockquote>
<p>å®¢æˆ·ç«¯ä¸åº”ä¾èµ–é‚£äº›å®ƒä¸éœ€è¦çš„æ¥å£ã€‚  </p>
</blockquote>
<p>ç”µè„‘å’Œé£æ‰‡éƒ½æ˜¯ç”µå­è®¾å¤‡ï¼Œä½†æ˜¯ç”µè„‘æ‹¥æœ‰CPUæ˜¾å¡ç­‰éƒ¨ä»¶ï¼Œå› æ­¤ä¸èƒ½å•å•ç¼–å†™ä¸€ä¸ªDeviceç±»è®©ä»–ä»¬ä¸¤ä¸ªç»§æ‰¿ï¼Œéœ€è¦ç»†åˆ†ä¸ºç”µå­è®¾å¤‡å’Œæ™®é€šè®¾å¤‡ï¼Œé¿å…è¿‡å¤šä¸éœ€è¦çš„å±æ€§å †å ã€‚</p>
<h2 id="åˆæˆå¤ç”¨åŸåˆ™"><a href="#åˆæˆå¤ç”¨åŸåˆ™" class="headerlink" title="åˆæˆå¤ç”¨åŸåˆ™"></a>åˆæˆå¤ç”¨åŸåˆ™</h2><p>åˆæˆå¤ç”¨åŸåˆ™ï¼ˆComposite Reuse Principleï¼‰çš„æ ¸å¿ƒå°±æ˜¯å§”æ´¾ã€‚</p>
<blockquote>
<p>ä¼˜å…ˆä½¿ç”¨å¯¹è±¡ç»„åˆï¼Œè€Œä¸æ˜¯é€šè¿‡ç»§æ‰¿æ¥è¾¾åˆ°å¤ç”¨çš„ç›®çš„ã€‚</p>
</blockquote>
<p>å¯ä»¥å°†Bä¸­éœ€è¦çš„Aç±»å½“ä½œBçš„ä¸€ä¸ªå±æ€§ A aï¼Œåœ¨è¦ç”¨åˆ°Bçš„æ—¶å€™è¿›è¡ŒæŒ‡å®šAã€‚</p>
<h2 id="è¿ªç±³ç‰¹æ³•åˆ™"><a href="#è¿ªç±³ç‰¹æ³•åˆ™" class="headerlink" title="è¿ªç±³ç‰¹æ³•åˆ™"></a>è¿ªç±³ç‰¹æ³•åˆ™</h2><p>è¿ªç±³ç‰¹æ³•åˆ™ï¼ˆLaw of Demeterï¼‰åˆç§°æœ€å°‘çŸ¥è¯†åŸåˆ™ï¼Œæ˜¯å¯¹ç¨‹åºå†…éƒ¨æ•°æ®äº¤äº’çš„é™åˆ¶ã€‚</p>
<blockquote>
<p>æ¯ä¸€ä¸ªè½¯ä»¶å•ä½å¯¹å…¶ä»–å•ä½éƒ½åªæœ‰æœ€å°‘çš„çŸ¥è¯†ï¼Œè€Œä¸”å±€é™äºé‚£äº›ä¸æœ¬å•ä½å¯†åˆ‡ç›¸å…³çš„è½¯ä»¶å•ä½ã€‚</p>
</blockquote>
<p>ç®€å•æ¥è¯´å°±æ˜¯ï¼Œä¸€ä¸ªç±»&#x2F;æ¨¡å—å¯¹å…¶ä»–çš„ç±»&#x2F;æ¨¡å—æœ‰è¶Šå°‘çš„äº¤äº’è¶Šå¥½ã€‚å½“ä¸€ä¸ªç±»å‘ç”Ÿæ”¹åŠ¨ï¼Œé‚£ä¹ˆï¼Œä¸å…¶ç›¸å…³çš„ç±»ï¼ˆæ¯”å¦‚ç”¨åˆ°æ­¤ç±»å•¥æ–¹æ³•çš„ç±»ï¼‰éœ€è¦å°½å¯èƒ½å°‘çš„å—å½±å“ï¼ˆæ¯”å¦‚ä¿®æ”¹äº†æ–¹æ³•åã€å­—æ®µåç­‰ï¼Œå¯èƒ½å…¶ä»–ç”¨åˆ°è¿™äº›æ–¹æ³•æˆ–æ˜¯å­—æ®µçš„ç±»ä¹Ÿéœ€è¦è·Ÿç€ä¿®æ”¹ï¼‰è¿™æ ·æˆ‘ä»¬åœ¨ç»´æŠ¤é¡¹ç›®çš„æ—¶å€™ä¼šæ›´åŠ è½»æ¾ä¸€äº›ã€‚</p>
<p>Testæ–¹æ³•éœ€è¦ä¸€ä¸ªAç±»çš„nameå±æ€§ï¼Œä¼ å…¥æ—¶ä¸ä¼ å…¥Aç±»ï¼Œè€Œæ˜¯ä¼ å…¥String nameï¼Œåœ¨å¤–éƒ¨Mainæ–¹æ³•ï¼Œç›´æ¥æå–Aä¸­çš„nameä¼ å…¥Testã€‚</p>
<h1 id="è®¾è®¡æ¨¡å¼ï¼ˆåˆ›å»ºå‹ï¼‰"><a href="#è®¾è®¡æ¨¡å¼ï¼ˆåˆ›å»ºå‹ï¼‰" class="headerlink" title="è®¾è®¡æ¨¡å¼ï¼ˆåˆ›å»ºå‹ï¼‰"></a>è®¾è®¡æ¨¡å¼ï¼ˆåˆ›å»ºå‹ï¼‰</h1><p>è½¯ä»¶è®¾è®¡æ¨¡å¼ï¼ˆDesign patternï¼‰ï¼Œåˆç§°è®¾è®¡æ¨¡å¼ï¼Œæ˜¯ä¸€å¥—è¢«åå¤ä½¿ç”¨ã€å¤šæ•°äººçŸ¥æ™“çš„ã€ç»è¿‡åˆ†ç±»ç¼–ç›®çš„ã€ä»£ç è®¾è®¡ç»éªŒçš„æ€»ç»“ã€‚ä½¿ç”¨è®¾è®¡æ¨¡å¼æ˜¯ä¸ºäº†å¯é‡ç”¨ä»£ç ã€è®©ä»£ç æ›´å®¹æ˜“è¢«ä»–äººç†è§£ã€ä¿è¯ä»£ç å¯é æ€§ã€ç¨‹åºçš„é‡ç”¨æ€§ã€‚</p>
<h2 id="å·¥å‚æ–¹æ³•æ¨¡å¼"><a href="#å·¥å‚æ–¹æ³•æ¨¡å¼" class="headerlink" title="å·¥å‚æ–¹æ³•æ¨¡å¼"></a>å·¥å‚æ–¹æ³•æ¨¡å¼</h2><p>ä½¿ç”¨<code>ç®€å•å·¥å‚æ¨¡å¼</code>æ¥åˆ›å»ºå¯¹è±¡</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Fruit</span> &#123;   <span class="comment">//æ°´æœæŠ½è±¡ç±»</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Fruit</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name+<span class="string">&quot;@&quot;</span>+hashCode();   <span class="comment">//æ‰“å°ä¸€ä¸‹å½“å‰æ°´æœåç§°ï¼Œè¿˜æœ‰å¯¹è±¡çš„hashCode</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Apple</span> <span class="keyword">extends</span> <span class="title class_">Fruit</span>&#123;   <span class="comment">//è‹¹æœï¼Œç»§æ‰¿è‡ªæ°´æœ</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Apple</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(<span class="string">&quot;è‹¹æœ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Orange</span> <span class="keyword">extends</span> <span class="title class_">Fruit</span>&#123;  <span class="comment">//æ©˜å­ï¼Œä¹Ÿæ˜¯ç»§æ‰¿è‡ªæ°´æœ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Orange</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(<span class="string">&quot;æ©˜å­&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ­£å¸¸æƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ç›´æ¥newå°±å¯ä»¥å¾—åˆ°å¯¹è±¡äº†ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Apple</span> <span class="variable">apple</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Apple</span>();</span><br><span class="line">        System.out.println(apple);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æˆ‘ä»¬å°†å¯¹è±¡çš„åˆ›å»ºå°è£…åˆ°å·¥å‚ä¸­ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FruitFactory</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿™é‡Œå°±ç›´æ¥æ¥ä¸€ä¸ªé™æ€æ–¹æ³•æ ¹æ®æŒ‡å®šç±»å‹è¿›è¡Œåˆ›å»º</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> type æ°´æœç±»å‹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å¯¹åº”çš„æ°´æœå¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Fruit <span class="title function_">getFruit</span><span class="params">(String type)</span> &#123;</span><br><span class="line">        <span class="keyword">switch</span> (type) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">&quot;è‹¹æœ&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Apple</span>();</span><br><span class="line">           	<span class="keyword">case</span> <span class="string">&quot;æ©˜å­&quot;</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Orange</span>();</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨æˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨æ­¤å·¥å‚æ¥åˆ›å»ºå¯¹è±¡äº†ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Fruit</span> <span class="variable">fruit</span> <span class="operator">=</span> FruitFactory.getFruit(<span class="string">&quot;æ©˜å­&quot;</span>);   <span class="comment">//ç›´æ¥é—®å·¥å‚è¦ï¼Œè€Œä¸æ˜¯æˆ‘ä»¬è‡ªå·±å»åˆ›å»º</span></span><br><span class="line">        System.out.println(fruit);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>åˆ©ç”¨å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­çš„æ€§è´¨ï¼Œå°†<code>ç®€å•å·¥å‚æ¨¡å¼</code>æ”¹è¿›ä¸º<code>å·¥å‚æ–¹æ³•æ¨¡å¼</code>ï¼Œé‚£ç°åœ¨æ—¢ç„¶ä¸è®©æ”¹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±çœ‹çœ‹å¦‚ä½•å»ä½¿ç”¨æ‰©å±•çš„å½¢å¼ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">FruitFactory</span>&lt;T <span class="keyword">extends</span> <span class="title class_">Fruit</span>&gt; &#123;   <span class="comment">//å°†æ°´æœå·¥å‚æŠ½è±¡ä¸ºæŠ½è±¡ç±»ï¼Œæ·»åŠ æ³›å‹Tç”±å­ç±»æŒ‡å®šæ°´æœç±»å‹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> T <span class="title function_">getFruit</span><span class="params">()</span>;  <span class="comment">//ä¸åŒçš„æ°´æœå·¥å‚ï¼Œé€šè¿‡æ­¤æ–¹æ³•ç”Ÿäº§ä¸åŒçš„æ°´æœ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AppleFactory</span> <span class="keyword">extends</span> <span class="title class_">FruitFactory</span>&lt;Apple&gt; &#123;  <span class="comment">//è‹¹æœå·¥å‚ï¼Œç›´æ¥è¿”å›Appleï¼Œä¸€æ­¥åˆ°ä½</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Apple <span class="title function_">getFruit</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Apple</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨ä¸åŒç±»å‹çš„å·¥å‚æ¥ç”Ÿäº§ä¸åŒç±»å‹çš„æ°´æœäº†ï¼Œå¹¶ä¸”å¦‚æœæ–°å¢äº†æ°´æœç±»å‹ï¼Œç›´æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„å·¥å‚ç±»å°±è¡Œï¼Œä¸éœ€è¦ä¿®æ”¹ä¹‹å‰å·²ç»ç¼–å†™å¥½çš„å†…å®¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        test(<span class="keyword">new</span> <span class="title class_">AppleFactory</span>()::getFruit);   <span class="comment">//æ¯”å¦‚æˆ‘ä»¬ç°åœ¨è¦åƒä¸€ä¸ªè‹¹æœï¼Œé‚£ä¹ˆå°±ç›´æ¥é€šè¿‡è‹¹æœå·¥å‚æ¥è·å–è‹¹æœ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ­¤æ–¹æ³•æ¨¡æ‹Ÿåƒæ‰ä¸€ä¸ªæ°´æœ</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(Supplier&lt;Fruit&gt; supplier)</span>&#123;</span><br><span class="line">        System.out.println(supplier.get()+<span class="string">&quot; è¢«åƒæ‰äº†ï¼ŒçœŸå¥½åƒã€‚&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è¿™æ ·ï¼Œæˆ‘ä»¬å°±ç®€å•å®ç°äº†å·¥å‚æ–¹æ³•æ¨¡å¼ï¼Œé€šè¿‡å·¥å‚æ¥å±è”½å¯¹è±¡çš„åˆ›å»ºç»†èŠ‚ï¼Œä½¿ç”¨è€…åªéœ€è¦å…³å¿ƒå¦‚ä½•å»ä½¿ç”¨å¯¹è±¡å³å¯ã€‚</p>
<h2 id="å»ºé€ è€…æ¨¡å¼"><a href="#å»ºé€ è€…æ¨¡å¼" class="headerlink" title="å»ºé€ è€…æ¨¡å¼"></a>å»ºé€ è€…æ¨¡å¼</h2><p>ç»å¸¸çœ‹åˆ°æœ‰å¾ˆå¤šçš„æ¡†æ¶éƒ½ä¸ºæˆ‘ä»¬æä¾›äº†å½¢å¦‚<code>XXXBuilder</code>çš„ç±»å‹ï¼Œæˆ‘ä»¬ä¸€èˆ¬ä¹Ÿæ˜¯ä½¿ç”¨è¿™äº›ç±»æ¥åˆ›å»ºæˆ‘ä»¬éœ€è¦çš„å¯¹è±¡ã€‚</p>
<p>JavaSEä¸­çš„StringBuliderç±»ã€‚ã€‚ã€‚</p>
<p>ç°åœ¨æœ‰ä¸€ä¸ªå­¦ç”Ÿç±»ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="type">int</span> id;</span><br><span class="line">    <span class="type">int</span> age;</span><br><span class="line">    <span class="type">int</span> grade;</span><br><span class="line">    String name;</span><br><span class="line">    String college;</span><br><span class="line">    String profession;</span><br><span class="line">    List&lt;String&gt; awards;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(<span class="type">int</span> id, <span class="type">int</span> age, <span class="type">int</span> grade, String name, String college, String profession, List&lt;String&gt; awards)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.grade = grade;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.college = college;</span><br><span class="line">        <span class="built_in">this</span>.profession = profession;</span><br><span class="line">        <span class="built_in">this</span>.awards = awards;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ä»–çš„å±æ€§å¾ˆå¤šï¼Œç›´æ¥æ„é€ å®¹æ˜“å‡ºé”™ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬ç°åœ¨å¯ä»¥ä½¿ç”¨å»ºé€ è€…æ¨¡å¼æ¥è¿›è¡Œå¯¹è±¡çš„åˆ›å»ºï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">		...</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ä¸€å¾‹ä½¿ç”¨å»ºé€ è€…æ¥åˆ›å»ºï¼Œä¸å¯¹å¤–ç›´æ¥å¼€æ”¾</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Student</span><span class="params">(<span class="type">int</span> id, <span class="type">int</span> age, <span class="type">int</span> grade, String name, String college, String profession, List&lt;String&gt; awards)</span> &#123;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> StudentBuilder <span class="title function_">builder</span><span class="params">()</span>&#123;   <span class="comment">//é€šè¿‡builderæ–¹æ³•ç›´æ¥è·å–å»ºé€ è€…</span></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">StudentBuilder</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">StudentBuilder</span>&#123;   <span class="comment">//è¿™é‡Œå°±ç›´æ¥åˆ›å»ºä¸€ä¸ªå†…éƒ¨ç±»</span></span><br><span class="line">        <span class="comment">//Builderä¹Ÿéœ€è¦å°†æ‰€æœ‰çš„å‚æ•°éƒ½è¿›è¡Œæš‚æ—¶ä¿å­˜ï¼Œæ‰€ä»¥Studentæ€ä¹ˆå®šä¹‰çš„è¿™é‡Œå°±æ€ä¹ˆå®šä¹‰</span></span><br><span class="line">        <span class="type">int</span> id;</span><br><span class="line">        <span class="type">int</span> age;</span><br><span class="line">        <span class="type">int</span> grade;</span><br><span class="line">        String name;</span><br><span class="line">        String college;</span><br><span class="line">        String profession;</span><br><span class="line">        List&lt;String&gt; awards;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> StudentBuilder <span class="title function_">id</span><span class="params">(<span class="type">int</span> id)</span>&#123;    <span class="comment">//ç›´æ¥è°ƒç”¨å»ºé€ è€…å¯¹åº”çš„æ–¹æ³•ï¼Œä¸ºå¯¹åº”çš„å±æ€§èµ‹å€¼</span></span><br><span class="line">            <span class="built_in">this</span>.id = id;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>;   <span class="comment">//ä¸ºäº†æ”¯æŒé“¾å¼è°ƒç”¨ï¼Œè¿™é‡Œç›´æ¥è¿”å›å»ºé€ è€…æœ¬èº«ï¼Œä¸‹åŒ</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> StudentBuilder <span class="title function_">age</span><span class="params">(<span class="type">int</span> age)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.age = age;</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">      </span><br><span class="line">      	...</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> StudentBuilder <span class="title function_">awards</span><span class="params">(String... awards)</span>&#123;</span><br><span class="line">            <span class="built_in">this</span>.awards = Arrays.asList(awards);</span><br><span class="line">            <span class="keyword">return</span> <span class="built_in">this</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">public</span> Student <span class="title function_">build</span><span class="params">()</span>&#123;    <span class="comment">//æœ€åæˆ‘ä»¬åªéœ€è¦è°ƒç”¨å»ºé€ è€…æä¾›çš„buildæ–¹æ³•å³å¯æ ¹æ®æˆ‘ä»¬çš„é…ç½®è¿”å›ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Student</span>(id, age, grade, name, college, profession, awards);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ç°åœ¨ï¼Œæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨å»ºé€ è€…æ¥ä¸ºæˆ‘ä»¬ç”Ÿæˆå¯¹è±¡äº†ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Student</span> <span class="variable">student</span> <span class="operator">=</span> Student.builder()   <span class="comment">//è·å–å»ºé€ è€…</span></span><br><span class="line">            .id(<span class="number">1</span>)    <span class="comment">//é€æ­¥é…ç½®å„ä¸ªå‚æ•°</span></span><br><span class="line">            .age(<span class="number">18</span>)</span><br><span class="line">            .grade(<span class="number">3</span>)</span><br><span class="line">            .name(<span class="string">&quot;å°æ˜&quot;</span>)</span><br><span class="line">            .awards(<span class="string">&quot;ICPC-ACM åŒºåŸŸèµ› é‡‘ç‰Œ&quot;</span>, <span class="string">&quot;LPL 2022æ˜¥å­£èµ› å† å†›&quot;</span>)</span><br><span class="line">            .build();   <span class="comment">//æœ€åç›´æ¥å»ºé€ æˆ‘ä»¬æƒ³è¦çš„å¯¹è±¡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h2><p>æ‡’æ±‰å¼å’Œé¥¿æ±‰å¼</p>
<p><strong>é¥¿æ±‰å¼</strong>ï¼šåœ¨ä½¿ç”¨è¿™ä¸ªç±»æ—¶è‡ªåŠ¨è¿›è¡Œåˆ›å»ºå¯¹åº”å®ä¾‹å¯¹è±¡ã€‚</p>
<p><strong>æ‡’æ±‰å¼</strong>ï¼šåœ¨ä½¿ç”¨è¿™ä¸ªç±»çš„å•ä¾‹å¯¹è±¡åˆå§‹åŒ–æ–¹æ³•æ—¶æ‰ä¼šåˆ›å»ºå¯¹è±¡ã€‚</p>
<p>é¥¿æ±‰å¼<strong>å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä¼šæœ‰é—®é¢˜ï¼</strong>ï¼Œå¦‚æœå‡ ä¸ªçº¿ç¨‹åŒæ—¶è°ƒç”¨ï¼Œä¼šè¢«åˆ›å»ºå¤šæ¬¡ã€‚ä¸ºäº†é¿å…è¿™ä¸ªé—®é¢˜ï¼Œæœ€ç®€å•çš„æ˜¯åŠ ä¸€ä¸ª<code>synchronized</code>é”ï¼Œä½†æ˜¯åœ¨é«˜å¹¶å‘æƒ…å†µä¸‹æ•ˆç‡å¾ˆä½ã€‚</p>
<p>ä¼˜åŒ–ï¼šåœ¨ä¸€å¼€å§‹è¿›è¡Œifåˆ¤æ–­ï¼Œåˆ¤æ–­éœ€è¦çš„å•ä¾‹å¯¹è±¡æ˜¯å¦ä¸ºç©ºï¼Œä½†æ˜¯è¿™æ ·ä¹Ÿæœ‰å¯èƒ½å¤šä¸ªçº¿ç¨‹åŒæ—¶åˆ¤æ–­ä¸ºnullè¿›å…¥ç­‰é”çŠ¶æ€</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">if</span>(INSTANCE == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (Singleton.class) &#123;</span><br><span class="line">            <span class="keyword">if</span>(INSTANCE == <span class="literal">null</span>) INSTANCE = <span class="keyword">new</span> <span class="title class_">Singleton</span>();  <span class="comment">//å†…å±‚è¿˜è¦è¿›è¡Œä¸€æ¬¡æ£€æŸ¥ï¼ŒåŒé‡æ£€æŸ¥é”å®š</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> INSTANCE;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>javaä¸­å¯ä»¥ä½¿ç”¨é™æ€å†…éƒ¨ç±»ï¼Œå®ç°ä¸åŠ é”å†™æ³•ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Holder</span> &#123;   <span class="comment">//ç”±é™æ€å†…éƒ¨ç±»æŒæœ‰å•ä¾‹å¯¹è±¡ï¼Œä½†æ˜¯æ ¹æ®ç±»åŠ è½½ç‰¹æ€§ï¼Œæˆ‘ä»¬ä»…ä½¿ç”¨Singletonç±»æ—¶ï¼Œä¸ä¼šå¯¹é™æ€å†…éƒ¨ç±»è¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">Singleton</span> <span class="variable">INSTANCE</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span>&#123;   <span class="comment">//åªæœ‰çœŸæ­£ä½¿ç”¨å†…éƒ¨ç±»æ—¶ï¼Œæ‰ä¼šè¿›è¡Œç±»åˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">return</span> Holder.INSTANCE;   <span class="comment">//ç›´æ¥è·å–å†…éƒ¨ç±»ä¸­çš„</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="åŸå‹æ¨¡å¼"><a href="#åŸå‹æ¨¡å¼" class="headerlink" title="åŸå‹æ¨¡å¼"></a>åŸå‹æ¨¡å¼</h2><p>åŸå‹æ¨¡å¼ä¸å¯¹è±¡çš„æ‹·è´ç´§å¯†ç›¸å…³</p>
<h3 id="æ·±æ‹·è´å’Œæµ…æ‹·è´"><a href="#æ·±æ‹·è´å’Œæµ…æ‹·è´" class="headerlink" title="æ·±æ‹·è´å’Œæµ…æ‹·è´"></a>æ·±æ‹·è´å’Œæµ…æ‹·è´</h3><ul>
<li><strong>æµ…æ‹·è´ï¼š</strong> å¯¹äºç±»ä¸­åŸºæœ¬æ•°æ®ç±»å‹ï¼Œä¼šç›´æ¥å¤åˆ¶å€¼ç»™æ‹·è´å¯¹è±¡ï¼›å¯¹äºå¼•ç”¨ç±»å‹ï¼Œåªä¼šå¤åˆ¶å¯¹è±¡çš„åœ°å€ï¼Œè€Œå®é™…ä¸ŠæŒ‡å‘çš„è¿˜æ˜¯åŸæ¥çš„é‚£ä¸ªå¯¹è±¡</li>
</ul>
<ul>
<li><strong>æ·±æ‹·è´ï¼š</strong> æ— è®ºæ˜¯åŸºæœ¬ç±»å‹è¿˜æ˜¯å¼•ç”¨ç±»å‹ï¼Œæ·±æ‹·è´ä¼šå°†å¼•ç”¨ç±»å‹çš„æ‰€æœ‰å†…å®¹ï¼Œå…¨éƒ¨æ‹·è´ä¸ºä¸€ä¸ªæ–°çš„å¯¹è±¡ï¼ŒåŒ…æ‹¬å¯¹è±¡å†…éƒ¨çš„æ‰€æœ‰æˆå‘˜å˜é‡ï¼Œä¹Ÿä¼šè¿›è¡Œæ‹·è´ã€‚</li>
</ul>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>è®¾è®¡æ¨¡å¼</tag>
      </tags>
  </entry>
  <entry>
    <title>æ•°ç»„ç›¸å…³é¢˜ç›®</title>
    <url>/2024/04/22/%E6%95%B0%E7%BB%84%E6%80%BB%E7%BB%93/</url>
    <content><![CDATA[<h1 id="æ•°ç»„æ€»ç»“"><a href="#æ•°ç»„æ€»ç»“" class="headerlink" title="æ•°ç»„æ€»ç»“"></a>æ•°ç»„æ€»ç»“</h1><h2 id="æ•°ç»„ç†è®ºåŸºç¡€"><a href="#æ•°ç»„ç†è®ºåŸºç¡€" class="headerlink" title="æ•°ç»„ç†è®ºåŸºç¡€"></a>æ•°ç»„ç†è®ºåŸºç¡€</h2><p><strong>æ•°ç»„æ˜¯å­˜æ”¾åœ¨è¿ç»­å†…å­˜ç©ºé—´ä¸Šçš„ç›¸åŒç±»å‹æ•°æ®çš„é›†åˆã€‚</strong></p>
<p>æ•°ç»„å¯ä»¥æ–¹ä¾¿çš„é€šè¿‡ä¸‹æ ‡ç´¢å¼•çš„æ–¹å¼è·å–åˆ°ä¸‹æ ‡ä¸‹å¯¹åº”çš„æ•°æ®ã€‚</p>
<p>ä¸¾ä¸€ä¸ªå­—ç¬¦æ•°ç»„çš„ä¾‹å­ï¼Œå¦‚å›¾æ‰€ç¤ºï¼š</p>
<p><img src="https://code-thinking.cdn.bcebos.com/pics/%E7%AE%97%E6%B3%95%E9%80%9A%E5%85%B3%E6%95%B0%E7%BB%84.png" alt="img"></p>
<ul>
<li><strong>æ•°ç»„çš„ä¸‹æ ‡éƒ½æ˜¯ä»0å¼€å§‹çš„</strong></li>
<li><strong>æ•°ç»„å†…å­˜ç©ºé—´éƒ½æ˜¯è¿ç»­çš„</strong></li>
</ul>
<p>æ­£æ˜¯<strong>å› ä¸ºæ•°ç»„çš„åœ¨å†…å­˜ç©ºé—´çš„åœ°å€æ˜¯è¿ç»­çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬åœ¨åˆ é™¤æˆ–è€…å¢æ·»å…ƒç´ çš„æ—¶å€™ï¼Œå°±éš¾å…è¦ç§»åŠ¨å…¶ä»–å…ƒç´ çš„åœ°å€ã€‚</strong></p>
<p><strong>æ•°ç»„çš„å…ƒç´ æ˜¯ä¸èƒ½åˆ çš„ï¼Œåªèƒ½è¦†ç›–ã€‚</strong></p>
<h2 id="æ•°ç»„çš„ç»å…¸é¢˜ç›®"><a href="#æ•°ç»„çš„ç»å…¸é¢˜ç›®" class="headerlink" title="æ•°ç»„çš„ç»å…¸é¢˜ç›®"></a>æ•°ç»„çš„ç»å…¸é¢˜ç›®</h2><h3 id="äºŒåˆ†æ³•"><a href="#äºŒåˆ†æ³•" class="headerlink" title="äºŒåˆ†æ³•"></a>äºŒåˆ†æ³•</h3><p><strong>å¾ªç¯ä¸å˜é‡åŸåˆ™</strong></p>
<h3 id="åŒæŒ‡é’ˆæ³•"><a href="#åŒæŒ‡é’ˆæ³•" class="headerlink" title="åŒæŒ‡é’ˆæ³•"></a>åŒæŒ‡é’ˆæ³•</h3><p>åŒæŒ‡é’ˆæ³•ï¼ˆå¿«æ…¢æŒ‡é’ˆæ³•ï¼‰ï¼š<strong>é€šè¿‡ä¸€ä¸ªå¿«æŒ‡é’ˆå’Œæ…¢æŒ‡é’ˆåœ¨ä¸€ä¸ªforå¾ªç¯ä¸‹å®Œæˆä¸¤ä¸ªforå¾ªç¯çš„å·¥ä½œã€‚</strong></p>
<h3 id="æ»‘åŠ¨çª—å£"><a href="#æ»‘åŠ¨çª—å£" class="headerlink" title="æ»‘åŠ¨çª—å£"></a>æ»‘åŠ¨çª—å£</h3><p><strong>æ»‘åŠ¨çª—å£çš„ç²¾å¦™ä¹‹å¤„åœ¨äºæ ¹æ®å½“å‰å­åºåˆ—å’Œå¤§å°çš„æƒ…å†µï¼Œä¸æ–­è°ƒèŠ‚å­åºåˆ—çš„èµ·å§‹ä½ç½®ã€‚ä»è€Œå°†O(n^2)çš„æš´åŠ›è§£æ³•é™ä¸ºO(n)ã€‚</strong></p>
<h3 id="æ¨¡æ‹Ÿè¡Œä¸º"><a href="#æ¨¡æ‹Ÿè¡Œä¸º" class="headerlink" title="æ¨¡æ‹Ÿè¡Œä¸º"></a>æ¨¡æ‹Ÿè¡Œä¸º</h3><p>å¯»æ‰¾åˆé€‚çš„è¾¹ç•Œæ¡ä»¶ã€‚</p>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>æ•°ç»„</tag>
      </tags>
  </entry>
  <entry>
    <title>èºæ—‹çŸ©é˜µ</title>
    <url>/2024/04/21/%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5/</url>
    <content><![CDATA[<h1 id="èºæ—‹çŸ©é˜µ"><a href="#èºæ—‹çŸ©é˜µ" class="headerlink" title="èºæ—‹çŸ©é˜µ"></a>èºæ—‹çŸ©é˜µ</h1><p><a href="https://leetcode.cn/problems/spiral-matrix-ii/">åŠ›æ‰£é¢˜ç›®é“¾æ¥</a></p>
<h3 id="æ¨¡æ‹Ÿè½¬åœˆçš„è¿‡ç¨‹"><a href="#æ¨¡æ‹Ÿè½¬åœˆçš„è¿‡ç¨‹" class="headerlink" title="æ¨¡æ‹Ÿè½¬åœˆçš„è¿‡ç¨‹"></a>æ¨¡æ‹Ÿè½¬åœˆçš„è¿‡ç¨‹</h3><p><strong>è¾¹ç•Œç‚¹çš„å¤„ç†</strong>ï¼ˆå¾ªç¯ä¸å˜é‡ï¼‰</p>
<p><code>ä¸å˜é‡</code>:å¯¹æ¯æ¡è¾¹çš„å¤„ç†è§„åˆ™ </p>
<p>ä½¿ç”¨å·¦é—­å³å¼€ï¼Œå¤„ç†ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œä¸å¤„ç†æœ€åä¸€ä¸ªèŠ‚ç‚¹ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//nçŸ©é˜µå¤§å°</span></span><br><span class="line">startx = <span class="number">0</span>, starty = <span class="number">0</span>;</span><br><span class="line">offset = <span class="number">1</span>;</span><br><span class="line">count = <span class="number">1</span>;</span><br><span class="line">loop = <span class="number">1</span>;</span><br><span class="line"><span class="keyword">while</span>(loop &lt;= n / <span class="number">2</span>)&#123;</span><br><span class="line">    <span class="keyword">for</span>(j = starty; j &lt; n - offset; j++)&#123;</span><br><span class="line">        nums[startx][j] = count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(i = startx; i &lt; n - offset; i++)&#123;</span><br><span class="line">        nums[i][j] = count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(; j &gt; starty; j--)&#123;</span><br><span class="line">        nums[i][j] = count++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span>(; i &gt; startx; i--)&#123;</span><br><span class="line">        nums[i][j] = count++;</span><br><span class="line">    &#125;</span><br><span class="line">    startx++;</span><br><span class="line">    starty++;</span><br><span class="line">    offset++;</span><br><span class="line">    loop++;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span>(n % <span class="number">2</span> == <span class="number">1</span>)</span><br><span class="line">    nums[i][j] = count;</span><br></pre></td></tr></table></figure>

<p>æ¨¡æ‹Ÿé¡ºæ—¶é’ˆç”»çŸ©é˜µçš„è¿‡ç¨‹:</p>
<ul>
<li>å¡«å……ä¸Šè¡Œä»å·¦åˆ°å³</li>
<li>å¡«å……å³åˆ—ä»ä¸Šåˆ°ä¸‹</li>
<li>å¡«å……ä¸‹è¡Œä»å³åˆ°å·¦</li>
<li>å¡«å……å·¦åˆ—ä»ä¸‹åˆ°ä¸Š</li>
</ul>
<p>ç”±å¤–å‘å†…ä¸€åœˆä¸€åœˆè¿™ä¹ˆç”»ä¸‹å»ã€‚</p>
<p>å¯ä»¥å‘ç°è¿™é‡Œçš„è¾¹ç•Œæ¡ä»¶éå¸¸å¤šï¼Œåœ¨ä¸€ä¸ªå¾ªç¯ä¸­ï¼Œå¦‚æ­¤å¤šçš„è¾¹ç•Œæ¡ä»¶ï¼Œå¦‚æœä¸æŒ‰ç…§å›ºå®šè§„åˆ™æ¥éå†ï¼Œé‚£å°±æ˜¯<strong>ä¸€è¿›å¾ªç¯æ·±ä¼¼æµ·ï¼Œä»æ­¤offeræ˜¯è·¯äºº</strong>ã€‚</p>
<p>è¿™é‡Œä¸€åœˆä¸‹æ¥ï¼Œæˆ‘ä»¬è¦ç”»æ¯å››æ¡è¾¹ï¼Œè¿™å››æ¡è¾¹æ€ä¹ˆç”»ï¼Œæ¯ç”»ä¸€æ¡è¾¹éƒ½è¦åšæŒä¸€è‡´çš„å·¦é—­å³å¼€ï¼Œæˆ–è€…å·¦å¼€å³é—­çš„åŸåˆ™ï¼Œè¿™æ ·è¿™ä¸€åœˆæ‰èƒ½æŒ‰ç…§ç»Ÿä¸€çš„è§„åˆ™ç”»ä¸‹æ¥ã€‚</p>
<p>é‚£ä¹ˆæˆ‘æŒ‰ç…§å·¦é—­å³å¼€çš„åŸåˆ™ï¼Œæ¥ç”»ä¸€åœˆï¼Œå¤§å®¶çœ‹ä¸€ä¸‹ï¼š</p>
<p><img src="https://code-thinking-1253855093.file.myqcloud.com/pics/20220922102236.png" alt="img"></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span>[][] generateMatrix(<span class="type">int</span> n) &#123;</span><br><span class="line">        <span class="type">int</span>[][] nums = <span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">        <span class="type">int</span> <span class="variable">startX</span> <span class="operator">=</span> <span class="number">0</span>, startY = <span class="number">0</span>;  <span class="comment">// æ¯ä¸€åœˆçš„èµ·å§‹ç‚¹</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">offset</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">1</span>;  <span class="comment">// çŸ©é˜µä¸­éœ€è¦å¡«å†™çš„æ•°å­—</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">loop</span> <span class="operator">=</span> <span class="number">1</span>; <span class="comment">// è®°å½•å½“å‰çš„åœˆæ•°</span></span><br><span class="line">        <span class="type">int</span> i, j; <span class="comment">// j ä»£è¡¨åˆ—, i ä»£è¡¨è¡Œ;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (loop &lt;= n / <span class="number">2</span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// é¡¶éƒ¨</span></span><br><span class="line">            <span class="comment">// å·¦é—­å³å¼€ï¼Œæ‰€ä»¥åˆ¤æ–­å¾ªç¯ç»“æŸæ—¶ï¼Œ j ä¸èƒ½ç­‰äº n - offset</span></span><br><span class="line">            <span class="keyword">for</span> (j = startY; j &lt; n - offset; j++) &#123;</span><br><span class="line">                nums[startX][j] = count++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å³åˆ—</span></span><br><span class="line">            <span class="comment">// å·¦é—­å³å¼€ï¼Œæ‰€ä»¥åˆ¤æ–­å¾ªç¯ç»“æŸæ—¶ï¼Œ i ä¸èƒ½ç­‰äº n - offset</span></span><br><span class="line">            <span class="keyword">for</span> (i = startX; i &lt; n - offset; i++) &#123;</span><br><span class="line">                nums[i][j] = count++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åº•éƒ¨</span></span><br><span class="line">            <span class="comment">// å·¦é—­å³å¼€ï¼Œæ‰€ä»¥åˆ¤æ–­å¾ªç¯ç»“æŸæ—¶ï¼Œ j != startY</span></span><br><span class="line">            <span class="keyword">for</span> (; j &gt; startY; j--) &#123;</span><br><span class="line">                nums[i][j] = count++;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å·¦åˆ—</span></span><br><span class="line">            <span class="comment">// å·¦é—­å³å¼€ï¼Œæ‰€ä»¥åˆ¤æ–­å¾ªç¯ç»“æŸæ—¶ï¼Œ i != startX</span></span><br><span class="line">            <span class="keyword">for</span> (; i &gt; startX; i--) &#123;</span><br><span class="line">                nums[i][j] = count++;</span><br><span class="line">            &#125;</span><br><span class="line">            startX++;</span><br><span class="line">            startY++;</span><br><span class="line">            offset++;</span><br><span class="line">            loop++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (n % <span class="number">2</span> == <span class="number">1</span>) &#123; <span class="comment">// n ä¸ºå¥‡æ•°æ—¶ï¼Œå•ç‹¬å¤„ç†çŸ©é˜µä¸­å¿ƒçš„å€¼</span></span><br><span class="line">            nums[startX][startY] = count;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>å‚è€ƒï¼š<a href="https://www.programmercarl.com/0059.%E8%9E%BA%E6%97%8B%E7%9F%A9%E9%98%B5II.html">ä»£ç éšæƒ³å½• (programmercarl.com)</a></p>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>èºæ—‹çŸ©é˜µ</tag>
      </tags>
  </entry>
  <entry>
    <title>åŒæŒ‡é’ˆä¹‹æ»‘åŠ¨çª—å£</title>
    <url>/2024/04/20/%E5%8F%8C%E6%8C%87%E9%92%88%E4%B9%8B%E6%BB%91%E5%8A%A8%E7%AA%97%E5%8F%A3/</url>
    <content><![CDATA[<h1 id="åŒæŒ‡é’ˆä¹‹æ»‘åŠ¨çª—å£"><a href="#åŒæŒ‡é’ˆä¹‹æ»‘åŠ¨çª—å£" class="headerlink" title="åŒæŒ‡é’ˆä¹‹æ»‘åŠ¨çª—å£"></a>åŒæŒ‡é’ˆä¹‹æ»‘åŠ¨çª—å£</h1><p>ä½¿ç”¨ä¸€ä¸ªforå¾ªç¯å®Œæˆä¸¤ä¸ªforå¾ªç¯ï¼Œforå¾ªç¯ä¸­çš„å˜é‡è¡¨ç¤ºçª—å£çš„ç»ˆæ­¢ä½ç½®ã€‚ï¼ˆå¦‚ä½•ç§»åŠ¨èµ·å§‹ä½ç½®ï¼Ÿï¼‰</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ièµ·å§‹ä½ç½®ï¼Œjç»ˆæ­¢ä½ç½®ï¼Œsumå½“å‰çª—å£å€¼å¤§å°ï¼ŒsubLçª—å£é•¿åº¦</span></span><br><span class="line">result = max;</span><br><span class="line">i = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; nums.length; j++)&#123;</span><br><span class="line">    sum += nums[j];</span><br><span class="line">    <span class="comment">//ç”¨whileä¸ç”¨ifï¼Œå› ä¸ºæ˜¯æŒç»­å¯»æ‰¾æœ€å°çª—å£çš„è¿‡ç¨‹</span></span><br><span class="line">    <span class="keyword">while</span>(sum &gt;= s)&#123;</span><br><span class="line">        subL = j - i + <span class="number">1</span>;</span><br><span class="line">        result = Math.min(subL, result);</span><br><span class="line">        sum = sum - nums[i];</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result;</span><br></pre></td></tr></table></figure>

<p><img src="https://code-thinking.cdn.bcebos.com/gifs/209.%E9%95%BF%E5%BA%A6%E6%9C%80%E5%B0%8F%E7%9A%84%E5%AD%90%E6%95%B0%E7%BB%84.gif" alt="209.é•¿åº¦æœ€å°çš„å­æ•°ç»„"></p>
<h1 id="209-é•¿åº¦æœ€å°çš„å­æ•°ç»„"><a href="#209-é•¿åº¦æœ€å°çš„å­æ•°ç»„" class="headerlink" title="209.é•¿åº¦æœ€å°çš„å­æ•°ç»„"></a>209.é•¿åº¦æœ€å°çš„å­æ•°ç»„</h1><p><a href="https://leetcode.cn/problems/minimum-size-subarray-sum/">åŠ›æ‰£é¢˜ç›®é“¾æ¥</a></p>
<h2 id="ç›¸å…³é¢˜ç›®æ¨è"><a href="#ç›¸å…³é¢˜ç›®æ¨è" class="headerlink" title="ç›¸å…³é¢˜ç›®æ¨è"></a>ç›¸å…³é¢˜ç›®æ¨è</h2><ul>
<li><a href="https://leetcode.cn/problems/fruit-into-baskets/">904.æ°´æœæˆç¯®(opens new window)</a></li>
<li><a href="https://leetcode.cn/problems/minimum-window-substring/">76.æœ€å°è¦†ç›–å­ä¸²</a></li>
</ul>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>åŒæŒ‡é’ˆä¹‹æ»‘åŠ¨çª—å£</tag>
      </tags>
  </entry>
  <entry>
    <title>åŒæŒ‡é’ˆç®—æ³•</title>
    <url>/2024/04/19/%E5%8F%8C%E6%8C%87%E9%92%88%E7%AE%97%E6%B3%95/</url>
    <content><![CDATA[<h2 id="åŒæŒ‡é’ˆç®—æ³•"><a href="#åŒæŒ‡é’ˆç®—æ³•" class="headerlink" title="åŒæŒ‡é’ˆç®—æ³•"></a>åŒæŒ‡é’ˆç®—æ³•</h2><h3 id="æ€è·¯ï¼š"><a href="#æ€è·¯ï¼š" class="headerlink" title="æ€è·¯ï¼š"></a>æ€è·¯ï¼š</h3><p>ä¸€ä¸ªå¿«æŒ‡é’ˆï¼Œä¸€ä¸ªæ…¢æŒ‡é’ˆã€‚ä½¿ç”¨ä¸€å±‚forå¾ªç¯è§£å†³ä¸¤å±‚forå¾ªç¯åšçš„äº‹æƒ…ã€‚</p>
<p><code>å¿«æŒ‡é’ˆ</code>ï¼šå¯»æ‰¾æ–°æ•°ç»„æ‰€éœ€è¦çš„å…ƒç´ </p>
<p><code>æ…¢æŒ‡é’ˆ</code>ï¼šè·å–æ–°æ•°ç»„ä¸­éœ€è¦æ›´æ–°çš„ä½ç½®ï¼Œæ–°æ•°ç»„ä¸‹æ ‡å€¼å°±æ˜¯æ…¢æŒ‡é’ˆï¼Œéœ€è¦æ›´æ–°çš„ä¸‹æ ‡å€¼å°±æ˜¯æ…¢æŒ‡é’ˆã€‚</p>
<p>â€‹	<img src="https://code-thinking.cdn.bcebos.com/gifs/27.%E7%A7%BB%E9%99%A4%E5%85%83%E7%B4%A0-%E5%8F%8C%E6%8C%87%E9%92%88%E6%B3%95.gif" alt="27.ç§»é™¤å…ƒç´ -åŒæŒ‡é’ˆæ³•"></p>
<h4 id="ä¾‹é¢˜ï¼š27-ç§»é™¤å…ƒç´ -åŠ›æ‰£ï¼ˆLeetCodeï¼‰"><a href="#ä¾‹é¢˜ï¼š27-ç§»é™¤å…ƒç´ -åŠ›æ‰£ï¼ˆLeetCodeï¼‰" class="headerlink" title="ä¾‹é¢˜ï¼š27. ç§»é™¤å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰"></a>ä¾‹é¢˜ï¼š<a href="https://leetcode.cn/problems/remove-element/description/">27. ç§»é™¤å…ƒç´  - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></h4><figure class="highlight java"><table><tr><td class="code"><pre><span class="line">slow = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">for</span>(fast = <span class="number">0</span>; fast &lt; nums.size; fast++)&#123;</span><br><span class="line">    <span class="keyword">if</span>(nums[fast] != val)&#123;</span><br><span class="line">        nums[slow] = nums[fast];</span><br><span class="line">        slow++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> slow;</span><br></pre></td></tr></table></figure>

<h2 id="ç›¸å…³é¢˜ç›®æ¨è"><a href="#ç›¸å…³é¢˜ç›®æ¨è" class="headerlink" title="ç›¸å…³é¢˜ç›®æ¨è"></a>ç›¸å…³é¢˜ç›®æ¨è</h2><ul>
<li><a href="https://leetcode.cn/problems/remove-duplicates-from-sorted-array/">26.åˆ é™¤æ’åºæ•°ç»„ä¸­çš„é‡å¤é¡¹(opens new window)</a></li>
<li><a href="https://leetcode.cn/problems/move-zeroes/">283.ç§»åŠ¨é›¶(opens new window)</a></li>
<li><a href="https://leetcode.cn/problems/backspace-string-compare/">844.æ¯”è¾ƒå«é€€æ ¼çš„å­—ç¬¦ä¸²(opens new window)</a></li>
<li><a href="https://leetcode.cn/problems/squares-of-a-sorted-array/">977.æœ‰åºæ•°ç»„çš„å¹³æ–¹</a></li>
</ul>
<h3 id="length-length-size-åŒºåˆ«"><a href="#length-length-size-åŒºåˆ«" class="headerlink" title="length,length(),size()åŒºåˆ«"></a>length,length(),size()åŒºåˆ«</h3><p>é¦–å…ˆåŒºåˆ†ä¸€ä¸‹lengthå’Œlength()ï¼›</p>
<p><strong>lengthä¸æ˜¯æ–¹æ³•ï¼Œæ˜¯å±æ€§ï¼Œæ•°ç»„çš„å±æ€§ï¼›</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">	<span class="type">int</span>[] intArray = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">	System.out.println(<span class="string">&quot;è¿™ä¸ªæ•°ç»„çš„é•¿åº¦ä¸ºï¼š&quot;</span> + intArray.length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>length()æ˜¯å­—ç¬¦ä¸²Stringçš„ä¸€ä¸ªæ–¹æ³•ï¼›</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">	<span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;HelloWorld&quot;</span>;</span><br><span class="line">	System.out.println(<span class="string">&quot;è¿™ä¸ªå­—ç¬¦ä¸²çš„é•¿åº¦ä¸ºï¼š&quot;</span> + str.length());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>size()æ–¹æ³•ï¼Œæ˜¯Listé›†åˆçš„ä¸€ä¸ªæ–¹æ³•ï¼›</strong></p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">	List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">	list.add(<span class="string">&quot;a&quot;</span>);</span><br><span class="line">	list.add(<span class="string">&quot;b&quot;</span>);</span><br><span class="line">	list.add(<span class="string">&quot;c&quot;</span>);</span><br><span class="line">	System.out.println(<span class="string">&quot;è¿™ä¸ªlistçš„é•¿åº¦ä¸ºï¼š&quot;</span> + list.size());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æ€»ç»“ï¼š</p>
<p><strong>lengthâ€”â€”æ•°ç»„çš„å±æ€§ï¼›</strong></p>
<p><strong>length()â€”â€”Stringçš„æ–¹æ³•ï¼›</strong></p>
<p><strong>size()â€”â€”é›†åˆçš„æ–¹æ³•ï¼›</strong></p>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>ç®—æ³•</tag>
      </tags>
  </entry>
  <entry>
    <title>SpringSecurity</title>
    <url>/2024/04/19/SpringSecurity/</url>
    <content><![CDATA[<h1 id="SpringSecurity"><a href="#SpringSecurity" class="headerlink" title="SpringSecurity"></a>SpringSecurity</h1><p>SpringSecurityæ˜¯ä¸€ä¸ªåŸºäºSpringå¼€å‘çš„éå¸¸å¼ºå¤§çš„æƒé™éªŒè¯æ¡†æ¶ï¼Œå…¶æ ¸å¿ƒåŠŸèƒ½åŒ…æ‹¬ï¼š</p>
<ul>
<li>è®¤è¯ ï¼ˆç”¨æˆ·ç™»å½•ï¼‰</li>
<li>æˆæƒ ï¼ˆæ­¤ç”¨æˆ·èƒ½å¤Ÿåšå“ªäº›äº‹æƒ…ï¼‰</li>
<li>æ”»å‡»é˜²æŠ¤ ï¼ˆé˜²æ­¢ä¼ªé€ èº«ä»½æ”»å‡»ï¼‰</li>
</ul>
<h2 id="è®¤è¯"><a href="#è®¤è¯" class="headerlink" title="è®¤è¯"></a>è®¤è¯</h2><h3 id="åŸºäºå†…å­˜éªŒè¯"><a href="#åŸºäºå†…å­˜éªŒè¯" class="headerlink" title="åŸºäºå†…å­˜éªŒè¯"></a>åŸºäºå†…å­˜éªŒè¯</h3><p>ç›´æ¥ä»¥ä»£ç çš„å½¢å¼é…ç½®æˆ‘ä»¬ç½‘ç«™çš„ç”¨æˆ·å’Œå¯†ç ï¼Œé…ç½®æ–¹å¼éå¸¸ç®€å•ï¼Œåªéœ€è¦åœ¨Securityé…ç½®ç±»ä¸­æ³¨å†Œä¸€ä¸ªBeanå³å¯ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span>   <span class="comment">//UserDetailsServiceå°±æ˜¯è·å–ç”¨æˆ·ä¿¡æ¯çš„æœåŠ¡</span></span><br><span class="line">    <span class="keyword">public</span> UserDetailsService <span class="title function_">userDetailsService</span><span class="params">()</span> &#123;</span><br><span class="line">      	<span class="comment">//æ¯ä¸€ä¸ªUserDetailså°±ä»£è¡¨ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯ï¼Œå…¶ä¸­åŒ…å«ç”¨æˆ·çš„ç”¨æˆ·åå’Œå¯†ç ä»¥åŠè§’è‰²</span></span><br><span class="line">        <span class="type">UserDetails</span> <span class="variable">user</span> <span class="operator">=</span> User.withDefaultPasswordEncoder()</span><br><span class="line">                .username(<span class="string">&quot;user&quot;</span>)</span><br><span class="line">                .password(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">                .roles(<span class="string">&quot;USER&quot;</span>)  <span class="comment">//è§’è‰²ç›®å‰æˆ‘ä»¬ä¸éœ€è¦å…³å¿ƒï¼Œéšä¾¿å†™å°±è¡Œï¼Œåé¢ä¼šä¸“é—¨è®²è§£</span></span><br><span class="line">                .build();</span><br><span class="line">        <span class="type">UserDetails</span> <span class="variable">admin</span> <span class="operator">=</span> User.withDefaultPasswordEncoder()</span><br><span class="line">                .username(<span class="string">&quot;admin&quot;</span>)</span><br><span class="line">                .password(<span class="string">&quot;password&quot;</span>)</span><br><span class="line">                .roles(<span class="string">&quot;ADMIN&quot;</span>, <span class="string">&quot;USER&quot;</span>)</span><br><span class="line">                .build();</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">InMemoryUserDetailsManager</span>(user, admin); </span><br><span class="line">      	<span class="comment">//åˆ›å»ºä¸€ä¸ªåŸºäºå†…å­˜çš„ç”¨æˆ·ä¿¡æ¯ç®¡ç†å™¨ä½œä¸ºUserDetailsService</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>withDefaultPasswordEncoder()è¢«å¼ƒç”¨ï¼Œç°åœ¨æ¨èä½¿ç”¨BCryptPasswordEncoder()ã€‚</p>
<h3 id="åŸºäºæ•°æ®åº“æ ¡éªŒ"><a href="#åŸºäºæ•°æ®åº“æ ¡éªŒ" class="headerlink" title="åŸºäºæ•°æ®åº“æ ¡éªŒ"></a>åŸºäºæ•°æ®åº“æ ¡éªŒ</h3><figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    <span class="comment">//æ‰‹åŠ¨åˆ›å»ºä¸€ä¸ªAuthenticationManagerç”¨äºå¤„ç†å¯†ç æ ¡éªŒ</span></span><br><span class="line">    <span class="keyword">private</span> AuthenticationManager <span class="title function_">authenticationManager</span><span class="params">(UserDetailsManager manager,</span></span><br><span class="line"><span class="params">                                                        PasswordEncoder encoder)</span>&#123;</span><br><span class="line">        <span class="type">DaoAuthenticationProvider</span> <span class="variable">provider</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">DaoAuthenticationProvider</span>();</span><br><span class="line">        provider.setUserDetailsService(manager);</span><br><span class="line">        provider.setPasswordEncoder(encoder);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ProviderManager</span>(provider);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> UserDetailsManager <span class="title function_">userDetailsService</span><span class="params">(DataSource dataSource,</span></span><br><span class="line"><span class="params">                                                 PasswordEncoder encoder)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">JdbcUserDetailsManager</span> <span class="variable">manager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JdbcUserDetailsManager</span>(dataSource);</span><br><span class="line">      	<span class="comment">//ä¸ºUserDetailsManagerè®¾ç½®AuthenticationManagerå³å¯å¼€å¯é‡ç½®å¯†ç çš„æ—¶çš„æ ¡éªŒ</span></span><br><span class="line">        manager.setAuthenticationManager(authenticationManager(manager, encoder));</span><br><span class="line">        <span class="keyword">return</span> manager;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="è‡ªå®šä¹‰éªŒè¯"><a href="#è‡ªå®šä¹‰éªŒè¯" class="headerlink" title="è‡ªå®šä¹‰éªŒè¯"></a>è‡ªå®šä¹‰éªŒè¯</h3><p>Serviceå†…å®¹</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AuthorizeService</span> <span class="keyword">implements</span> <span class="title class_">UserDetailsService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Resource</span></span><br><span class="line">    UserMapper mapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> UserDetails <span class="title function_">loadUserByUsername</span><span class="params">(String username)</span> <span class="keyword">throws</span> UsernameNotFoundException &#123;</span><br><span class="line">        <span class="type">Account</span> <span class="variable">account</span> <span class="operator">=</span> mapper.findUserByName(username);</span><br><span class="line">        <span class="keyword">if</span>(account == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">UsernameNotFoundException</span>(<span class="string">&quot;ç”¨æˆ·åæˆ–å¯†ç é”™è¯¯&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> User</span><br><span class="line">                .withUsername(username)</span><br><span class="line">                .password(account.getPassword())</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="è‡ªå®šä¹‰ç™»å½•é¡µé¢"><a href="#è‡ªå®šä¹‰ç™»å½•é¡µé¢" class="headerlink" title="è‡ªå®šä¹‰ç™»å½•é¡µé¢"></a>è‡ªå®šä¹‰ç™»å½•é¡µé¢</h2><p>é…ç½®config</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableWebSecurity</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SecurityConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">  	...</span><br><span class="line">  </span><br><span class="line">		<span class="comment">//å¦‚æœä½ å­¦ä¹ è¿‡SpringSecurity 5.Xç‰ˆæœ¬ï¼Œå¯èƒ½ä¼šå‘ç°æ–°ç‰ˆæœ¬çš„é…ç½®æ–¹å¼å®Œå…¨ä¸ä¸€æ ·</span></span><br><span class="line">    <span class="comment">//æ–°ç‰ˆæœ¬å…¨éƒ¨é‡‡ç”¨lambdaå½¢å¼è¿›è¡Œé…ç½®ï¼Œæ— æ³•å†ä½¿ç”¨ä¹‹å‰çš„and()æ–¹æ³•è¿›è¡Œè¿æ¥äº†</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> SecurityFilterChain <span class="title function_">filterChain</span><span class="params">(HttpSecurity http)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> http</span><br><span class="line">                <span class="comment">//ä»¥ä¸‹æ˜¯éªŒè¯è¯·æ±‚æ‹¦æˆªå’Œæ”¾è¡Œé…ç½®</span></span><br><span class="line">                .authorizeHttpRequests(auth -&gt; &#123;</span><br><span class="line">                    auth.anyRequest().authenticated();    <span class="comment">//å°†æ‰€æœ‰è¯·æ±‚å…¨éƒ¨æ‹¦æˆªï¼Œä¸€å¾‹éœ€è¦éªŒè¯</span></span><br><span class="line">                &#125;)</span><br><span class="line">                <span class="comment">//ä»¥ä¸‹æ˜¯è¡¨å•ç™»å½•ç›¸å…³é…ç½®</span></span><br><span class="line">                .formLogin(conf -&gt; &#123;</span><br><span class="line">                    conf.loginPage(<span class="string">&quot;/login&quot;</span>);   <span class="comment">//å°†ç™»å½•é¡µè®¾ç½®ä¸ºæˆ‘ä»¬è‡ªå·±çš„ç™»å½•é¡µé¢</span></span><br><span class="line">                    conf.loginProcessingUrl(<span class="string">&quot;/doLogin&quot;</span>); <span class="comment">//ç™»å½•è¡¨å•æäº¤çš„åœ°å€ï¼Œå¯ä»¥è‡ªå®šä¹‰</span></span><br><span class="line">                    conf.defaultSuccessUrl(<span class="string">&quot;/&quot;</span>);   <span class="comment">//ç™»å½•æˆåŠŸåè·³è½¬çš„é¡µé¢</span></span><br><span class="line">                    conf.permitAll();    <span class="comment">//å°†ç™»å½•ç›¸å…³çš„åœ°å€æ”¾è¡Œï¼Œå¦åˆ™æœªç™»å½•çš„ç”¨æˆ·è¿ç™»å½•ç•Œé¢éƒ½è¿›ä¸å»</span></span><br><span class="line">                  	<span class="comment">//ç”¨æˆ·åå’Œå¯†ç çš„è¡¨å•å­—æ®µåç§°ï¼Œä¸è¿‡é»˜è®¤å°±æ˜¯è¿™ä¸ªï¼Œå¯ä»¥ä¸é…ç½®ï¼Œé™¤éæœ‰ç‰¹æ®Šéœ€æ±‚</span></span><br><span class="line">                    conf.usernameParameter(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">                    conf.passwordParameter(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">                &#125;)</span><br><span class="line">                .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>é‡åˆ°<code>302</code>çœ‹æœ‰æ²¡æœ‰æ”¾è¡Œ</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="comment">//ä»¥ä¸‹æ˜¯csrfç›¸å…³é…ç½®</span></span><br><span class="line">               .csrf(conf -&gt; &#123;</span><br><span class="line">                   conf.disable();   <span class="comment">//æ­¤æ–¹æ³•å¯ä»¥ç›´æ¥å…³é—­å…¨éƒ¨çš„csrfæ ¡éªŒï¼Œä¸€æ­¥åˆ°ä½</span></span><br><span class="line">                   conf.ignoringRequestMatchers(<span class="string">&quot;/xxx/**&quot;</span>);   <span class="comment">//æ­¤æ–¹æ³•å¯ä»¥æ ¹æ®æƒ…å†µå¿½ç•¥æŸäº›åœ°å€çš„csrfæ ¡éªŒ</span></span><br><span class="line">               &#125;)</span><br><span class="line">               .build();</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>SpringSecurity</tag>
      </tags>
  </entry>
  <entry>
    <title>å•ä¾‹æ¨¡å¼ singleton</title>
    <url>/2024/04/18/%E7%AC%94%E8%AE%B02/</url>
    <content><![CDATA[<h2 id="å•ä¾‹æ¨¡å¼-singleton"><a href="#å•ä¾‹æ¨¡å¼-singleton" class="headerlink" title="å•ä¾‹æ¨¡å¼ singleton"></a>å•ä¾‹æ¨¡å¼ singleton</h2><p>IOCå®¹å™¨æ¯æ¬¡åˆ›å»ºbeanå¯¹è±¡ï¼Œéƒ½æ˜¯åŒä¸€ä¸ªã€‚</p>
<p>å½“Beançš„ä½œç”¨åŸŸä¸ºå•ä¾‹æ¨¡å¼æ—¶ï¼Œä»–ä¼šåœ¨ä¸€å¼€å§‹ï¼ˆå®¹å™¨åŠ è½½é…ç½®æ—¶ï¼‰å°±è¢«åˆ›å»ºï¼Œä¹‹åæ‹¿åˆ°çš„éƒ½æ˜¯è¿™ä¸ªå¯¹è±¡ã€‚ï¼ˆå¯ä»¥é…ç½®<strong>lazy</strong>æ‡’åŠ è½½ï¼Œä¸åœ¨ä¸€å¼€å§‹å°±åˆ›å»ºå¯¹è±¡ï¼‰</p>
<h2 id="åŸå‹æ¨¡å¼-prototype"><a href="#åŸå‹æ¨¡å¼-prototype" class="headerlink" title="åŸå‹æ¨¡å¼ prototype"></a>åŸå‹æ¨¡å¼ prototype</h2><p>æ¯æ¬¡è°ƒç”¨éƒ½æ–°å»ºä¸€ä¸ªå¯¹è±¡ã€‚</p>
<p>å¤„äºåŸå‹æ¨¡å¼æ—¶ï¼Œåªæœ‰åœ¨è¢«è·å–æ—¶æ‰ä¼šè¢«åˆ›å»ºï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œåœ¨å•ä¾‹æ¨¡å¼ä¸‹Beanä¼šè¢«IOCå®¹å™¨å­˜å‚¨ï¼Œåªè¦å®¹å™¨æ²¡æœ‰è¢«é”€æ¯ï¼Œé‚£ä¹ˆæ­¤å¯¹è±¡å°†ä¼šä¸€ç›´å­˜åœ¨ï¼Œè€ŒåŸå‹æ¨¡å¼æ‰ç›¸å½“äºåœ¨è¦ç”¨çš„æ—¶å€™ç›´æ¥newä¸€ä¸ªå¯¹è±¡ï¼Œå¹¶ä¸ä¼šè¢«ä¿å­˜ã€‚</p>
<h1 id="controlleræ§åˆ¶å™¨"><a href="#controlleræ§åˆ¶å™¨" class="headerlink" title="controlleræ§åˆ¶å™¨"></a>controlleræ§åˆ¶å™¨</h1><h2 id="RequestMapping"><a href="#RequestMapping" class="headerlink" title="@RequestMapping"></a>@RequestMapping</h2><p>@RequestMapping(â€œ&#x2F;indexâ€)å¯ä»¥å¤šä¸ªè·¯å¾„-&gt;@RequestMapping({â€œ&#x2F;indexâ€, â€œ&#x2F;helloâ€})</p>
<p>æ”¾åœ¨å½“å‰Controllerç±»åä¸Šæ—¶ï¼Œå½“å‰controllerä¸­çš„æ‰€æœ‰Mappingæ˜ å°„å‰é¢éƒ½éœ€è¦åŠ ä¸€ä¸ªè¿™ä¸ªè·¯å¾„ã€‚</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/yyds&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(&#123;&quot;/index&quot;, &quot;/test&quot;&#125;)</span></span><br><span class="line">    <span class="keyword">public</span> ModelAndView <span class="title function_">index</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ModelAndView</span>(<span class="string">&quot;index&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>è·¯å¾„è¿˜æ”¯æŒä½¿ç”¨é€šé…ç¬¦è¿›è¡ŒåŒ¹é…ï¼š</p>
<ul>
<li><p>?ï¼šè¡¨ç¤ºä»»æ„ä¸€ä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚<code>@RequestMapping(&quot;/index/x?&quot;)</code>å¯ä»¥åŒ¹é…&#x2F;index&#x2F;xaã€&#x2F;index&#x2F;xbç­‰ç­‰ã€‚</p>
</li>
<li><p>*ï¼šè¡¨ç¤ºä»»æ„0-nä¸ªå­—ç¬¦ï¼Œæ¯”å¦‚<code>@RequestMapping(&quot;/index/*&quot;)</code>å¯ä»¥åŒ¹é…&#x2F;index&#x2F;lbwnbã€&#x2F;index&#x2F;yydsç­‰ã€‚</p>
</li>
<li><p>**ï¼šè¡¨ç¤ºå½“å‰ç›®å½•æˆ–åŸºäºå½“å‰ç›®å½•çš„å¤šçº§ç›®å½•ï¼Œæ¯”å¦‚<code>@RequestMapping(&quot;/index/**&quot;)</code>å¯ä»¥åŒ¹é…&#x2F;indexã€&#x2F;index&#x2F;xxxç­‰ã€‚</p>
<p>RequestMappingå¯ä»¥åœ¨å†…éƒ¨è®¾ç½®methodæ¥å®šä¹‰å…è®¸è®¿é—®çš„ç±»å‹ã€‚ä¹Ÿå¯ä»¥ç›´æ¥æ˜ç¡®ä¹¦å†™ @PostMappingæˆ–@GetMappingã€@DeletedMappingç­‰</p>
<h2 id="RequestParamå’Œ-RequestHeader"><a href="#RequestParamå’Œ-RequestHeader" class="headerlink" title="@RequestParamå’Œ@RequestHeader"></a>@RequestParamå’Œ@RequestHeader</h2><p>è·å–è¯·æ±‚ä¸­çš„å‚æ•°ï¼Œåªéœ€è¦åœ¨æ–¹æ³•ä¸Šæ·»åŠ ä¸€ä¸ªå½¢å‚ï¼Œå½¢å‚å‰é¢åŠ ä¸Š@RequestParamï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(value = &quot;/index&quot;)</span></span><br><span class="line"><span class="keyword">public</span> ModelAndView <span class="title function_">index</span><span class="params">(<span class="meta">@RequestParam(&quot;username&quot;)</span> String username)</span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>æˆ‘ä»¬éœ€è¦åœ¨<code>@RequestParam</code>ä¸­å¡«å†™å‚æ•°åç§°ï¼Œå‚æ•°çš„å€¼ä¼šè‡ªåŠ¨ä¼ é€’ç»™å½¢å¼å‚æ•°ï¼Œæˆ‘ä»¬å¯ä»¥ç›´æ¥åœ¨æ–¹æ³•ä¸­ä½¿ç”¨ï¼Œæ³¨æ„ï¼Œå¦‚æœå‚æ•°åç§°ä¸å½¢å¼å‚æ•°åç§°ç›¸åŒï¼Œå³ä½¿ä¸æ·»åŠ <code>@RequestParam</code>ä¹Ÿèƒ½è·å–åˆ°å‚æ•°å€¼ã€‚</p>
</blockquote>
</li>
</ul>
<p>ä¸€æ—¦æ·»åŠ <code>@RequestParam</code>ï¼Œé‚£ä¹ˆæ­¤è¯·æ±‚å¿…é¡»æºå¸¦æŒ‡å®šå‚æ•°ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥å°†requireå±æ€§è®¾å®šä¸ºfalseæ¥å°†å±æ€§è®¾å®šä¸ºéå¿…é¡»ã€‚</p>
<h2 id="RestFulé£æ ¼"><a href="#RestFulé£æ ¼" class="headerlink" title="RestFulé£æ ¼"></a>RestFulé£æ ¼</h2><p>ä¸­æ–‡é‡Šä¹‰ä¸º<strong>â€œè¡¨ç°å±‚çŠ¶æ€è½¬æ¢â€</strong>ï¼ˆåå­—æŒºé«˜å¤§ä¸Šçš„ï¼‰ï¼Œå®ƒä¸æ˜¯ä¸€ç§æ ‡å‡†ï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡é£æ ¼ã€‚å®ƒçš„ä¸»è¦ä½œç”¨æ˜¯å……åˆ†å¹¶æ­£ç¡®åˆ©ç”¨HTTPåè®®çš„ç‰¹æ€§ï¼Œè§„èŒƒèµ„æºè·å–çš„URIè·¯å¾„ã€‚é€šä¿—çš„è®²ï¼ŒRESTfulé£æ ¼çš„è®¾è®¡å…è®¸å°†å‚æ•°é€šè¿‡URLæ‹¼æ¥ä¼ åˆ°æœåŠ¡ç«¯ï¼Œç›®çš„æ˜¯è®©URLçœ‹èµ·æ¥æ›´ç®€æ´å®ç”¨ï¼Œå¹¶ä¸”æˆ‘ä»¬å¯ä»¥å……åˆ†ä½¿ç”¨å¤šç§HTTPè¯·æ±‚æ–¹å¼ï¼ˆPOST&#x2F;GET&#x2F;PUT&#x2F;DELETEï¼‰ï¼Œæ¥æ‰§è¡Œç›¸åŒè¯·æ±‚åœ°å€çš„ä¸åŒç±»å‹æ“ä½œã€‚</p>
<p>è¿™ç§é£æ ¼çš„è¿æ¥ï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥ä»è¯·æ±‚è·¯å¾„ä¸­è¯»å–å‚æ•°ï¼Œæ¯”å¦‚ï¼š</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">http://localhost:8080/mvc/index/123456</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥ç›´æ¥å°†indexçš„ä¸‹ä¸€çº§è·¯å¾„ä½œä¸ºè¯·æ±‚å‚æ•°è¿›è¡Œå¤„ç†ï¼Œä¹Ÿå°±æ˜¯è¯´ç°åœ¨çš„è¯·æ±‚å‚æ•°åŒ…å«åœ¨äº†è¯·æ±‚è·¯å¾„ä¸­ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@RequestMapping(&quot;/index/&#123;str&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">index</span><span class="params">(<span class="meta">@PathVariable</span> String str)</span> &#123;</span><br><span class="line">    System.out.println(str);</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>æˆ‘ä»¬å¯ä»¥æŒ‰ç…§ä¸åŒåŠŸèƒ½è¿›è¡Œåˆ’åˆ†ï¼š</p>
<ul>
<li>POST <a href="http://localhost:8080/mvc/index">http://localhost:8080/mvc/index</a> -  æ·»åŠ ç”¨æˆ·ä¿¡æ¯ï¼Œæºå¸¦è¡¨å•æ•°æ®</li>
<li>GET <a href="http://localhost:8080/mvc/index/%7Bid%7D">http://localhost:8080/mvc/index/{id}</a> -  è·å–ç”¨æˆ·ä¿¡æ¯ï¼Œidç›´æ¥æ”¾åœ¨è¯·æ±‚è·¯å¾„ä¸­</li>
<li>PUT <a href="http://localhost:8080/mvc/index">http://localhost:8080/mvc/index</a> -  ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯ï¼Œæºå¸¦è¡¨å•æ•°æ®</li>
<li>DELETE <a href="http://localhost:8080/mvc/index/%7Bid%7D">http://localhost:8080/mvc/index/{id}</a> -  åˆ é™¤ç”¨æˆ·ä¿¡æ¯ï¼Œidç›´æ¥æ”¾åœ¨è¯·æ±‚è·¯å¾„ä¸­</li>
</ul>
<p>æˆ‘ä»¬åˆ†åˆ«ç¼–å†™å››ä¸ªè¯·æ±‚æ˜ å°„ï¼š</p>
<figure class="highlight java"><table><tr><td class="code"><pre><span class="line"><span class="meta">@Controller</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MainController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/index/&#123;id&#125;&quot;, method = RequestMethod.GET)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">get</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> String text)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è·å–ç”¨æˆ·ï¼š&quot;</span>+text);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/index&quot;, method = RequestMethod.POST)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">post</span><span class="params">(String username)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ·»åŠ ç”¨æˆ·ï¼š&quot;</span>+username);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/index/&#123;id&#125;&quot;, method = RequestMethod.DELETE)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">delete</span><span class="params">(<span class="meta">@PathVariable(&quot;id&quot;)</span> String text)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åˆ é™¤ç”¨æˆ·ï¼š&quot;</span>+text);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@RequestMapping(value = &quot;/index&quot;, method = RequestMethod.PUT)</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">put</span><span class="params">(String username)</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ä¿®æ”¹ç”¨æˆ·ï¼š&quot;</span>+username);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;index&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>æ•™ç¨‹</tag>
      </tags>
  </entry>
  <entry>
    <title>IOCï¼ˆå¯¹è±¡çš„åˆ›å»ºæƒï¼‰</title>
    <url>/2023/11/20/IOC%EF%BC%88%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%88%9B%E5%BB%BA%E6%9D%83%EF%BC%89/</url>
    <content><![CDATA[<h2 id="IOCï¼ˆå¯¹è±¡çš„åˆ›å»ºæƒï¼‰"><a href="#IOCï¼ˆå¯¹è±¡çš„åˆ›å»ºæƒï¼‰" class="headerlink" title="IOCï¼ˆå¯¹è±¡çš„åˆ›å»ºæƒï¼‰"></a>IOCï¼ˆå¯¹è±¡çš„åˆ›å»ºæƒï¼‰</h2><p>åˆ›å»ºå¤šä¸ªBeanæ¥ç®¡ç†ç±»ï¼Œæ–°å»ºä¸€ä¸ªå®¹å™¨ç”¨æ¥å­˜æ”¾Beansï¼Œæ¯æ¬¡è¦ä½¿ç”¨å“ªä¸ªç±»ï¼Œé€šè¿‡ç±»idå»å®¹å™¨é‡Œé¢ä½¿ç”¨å¯¹åº”çš„beanåˆ›å»ºç±»ã€‚</p>
<p>å®ç°äº†æ§åˆ¶åè½¬ï¼Œå°†åŸæ¥æ‰‹åŠ¨åˆ›å»ºç±»å˜æˆäº†äº¤ç»™å®¹å™¨åˆ›å»ºã€‚</p>
<h3 id="scope"><a href="#scope" class="headerlink" title="scope"></a>scope</h3><p>singletonå’Œprototype</p>
<p>singleton(å•ä¾‹æ¨¡å¼):ä½¿ç”¨è¿™ä¸ªæ¨¡å¼çš„Beanåˆ›å»ºå‡ºæ¥çš„å¯¹è±¡æ¯æ¬¡å°±ä¸€ä¸ªï¼Œåˆ›å»ºå¤šæ¬¡éƒ½æ˜¯åŒä¸€ä¸ªã€‚</p>
<p>prototype(å¤šä¾‹æ¨¡å¼):ä½¿ç”¨è¿™ä¸ªæ¨¡å¼çš„Beanæ¯æ¬¡åˆ›å»ºå¯¹è±¡éƒ½æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</p>
<h2 id="DIï¼ˆå¯¹è±¡çš„ç»´æŠ¤æƒï¼‰"><a href="#DIï¼ˆå¯¹è±¡çš„ç»´æŠ¤æƒï¼‰" class="headerlink" title="DIï¼ˆå¯¹è±¡çš„ç»´æŠ¤æƒï¼‰"></a>DIï¼ˆå¯¹è±¡çš„ç»´æŠ¤æƒï¼‰</h2>]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>æ•™ç¨‹</tag>
        <tag>IoC</tag>
        <tag>Spring</tag>
      </tags>
  </entry>
  <entry>
    <title>ä¼˜å…ˆé˜Ÿåˆ—</title>
    <url>/2023/10/18/%E7%AC%94%E8%AE%B01/</url>
    <content><![CDATA[<p><code>class Solution &#123;</code><br>  <code>public long maxKelements(int[] nums, int k) &#123;</code><br><code>â€‹    PriorityQueue&lt;Integer&gt; q = new PriorityQueue&lt;Integer&gt;((a,b) -&gt; b - a);</code><br><code>â€‹    for(int num : nums)&#123;</code><br><code>â€‹      q.offer(num);</code><br><code>â€‹    &#125;</code><br><code>â€‹    long ans = 0;</code><br><code>â€‹    for(int i = 0; i &lt; k ; i++)&#123;</code><br><code>â€‹      int x = q.poll();</code><br><code>â€‹      ans += x;</code><br><code>â€‹      q.offer((x+2) / 3);</code><br><code>â€‹    &#125;</code><br><code>â€‹    return ans;</code><br>  <code>&#125;</code><br><code>&#125;</code></p>
<h3 id="ProiorityQueue-q-ä¼˜å…ˆé˜Ÿåˆ—"><a href="#ProiorityQueue-q-ä¼˜å…ˆé˜Ÿåˆ—" class="headerlink" title="ProiorityQueue q ä¼˜å…ˆé˜Ÿåˆ—"></a>ProiorityQueue<T> q ä¼˜å…ˆé˜Ÿåˆ—</h3><p>ä¿ç•™äº†é˜Ÿåˆ—å…ˆè¿›å…ˆå‡ºçš„æ€§è´¨ï¼Œå¦å¤–å¯ä»¥é€šè¿‡æ·»åŠ æ¡ä»¶æ¥ä½¿ç‰¹å®šçš„å…ƒç´ å­˜å‚¨åœ¨æœ€å‰é¢ã€‚</p>
<p>ï¼ˆaï¼Œbï¼‰ -&gt; b - a  å¦‚æœa&lt;båˆ™b-aä¸ºæ­£æ•°ä¸ºçœŸï¼Œåˆ™ç¬¦åˆæ¡ä»¶ã€‚ç”¨æ¥è®¾ç½®è¿™ä¸ªé˜Ÿåˆ—ä¸­æŒ‰ç…§ä»å¤§åˆ°å°æ’åˆ—ã€‚</p>
<p>String.valueOf(); å¯ä»¥å°†å¯¹è±¡è½¬æ¢ä¸ºStringç±»å‹</p>
]]></content>
      <categories>
        <category>å­¦ä¹ </category>
      </categories>
      <tags>
        <tag>Java</tag>
        <tag>æ•™ç¨‹</tag>
        <tag>ä¼˜å…ˆé˜Ÿåˆ—</tag>
      </tags>
  </entry>
</search>
